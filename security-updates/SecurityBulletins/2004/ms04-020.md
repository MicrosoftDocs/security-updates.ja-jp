---
TOCTitle: 'MS04-020'
Title: 'マイクロソフト セキュリティ情報 MS04-020 - 重要'
ms:assetid: 'ms04-020'
ms:contentKeyID: 61228668
ms:mtpsurl: 'https://technet.microsoft.com/ja-JP/library/ms04-020(v=Security.10)'
---



マイクロソフト セキュリティ情報 MS04-020 - 重要
===============================================

POSIX の脆弱性により、コードが実行される (841872)
-------------------------------------------------

公開日: 2004年7月14日 | 最終更新日: 2004年8月11日

[](https://www.microsoft.com/japan/security/bulletins/ms04-020e.mspx)

#### 概要 :

**このセキュリティ情報の対象となるユーザー** **:** Microsoft® Windows® 2000 または Windows NT 4.0 を使用しているお客様

**脆弱性の影響** **:** ローカルでの特権の昇格

**最大深刻度** **:** 重要

**推奨する対応策** **:** お客様はこのセキュリティ更新プログラムを可能な限り早期にインストールして下さい。

**含まれる過去の更新プログラム** **:** なし

**警告** **:** なし

**テストしたソフトウェアおよびセキュリティ更新プログラムのダウンロード先** **:**

**影響を受けるソフトウェア** **:**

|                                                                                                                                                                                                         | PC/AT                                                                                                                                                                                             | PC-9800                                                                                                                                                                                               |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Microsoft INTERIX® 2.2 (この製品は英語版のみの製品です。)                                                                                                                                               | [![](../../images/Dn636391.dl_arrow(ja-JP,Security.10).jpg)](https://www.microsoft.com/download/details.aspx?familyid=0a480feb-209e-4ad9-ba9a-d00a30cf5331&displaylang=en) | -                                                                                                                                                                                                     |
| Microsoft Windows NT® Workstation 4.0 Service Pack 6a![](../../images/Dn636391.mu_s(ja-JP,Security.10).gif)                                                                      | [![](../../images/Dn636391.dl_arrow(ja-JP,Security.10).jpg)](https://www.microsoft.com/download/details.aspx?familyid=25993f70-191b-4e35-aa1b-0aa1a7027880&displaylang=ja) | [![](../../images/Dn636391.dl_arrow(ja-JP,Security.10).jpg)](https://www.microsoft.com/download/details.aspx?familyid=25993f70-191b-4e35-aa1b-0aa1a7027880&displaylang=ja-nec) |
| Microsoft Windows NT Server 4.0 Service Pack 6a![](../../images/Dn636391.mu_s(ja-JP,Security.10).gif)                                                                            | [![](../../images/Dn636391.dl_arrow(ja-JP,Security.10).jpg)](https://www.microsoft.com/download/details.aspx?familyid=c2018a81-446c-4930-a6cc-ea5b5960ff05&displaylang=ja) | [![](../../images/Dn636391.dl_arrow(ja-JP,Security.10).jpg)](https://www.microsoft.com/download/details.aspx?familyid=c2018a81-446c-4930-a6cc-ea5b5960ff05&displaylang=ja-nec) |
| Microsoft Windows NT Server 4.0, Terminal Server Edition Service Pack 6                                                                                                                                 | [![](../../images/Dn636391.dl_arrow(ja-JP,Security.10).jpg)](https://www.microsoft.com/download/details.aspx?familyid=9cfc4af3-b0bc-4798-bc23-f45739e3b802&displaylang=ja) | -                                                                                                                                                                                                     |
| Microsoft Windows 2000 Service Pack 2、Microsoft Windows 2000 Service Pack 3、および Microsoft Windows 2000 Service Pack 4![](../../images/Dn636391.mu_s(ja-JP,Security.10).gif) | [![](../../images/Dn636391.dl_arrow(ja-JP,Security.10).jpg)](https://www.microsoft.com/download/details.aspx?familyid=05203a7e-4a11-4f88-aa73-75a6c81466b8&displaylang=ja) | [![](../../images/Dn636391.dl_arrow(ja-JP,Security.10).jpg)](https://www.microsoft.com/download/details.aspx?familyid=05203a7e-4a11-4f88-aa73-75a6c81466b8&displaylang=ja-nec) |

![](../../images/Dn636391.dl_arrow(ja-JP,Security.10).jpg)このマークをクリックして、PC/AT 互換機用または NEC PC-9800 シリーズ用の更新プログラムをダウンロードしてください。
更新プログラムをダウンロードおよびインストールする方法は、[更新プログラムのダウンロード方法](https://www.microsoft.com/japan/security/bulletins/dcsteps_vista.mspx)および[更新プログラムのインストール方法](https://www.microsoft.com/japan/security/bulletins/instsecupdate_vista.mspx)をご覧ください。

![](../../images/Dn636391.mu_s(ja-JP,Security.10).gif)このマークの付いている更新プログラムは [Microsoft Update](https://update.microsoft.com/microsoftupdate/) からインストールすることもできます。
Microsoft Update の利用方法については以下のサイトを参照してください。

-   Microsoft Update 利用の手順    
    <https://www.microsoft.com/japan/athome/security/update/j_musteps.mspx>

**影響を受けないソフトウェア** **:**

|                                                                                                                 |
|-----------------------------------------------------------------------------------------------------------------|
| Microsoft Windows XP および Microsoft Windows XP Service Pack 1                                                 |
| Microsoft Windows XP 64-Bit Edition Service Pack 1                                                              |
| Microsoft Windows XP 64-Bit Edition Version 2003                                                                |
| Microsoft Windows Server™ 2003                                                                                  |
| Microsoft Windows Server 2003 64-Bit Edition                                                                    |
| Microsoft Windows 98、Microsoft Windows 98 Second Edition (SE) および Microsoft Windows Millennium Edition (Me) |

上記のソフトウェアのテストを行い、この脆弱性による影響を評価しました。それ以前のバージョンに関してはサポートの対象となっていないため、この脆弱性による影響は不明です。ご使用中の製品およびバージョンのサポートライフ サイクルを確認するためには、[マイクロソフト サポート ライフサイクル](https://support.microsoft.com/lifecycle/)の Web サイトをご覧下さい。

### 詳細

要点
----


この更新プログラムは新たに確認され、非公開で報告されたいくつかの脆弱性を解決します。[特権の昇格](https://www.microsoft.com/japan/security/glossary.mspx)が POSIX のオペレーティング システム コンポーネント (サブシステム) に存在します。この脆弱性はこのセキュリティ情報の「脆弱性の詳細」に説明されています。

この脆弱性で、プログラムのインストール、データの表示、変更、削除、または完全な特権を持つ新しいアカウントの作成など、影響を受けるコンピュータが攻撃者により完全に制御される可能性があります。

マイクロソフトはこの更新プログラムを可能な限り早期にインストールすることを推奨します。

**深刻度および脆弱性識別番号** **:**

| 脆弱性識別番号                                                                                    | 脆弱性の影響 | Windows NT 4.0 | Windows 2000 |
|---------------------------------------------------------------------------------------------------|--------------|----------------|--------------|
| POSIX の脆弱性 - [CAN-2004-0210](https://www.cve.mitre.org/cgi-bin/cvename.cgi?name=can-2004-0210) | 特権の昇格   | 重要           | 重要         |

この[評価](https://technet.microsoft.com/security/bulletin/rating)はこの脆弱性の影響を受けるシステムの種類、システムの典型的な展開形態およびこの脆弱性がシステムに及ぼす影響に基づいています。

このセキュリティ更新プログラムに関するよく寄せられる質問
--------------------------------------------------------


**なぜ、このセキュリティ情報は更新されたのですか?**

2004 年 8 月 11 日、マイクロソフトはこのセキュリティ情報を再リリースし、Microsoft INTERIX 2.2 用のセキュリティ更新プログラムが利用可能となったことをお知らせしました。このセキュリティ情報のリリース後、解決された脆弱性が Microsoft INTERIX 2.2 にも影響を及ぼすことが確認されました。マイクロソフトは、Microsoft INTERIX 2.2 に関する情報を追加し、この製品用の更新プログラムについてお客様にお知らせするために、このセキュリティ情報を更新しました。Microsoft INTERIX 2.2 を使用しておらず、この最初のセキュリティ情報が最初にリリース (2004 年 7 月 14 日) された時に提供されたセキュリティ更新プログラムを以前にインストールしたお客様は、この新しいセキュリティ更新プログラムをインストールする必要はありません。

**Microsoft Windows NT 4.0 Workstation Service Pack 6a** **または** **Windows 2000 Service Pack 2** **を現在でも使用していますが、延長されたセキュリティ更新プログラムのサポートは** **2004** **年** **6** **月** **30** **日に終了しました。しかし、このセキュリティ情報では、なぜこれらのオペレーティングシステムのバージョンにセキュリティ更新プログラムが提供されているのですか?**

Windows NT 4.0 Workstation Service Pack 6a および Windows 2000 Service Pack 2 は以前よりご説明しておりますとおり、ライフサイクルは終了しました。また、マイクロソフトはこのサポートを 2004 年 6 月 30 日まで延長しました。しかし、延長サポート期間の終了はごく最近のものです。今回のケースでは、この脆弱性を解決するために必要なステップのほとんどが、 2004 年 6 月 30 日以前に完了しました。このため、マイクロソフトは、このセキュリティ情報の一部としてこれらのオペレーティング システム用のセキュリティ更新プログラムのリリースを決定しました。マイクロソフトは、今後これらのオペレーティング システムに影響を及ぼす脆弱性に対し、このような対応を予定していませんが、必要であると判断した場合、更新プログラムの開発および利用可能とする権利を保留としています。

今後の脆弱性の影響を受ける可能性を防ぐため、これらのオペレーティング システムを使用しているお客様は、サポート対象となっているバージョンに移行する必要があります。Windows 製品ライフ サイクルに関する詳細情報は、[マイクロソフト サポート ライフサイクルの Web サイト](https://support.microsoft.com/lifecycle/)をご覧下さい。これらのオペレーティング システムのバージョンについて、延長されたセキュリティ更新プログラムのサポート期間に関する詳細情報は、[Microsoft Product Support Services Web サイト](https://support.microsoft.com/gp/lifeanoct2003) をご覧下さい。

Windows NT Workstation 4.0 SP6a の追加サポート（カスタムサポート）が必要なお客様は、担当営業または、担当テクニカル アカウント マネージャ (TAM) までご連絡ください。プレミア契約をお持ちでないお客様は、マイクロソフトサポート契約センター（営業時間　9:30-12:00 13:00-19:00 土日祝祭日を除く TEL:0120-17-0196 FAX:03-5388-8253）までお問い合わせください。

詳細情報は、[Windows Operating System FAQ](https://support.microsoft.com/gp/lifewinfaq) をご覧下さい。

**Microsoft Baseline Security Analyzer (MBSA)** **を使用して、この更新プログラムが必要であるかどうかを確認することはできますか?**

はい、できます。MBSA はこの更新プログラムが必要であるかどうかを確認します。MSBA に関する詳細情報は、[MBSA Web サイト](https://technet.microsoft.com/ja-jp/security/cc184924.aspx)をご覧下さい。


**注** **:** 2004 年 7 月 14 日 をもって、以前のバージョンの SMS 2.0 Software Update Services Feature Pack、 SMS 2003 Software Update Scanning Tools、MBSA 1.1.1 および、それ以前のバージョンによって使用される Mssecure.xml ファイルの更新を終了するため、2004 年 7 月 15 日以降、新たなセキュリティ情報のデータで更新されていません。 そのため、2004 年 7 月 15 日以降、MBSA 1.1.1 またはそれ以前のバージョンのデータで行われるスキャンは、不完全となる場合がございます。 MBSA 1.2 でより正確なセキュリティ更新プログラムの検出が行われ、サポートされる製品もより多いため、すべてのユーザーは、MBSA 1.2 にアップグレードをすることを推奨いたします。MBSA 1.2 は、[MBSA Web サイト](https://technet.microsoft.com/ja-jp/security/cc184924.aspx) からダウンロードすることができます。MBSA のサポートに関する詳細は、[Microsoft Baseline Security Analyzer (MBSA) Version 1.2 Q&A](https://technet.microsoft.com/ja-jp/security/cc184924.aspx) をご覧ください。

**Systems Management Server (SMS)** **を使用して、この累積的な更新プログラムが必要であるかどうかを確認することはできますか?**

はい、できます。SMS はこのセキュリティ更新プログラムの検出および適用の手助けとなります。SMS に関する情報は、[SMS の Web サイト](https://www.microsoft.com/japan/smserver/default.mspx)をご覧下さい。

脆弱性の詳細
------------


#### POSIX の脆弱性 - CAN-2004-0210:

[特権の昇格](https://www.microsoft.com/japan/security/glossary.mspx)が POSIX のサブシステムに存在します。この脆弱性で、ログオンしているユーザーにより、コンピュータの完全な制御が取得される可能性があります。

#### 「POSIX の脆弱性」の問題を緩和する要素 - CAN-2004-0210:

-   この脆弱性が悪用されるには、有効なログオン資格情報を所有し、ローカルでログオンできることが攻撃者にとっての必要条件となります。この脆弱性はリモート、または匿名ユーザーにより悪用されることはないと考えられます。
-   Windows XP および Windows Server 2003 はこの脆弱性による影響を受けません。

#### 「POSIX の脆弱性」のよく寄せられる質問 - CAN-2004-0210:

**どのようなことが起こる可能性がありますか?**

これは[特権の昇格](https://www.microsoft.com/japan/security/glossary.mspx)の脆弱性です。この脆弱性で、プログラムのインストール、データの表示、変更、削除、完全な特権を持つ新しいアカウントの作成など、攻撃者により影響を受けるコンピュータで完全な制御が取得される可能性があります。

**何が原因で起こりますか?**

POSIX サブシステムに未チェックのバッファが含まれるため、この脆弱性が起こります。

**POSIX** **サブシステムとは何ですか?**

Portable Operating System Interface for UNIX (POSIX) 標準用に作成されているアプリケーションは Windows NT 4.0 および Windows 2000 で実行することができます。これらのオペレーティング システムは、これらが処理されるようにデザインされている環境をエミュレートすることにより、標準以外のアプリケーションへのサポートを提供します。このサポートは環境サブシステムを介し提供されます。Microsoft Win32 サブシステム (これは Windows の標準環境です) を除き、各環境はオプションであり、クライアント アプリケーションがそのサービスを必要とする場合のみ使用されます。POSIX に関する詳細情報は、次の [Web サイト](https://technet2.microsoft.com/windowsserver/ja/library/bce9d090-69f5-40a9-8128-0872f6b3b3981041.mspx) (英語情報) をご覧下さい。

**この脆弱性により、攻撃者は何を行う可能性がありますか?**

この脆弱性で、攻撃者により影響を受けるコンピュータで完全な制御が取得される可能性があります。

**どのような人物により、この脆弱性が悪用される可能性がありますか?**

この脆弱性が悪用されるには、POSIX サブシステムが有効となっているコンピュータにローカルでログオンできることが攻撃者にとっての必要条件となります。

**攻撃者はどのようにこの脆弱性を悪用する可能性がありますか?**

この脆弱性が悪用されるには、まずコンピュータにログオンすることが攻撃者にとっての必要条件となります。次にこの脆弱性の悪用を意図した特別な細工がされたプログラムが実行される可能性があります。これにより、攻撃者は影響を受けるコンピュータで完全な制御を取得する可能性があります。

**主にどのようなコンピュータがこの脆弱性による危険にさらされますか?**

Windows NT 4.0 および Windows 2000 コンピュータがこの脆弱性による危険にさらされます。Windows XP および Windows Server 2003 には POSIX サブシステムが含まれません。Windows XP および Windows Server 2003 での POSIX のサポートに関する詳細情報は、マイクロソフトサポート技術情報 [308259](https://support.microsoft.com/kb/308259) をご覧下さい。

ワークステーションおよびターミナル サーバーが主にこの脆弱性による危険にさらされます。サーバーは、充分な管理者資格情報を持たないユーザーにサーバーにログオンし、プログラムを実行する権限が与えられている場合のみ、危険にさらされます。しかし、セキュリティ上の最善策として、このようなユーザーにこれらの権限を与えないことが強く推奨されています。

**この脆弱性がインターネットで悪用される可能性はありますか?**

いいえ。攻撃の標的となる特定のコンピュータにログオンできることが、攻撃者にとっての必要条件となります。この脆弱性が悪用された場合でも、攻撃者により、リモートでプログラムが読み込まれ、実行されることはありません。

**更新プログラムは何を変更しますか?**

この更新プログラムは POSIX サブシステムがメッセージを割り当てられたバッファに渡す前に、そのメッセージの長さを検証する方法を変更することにより、この脆弱性を排除します。

**このセキュリティ情報のリリース時に、この脆弱性は一般に公開されていたのですか?**

いいえ。マイクロソフトは信頼される情報元からこの脆弱性に関する情報を受けました。マイクロソフトはこのセキュリティ情報が最初にリリースされた時に、この脆弱性に関する情報が公開されていたことを示す情報を受けていませんでした。

**このセキュリティ情報のリリース時に、マイクロソフトはこの脆弱性が悪用されたという報告を受けていましたか?**

いいえ。マイクロソフトはこの脆弱性が悪用され、お客様が攻撃されたということを示す情報は受けていませんでした。また、このセキュリティ情報が最初にリリースされた時に、公開された検証用コードのいかなる例の存在も確認していませんでした。

#### 「POSIX の脆弱性」の回避策 - CAN-2004-0210:

マイクロソフトは次の回避策のテストを行ないました。これらの回避策は根本的な脆弱性を修正しませんが、既知の攻撃の方法を阻止する手助けとなります。回避策は機能の低下の原因となる場合もあります。その場合、下記に記します。

-   **レジストリを介し** **POSIX** **サブシステムを無効にする**

    この回避策はマイクロソフト サポート技術情報 [101270](https://support.microsoft.com/kb/101270) に記載されています。このサポート技術情報の要約は次の通りです。

    次のステップは POSIX サブシステムを無効にする方法を説明しています。

    
**注** **:** レジストリ エディタを不正確に使用すると、オペレーティング システムの再インストールが必要となる深刻な問題が発生します。マイクロソフトは不正確なレジストリ エディタの使用が原因となる問題の解決は保証できません。自己の責任において、レジストリ エディタを使用して下さい。

レジストリの編集方法に関する情報は、レジストリ エディタ (Regedit.exe) の 「キーと値を変更する」 のヘルプのトピックまたは Regedt32.exe の 「レジストリの情報を追加または削除する」 および 「レジストリ情報を編集する」 のヘルプのトピックをご覧下さい。

**注** **:** マイクロソフトはレジストリを編集する前に、それをバック アップすることを推奨します。  

1.  **\[スタート\]** をクリックし、**\[ファイル名を指定して実行\]** をクリックします**"regedt32"** と入力します(ダブルクォーテーションは必要ありません)。次に **\[OK\]** をクリックします
2.  レジストリ エディタで、次のレジストリ キーを探します

HKEY\_LOCAL\_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Session Manager\\Subsystems\\Posix

3.  Posix データ値をクリックし、**\[編集\]** メニューをクリックします。次に **\[削除\]** をクリックします  
4.  **\[OK\]** をクリックして削除を確認し、コンピュータを再起動します

**注:** POSIX サブシステムを有効にするためには、レジストリ キーを再作成して下さい。たとえば、レジストリ キーの名前が Posix である場合、レジストリ キーの種類は **REG\_EXPAND\_SZ** で、レジストリ キーの値は **%SystemRoot%\\system32\\psxss.exe** です。これを行った後、コンピュータを再起動して下さい。

**回避策の影響：** POSIX プログラムは POSIX サブシステムが有効になるまで無効です。

セキュリティ更新プログラムに関する情報
--------------------------------------


以下の情報の中から、ご使用のプラットフォーム向けのセキュリティ更新プログラムに関する情報をご覧ください。

#### Windows 2000 (すべてのバージョン):

**必要条件**

Windows 2000 用のセキュリティ更新プログラムは Service Pack 2 (SP2)、Service Pack 3 (SP3) または Service Pack 4 (SP4) を実行している必要があります。

上記のソフトウェアのテストを行い、この脆弱性による影響を評価しました。それ以前のバージョンに関してはサポートの対象となっていないため、この脆弱性による影響は不明です。ご使用中の製品およびバージョンのサポート ライフ サイクルを確認するためには、[マイクロソフト サポート ライフサイクル](https://support.microsoft.com/lifecycle/) の Web サイトをご覧下さい。

最新のサービス パックの入手方法に関する詳細情報については、次のマイクロソフト サポート技術情報をご覧下さい。

[260910](https://support.microsoft.com/kb/260910) 最新の Windows 2000 Service Pack の入手方法

**今後リリースされるサービスパックに含まれる更新プログラム** **:**

これらの問題に対する更新プログラムは Windows 2000 Service Pack 5 に含まれる予定です。

**インストール情報** **:**

このセキュリティ更新プログラムは次のセットアップ スイッチをサポートします。

**/help:** インストール スイッチの一覧を表示します 
 
**セットアップモード**  
**/quiet:** 自動モード (ユーザー入力を必要としません。表示もしません)
**/passive:** 無人モード (進行状況バーのみ)  
**/uninstall:** パッケージをアンインストールします
  
**再起動オプション**  
**/norestart:** インストールの完了後、再起動しません  
**/forcerestart:** インストール後、再起動します
  
**特別なオプション**  
**/l:** インストール済みの Windows ホットフィックスまたは更新パッケージを表示します  
**/o:** 確認メッセージを表示せずに OEM ファイルを上書きします  
**/n:** アンインストールに必要なファイルのバックアップを作成しません  
**/f:** シャットダウン時に他のプログラムを強制終了します
**/extract:** セットアップを起動せずにファイルを抽出します

**注** **:** これらのスイッチを 1 つのコマンド ラインに組み込むことができます。旧バージョンとの互換性のため、このセキュリティ更新プログラムは、セットアップ ユーティリティの以前のバージョンによって使用されるセットアップスイッチもサポートしています。サポートされるインストール スイッチについての詳細情報はマイクロソフト サポート技術情報 [262841](https://support.microsoft.com/kb/262841) ご覧ください。

**適用に関する情報** **:**

このセキュリティ更新プログラムをユーザーの操作なしでインストールするためには、Windows 2000 Server Service Pack 2、Windows 2000 Server Service Pack 3、Windows 2000 Server Service Pack 4 のコマンド プロンプトで、次のコマンドラインを使用して下さい。

**Windows2000-kb841872-x86-jpn /passive /quiet**

コンピュータを強制的に再起動せずにセキュリティ更新プログラムをインストールするためには、Windows 2000 Service Pack 2、Windows 2000 Service Pack 3、Windows 2000 Service Pack 4 のコマンド プロンプトで次のコマンドラインを使用して下さい。

**Windows2000-kb841872-x86-jpn /norestart**

**再起動の必要性** **:**

この更新プログラムで、再起動を必要としない場合があります。インストーラによって必要なサービスが停止され、更新プログラムが適用されサービスが再起動します。しかし、何らかの理由により、必要なサービスが停止されない場合、または必要なファイルが使用中の場合、この更新プログラムを適用すると再起動が要求されます。この場合、再起動するメッセージが表示されます。

**削除に関する情報** **:**

この更新を削除するためには、**\[コントロールパネル\]** の **\[プログラムの追加と削除\]** を使用して下さい。

システム管理者は Spuninst.exe ユーティリティを使用し、このセキュリティ更新プログラムを削除することができます。Spuninst.exe ユーティリティは %Windir%\\$NTUninstallKB841872$\\Spuninst フォルダにあり、これは次のセットアップスイッチをサポートします。

**/?:** インストール スイッチの一覧を表示します  
**/u :** 無人モードで実行します。    
**/f:** コンピュータがシャット ダウンする時、そのほかのプログラムを強制的に閉じます      
**/z:** インストールが完了する時、再起動しません    
**/q:** 自動モードを使用します (ユーザーの操作なし)

**ファイル情報**

この更新プログラムの日本語版は次の表に挙げられているファイル属性 (またはそれ以降) を持ちます。


**注** **:** 日付および時間の情報はインストール中に変わる場合があります。ファイルが正しいことを確認するには、バージョン、サイズおよびファイル名を参照して下さい。

Windows 2000 Service Pack 2、Windows 2000 Service Pack 3、および Windows 2000 Service Pack 4:

| 日付       | 時間  | バージョン    | サイズ | ファイル名 |
|------------|-------|---------------|--------|------------|
| 2004/05/17 | 04:32 | 5.0.2195.6929 | 90,384 | psxss.exe  |

**セキュリティ更新プログラムが正しくインストールされたかどうか確認する方法** **:**

-   **Microsoft Baseline Security Analyzer**

    セキュリティ更新プログラムがコンピュータにインストールされていることを確認するためには、Microsoft Baseline Security Analyzer (MBSA) ツールを使用して下さい。Microsoft Baseline Security Analyzer (MBSA) により、管理者は、一般的なセキュリティ上誤った構成とともに、不足しているセキュリティ更新プログラムについて、ローカル コンピュータおよびリモート コンピュータをスキャンすることができます。MBSA に関する追加情報は、[Microsoft Baseline Security Analyzer](https://technet.microsoft.com/ja-jp/security/cc184924.aspx) の Web サイトをご覧下さい。

-   **ファイルのバージョンの確認**

    
**注** **:** Microsoft Windows にはいくつかのバージョンがあるため、次のステップはコンピュータにより異なる場合があります。異なる場合には、製品のドキュメンテーションを参照し、これらのステップを完了させて下さい。

1.  **\[スタート\]** をクリックし、**\[検索\]** にある **\[ファイルやフォルダ\]** をクリックします
2.  **\[ファイルまたはフォルダの名前\]** に、**psxss.exe** と入力し、**\[検索開始\]** をクリックします
3.  検索結果に出力された **psxss.exe** ファイルを右クリックし、次に **\[プロパティ\]** をクリックします
4.  **\[バージョン\]** タブで、ファイル情報テーブルに記載されているバージョンと、コンピュータにインストールされているファイルのバージョンを比較して確認して下さい

        
**注** **:** ファイルのバージョン以外の属性はインストール中に変更される場合があります。そのほかのファイルの属性をファイル情報テーブルの情報と比較することは、更新プログラムのインストールを確認するためのサポートされた方法ではありません。また、特定のケースで、ファイルはインストール中に名前が変更される場合があります。ファイルまたはバージョンの情報が存在しない場合、そのほかの利用可能な方法の 1 つを使用して更新プログラムのインストールを確認して下さい

-   **レジストリキーの確認**

    また、次のレジストリ キーを調べることにより、このセキュリティ更新プログラムがインストールしたファイルを確認することもできます。

    HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Updates\\Windows 2000\\SP5\\KB841872\\Filelist

    
**注** **:** このレジストリ キーはインストールされたファイルの完全な一覧を含まない場合があります。また、管理者または OEM メーカーによって 841872 のセキュリティ更新プログラムを Windows インストール ソース ファイルに統合またはスリップストリーム化されている場合、このレジストリ キーが正しく作成されないことがあります。

#### Windows NT 4.0 (すべてのバージョン):

**必要条件**

このセキュリティ更新プログラムを適用するには、Windows NT Workstation 4.0 Service Pack 6a (SP6a)、Windows NT Server 4.0 Service Pack 6a (SP6a) または Windows NT Server 4.0, Terminal Server Edition, Service Pack 6 (SP6) を実行している必要があります。

上記のソフトウェアのテストを行い、この脆弱性による影響を評価しました。それ以前のバージョンに関してはサポートの対象となっていないため、この脆弱性による影響は不明です。ご使用中の製品およびバージョンのサポート ライフ サイクルを確認するためには、[マイクロソフト サポート ライフサイクル](https://support.microsoft.com/lifecycle/)の Web サイトをご覧下さい。

最新のサービス パックの入手方法に関する詳細は、次のマイクロソフト サポート技術情報をご覧ください。

[152734](https://support.microsoft.com/kb/152734) Windows NT 4.0 の最新の Service Pack を入手する方法

**インストール情報** **:**

このセキュリティ更新プログラムは次のセットアップ スイッチをサポートします。

**/y:** 削除を実行します (**/m** または **/q** によってのみ)
**/f:** コンピュータがシャット ダウンする時、そのほかのプログラムを強制的に閉じます      
**/n:** アンインストール フォルダを作成しません  
**/z:** インストールが完了する時、再起動しません    
**/q:** ユーザーインターフェースを使用せずに自動モードまたは無人モードを使用します (このスイッチは **/m** の真部分集合です)
**/m:** 無人モードをユーザー インターフェースで使用します  
**/l:** インストールされた更新プログラムを一覧表示します  
**/x:** セットアップを実行せずにファイルを抽出します

**注** **:** これらのスイッチを 1 つのコマンド ラインに組み込むことができます。サポートされるインストールスイッチについての追加情報はマイクロソフト サポート技術情報 [262841](https://support.microsoft.com/kb/262841) をご覧ください。

**適用に関する情報** **:**

ユーザーの操作なしでセキュリティ更新プログラムをインストールするためには、Windows NT Server 4.0 のコマンド プロンプトで次のコマンドラインを使用して下さい。

**Windowsnt4server-kb841872-x86-jpn /q**

Windows NT Server 4.0 Terminal Server Edition の場合:

**Windowsnt4terminalserver-kb841872-x86-jpn /q**

Windows NT Workstation 4.0 の場合:

**Windowsnt4workstation-kb841872-x86-jpn /q**

セキュリティ更新プログラムのインストール後にコンピュータを再起動しないようにするには、Windows NT Server 4.0 のコマンド プロンプトで、次のコマンド ラインを使用してください。

**Windowsnt4server-kb841872-x86-jpn /z**

Windows NT Server 4.0 Terminal Server Edition の場合:

**Windowsnt4terminalserver-kb841872-x86-jpn /z**

Windows NT Workstation 4.0 の場合:

**Windowsnt4workstation-kb841872-x86-jpn /z**

**再起動の必要性** **:**

この更新プログラムで、再起動を必要としない場合があります。インストーラによって必要なサービスが停止され、更新プログラムが適用されサービスが再起動します。しかし、何らかの理由により必要なサービスが停止されない場合、または必要なファイルが使用中の場合、この更新プログラムを適用すると再起動が要求されます。この場合、再起動するメッセージが表示されます。

**削除に関する情報** **:**

この更新を削除するためには、\[コントロールパネル\] の \[アプリケーションの追加と削除\] を使用します。

システム管理者は Hotfix.exe ユーティリティを使用し、このセキュリティ更新プログラムを削除することができます。Hotfix.exe ユーティリティは %Windir%\\$NTUninstallKB841872$ フォルダにあります。このユーティリティでは、以下のセットアップスイッチを使用できます。

**/y:** 削除を実行します (**/m** または **/q** によってのみ)
**/f:** コンピュータがシャット ダウンする時、そのほかのプログラムを強制的に閉じます      
**/n:** アンインストール フォルダを作成しません  
**/z:** インストールが完了する時、再起動しません    
**/q:** ユーザーインターフェースを使用せずに自動モードまたは無人モードを使用します (このスイッチは **/m** の真部分集合です)
**/m:** 無人モードをユーザー インターフェースで使用します  
**/l:** インストールされた更新プログラムを一覧表示します  

**注** **:** これらのスイッチを 1 つのコマンド ラインに組み込むことができます。

**ファイルに関する情報** **:**

この更新プログラムの日本語版は次の表に挙げられているファイル属性 (またはそれ以降) を持ちます。


**注** **:** 日付および時間の情報はインストール中に変わる場合があります。ファイルが正しいことを確認するには、バージョン、サイズおよびファイル名を参照して下さい。

Windows NT Workstation 4.0, Windows NT Server 4.0:

| 日付       | 時間  | バージョン    | サイズ | ファイル名 |
|------------|-------|---------------|--------|------------|
| 2004/05/21 | 13:58 | 4.0.1381.7266 | 98,672 | psxss.exe  |

Windows NT Server 4.0 Terminal Server Edition:

| 日付       | 時間  | バージョン     | サイズ | ファイル名 |
|------------|-------|----------------|--------|------------|
| 2004/05/21 | 18:29 | 4.0.1381.39782 | 98,672 | psxss.exe  |

**セキュリティ更新プログラムが正しくインストールされたかどうか確認する方法** **:**

-   **Microsoft Baseline Security Analyzer**

    セキュリティ更新プログラムがコンピュータにインストールされていることを確認するためには、Microsoft Baseline Security Analyzer (MBSA) ツールを使用して下さい。Microsoft Baseline Security Analyzer (MBSA) により、管理者は、一般的なセキュリティ上誤った構成とともに、不足しているセキュリティ更新プログラムについて、ローカル コンピュータおよびリモート コンピュータをスキャンすることができます。MBSA に関する追加情報は、[Microsoft Baseline Security Analyzer](https://technet.microsoft.com/ja-jp/security/cc184924.aspx) の Web サイトをご覧下さい。

-   **ファイルのバージョンの確認**

    
**注** **:** Microsoft Windows にはいくつかのバージョンがあるため、次のステップはコンピュータにより異なる場合があります。異なる場合には、製品のドキュメンテーションを参照し、これらのステップを完了させて下さい。

1.  **\[スタート\]** をクリックし、**\[検索\]** にある **\[ファイルやフォルダ\]** をクリックします
2.  **\[名前\]** に、**psxss.exe** と入力します。**\[探す場所\]** に、Windows NT をインストールしたドライブを指定し、**\[検索開始\]** をクリックします
3.  検索結果に出力された **psxss.exe** ファイルを右クリックし、次に **\[プロパティ\]** をクリックします
4.  **\[バージョン\]** タブで、ファイル情報テーブルに記載されているバージョンと、コンピュータにインストールされているファイルのバージョンを比較して確認して下さい

        
**注** **:** ファイルのバージョン以外の属性はインストール中に変更される場合があります。そのほかのファイルの属性をファイル情報テーブルの情報と比較することは、更新プログラムのインストールを確認するためのサポートされた方法ではありません。また、特定のケースで、ファイルはインストール中に名前が変更される場合があります。ファイルまたはバージョンの情報が存在しない場合、そのほかの利用可能な方法の 1 つを使用して更新プログラムのインストールを確認して下さい

-   **レジストリキーの確認**

    また、次のレジストリ キーを調べることにより、このセキュリティ更新プログラムがインストールしたファイルを確認することもできます。

    HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Hotfix\\KB841872\\File 1

    
**注** **:** このレジストリ キーはインストールされたファイルの完全な一覧を含まない場合があります。また、管理者または OEM メーカーによって 841872 のセキュリティ更新プログラムを Windows インストール ソース ファイルに統合またはスリップストリーム化されている場合、このレジストリ キーが正しく作成されないことがあります。

### その他の情報

**謝辞:**

この問題を連絡し、顧客の保護に協力して下さった下記の方に対し、マイクロソフトは深い[謝意](https://technet.microsoft.com/security/bulletin/policy)を表します。

-   POSIX の脆弱性 (CAN-2004-0210) を報告してくださった [McAfee](https://www.mcafee.com/) に協力している Rafal Wojtczuk 氏

**他のセキュリティ更新プログラムの入手先** **:**

他のセキュリティ問題を解決する更新プログラムは以下のサイトから入手できます。

-   セキュリティ更新プログラムは[マイクロソフト ダウンロード センター](https://www.microsoft.com/downloads/results.aspx?displaylang=ja&freetext=security_patch)からダウンロードすることができます。「security\_patch」 のキーワード探索によって容易に見つけることができます。
-   コンシューマ プラットフォーム用の更新プログラムは、[Microsoft Update](https://update.microsoft.com/microsoftupdate/)Web サイトからダウンロードできます。
-   本セキュリティ情報及び公開された更新プログラムは、[TechNet CD サブスクリプション](https://www.microsoft.com/japan/technet/subscriptions/)でも入手可能です。

**他のセキュリティ情報** **:**

-   [Microsoft TechNet Security センター](https://technet.microsoft.com/ja-jp/security/default.aspx) では、製品に関するセキュリティ情報を提供しています。
-   Microsoft Software Update Services : <https://www.microsoft.com/japan/windowsserversystem/updateservices/>
-   Microsoft Baseline Security Analyzer (MBSA) : <https://technet.microsoft.com/ja-jp/security/cc184924.aspx> MBSA ツールのセキュリティ更新プログラムの検出に関する制限は <https://support.microsoft.com/kb/306460> をご覧ください。
-   Windows Update カタログ : <https://support.microsoft.com/kb/323166>
-   Microsoft Update : <https://update.microsoft.com/microsoftupdate/>
-   Office のアップデート : <https://office.microsoft.com/officeupdate/>

**Software Update Services (SUS) :**

Microsoft Software Update Services (SUS) は、最新の重要な更新プログラムを適用し、Windows ベースのシステムを最新の状態に維持するプロセスを大幅に簡素化する目的で開発されました。SUS により、重要な更新プログラムを Windows® 2000 や Windows Server™ 2003 ベースのサーバー、ならびに Windows® 2000 Professional や Windows XP Professional を実行するデスクトップ コンピュータへ迅速かつ確実に配布することができます。

Software Update Services に関するより詳細な情報は以下をご覧ください:  
<https://www.microsoft.com/japan/windows2000/windowsupdate/sus/>

**Systems Management Server (SMS) :**

Microsoft Systems Management Server (SMS) は更新プログラムを管理するための、構成可能なエンタープライズ ソリューションを提供します。SMS により、管理者はセキュリティ更新プログラムを必要とする Windows ベースのコンピュータを識別し、エンタープライズ全体で、エンド ユーザーへの中断を最小限にして、これらの更新プログラムの制御された適用を実行することができます。セキュリティ更新プログラムを適用するための SMS 2003 の使用方法に関する詳細情報は [SMS 2003 セキュリティ パッチ管理 Web サイト](https://www.microsoft.com/japan/smserver/evaluation/tips.mspx)をご覧下さい。SMS 2.0 ユーザーもまた、[Software Updates Service Feature Pack](https://www.microsoft.com/japan/smserver/downloads/20/featurepacks/suspack/) を活用して、セキュリティ更新プログラムの適用を支援することができます。SMS に関する情報は [SMS の Web サイト](https://www.microsoft.com/japan/smserver/default.mspx)をご覧下さい。


**注** **:** SMS は Microsoft Baseline Security Analyzer および Microsoft Office 検出ツールを活用してセキュリティ情報で提供された更新プログラムの検出と適用について広範なサポートを提供します。これらのツールにより検出されないソフトウェアの更新プログラムもあります。管理者は、特定のコンピュータへの更新プログラムを対象とし、これらの場合に SMS のインベントリ機能を使用することができます。この手順に関する詳細情報は、[こちらの Web サイト](https://www.microsoft.com/technet/prodtechnol/sms/sms2003/patchupdate.mspx) (英語情報) をご覧下さい。コンピュータの再起動後、管理者権限を必要とするセキュリティ更新プログラムもあります。管理者は、SMS 2.0 Administration Feature Pack の上位権利での展開ツール ([SMS Administration Feature Pack](https://www.microsoft.com/technet/sms/2003/downloads/featurepacks/adminpack.mspx) (英語情報) および [SMS 2.0 Administration Feature Pack](https://www.microsoft.com/japan/smserver/downloads/20/featurepacks/adminpack/) でご利用可能です) は、これらの更新プログラムのインストールに使用することができます。

**サポート** **:**

-   セキュリティ関連、およびセキュリティ更新プログラムに関するご質問や、ご不明な点などありましたら、マイクロソフト セキュリティ情報センターまでご連絡ください。
    [マイクロソフト セキュリティ情報センター](https://www.microsoft.com/japan/security/sicinfo.mspx)
-   その他、製品に関するご質問は、マイクロソフト プロダクト サポートまでご連絡ください。マイクロソフトでは、お問い合わせの内容が弊社製品の不具合が原因である場合、無償またはインシデントの未消費にてサポートをご提供いたします。
    
[マイクロソフト プロダクト サポートへの連絡方法はこちらをご覧ください。](https://support.microsoft.com/select/?target=assistance)
-   製品のサポート期間の詳細は、[マイクロソフト サポート ライフサイクル Web サイト](https://www.microsoft.com/lifecycle)をご参照ください。製品別情報の詳細は、同様にマイクロソフト サポート ライフサイクル Web サイトの [製品を探す](https://support.microsoft.com/default.aspx?scid=fh;ja;complifeport)からご確認ください。
    **注意:** Windows NT 4.0 Workstation は、ライフサイクルを終了しております。詳細につきましては、「よく寄せられる質問」をご確認ください。

**詳細情報** **:**

-   US マイクロソフトセキュリティ情報（MS04-020）  
    [https://www.microsoft.com/technet/security/bulletin/ms04-020.mspx](https://technet.microsoft.com/security/bulletin/ms04-020)
-   サポート技術情報 （KB） 文書番号 ： 841872  
    [\[MS04-020\] POSIX の脆弱性により、コードが実行される](https://support.microsoft.com/kb/841872)

**更新履歴** **:**

-   2004/07/14 : このセキュリティ情報ページを公開しました。
-   2004/08/11 : このセキュリティ情報ページを更新し、「影響を受けるソフトウェア」 に Microsoft INTERIX 2.2 を追加しました。

本セキュリティ情報に含まれている情報は、いかなる保証もない現状ベースで提供されるものです。Microsoft Corporation 及びその関連会社は、市場性および特定の目的への適合性を含めて、明示的にも黙示的にも、一切の保証をいたしません。さらに、Microsoft Corporation 及びその関連会社は、本文書に含まれている情報の使用及び使用結果につき、正確性、真実性等、いかなる表明・保証も行ないません。Microsoft Corporation、その関連会社及びこれらの権限ある代理人による口頭または書面による一切の情報提供またはアドバイスは、保証を意味するものではなく、かつ上記免責条項の範囲を狭めるものではありません。Microsoft Corporation、その関連会社 及びこれらの者の供給者は、直接的、間接的、偶発的、結果的損害、逸失利益、懲罰的損害、または特別損害を含む全ての損害に対して、状況のいかんを問わず一切責任を負いません。（Microsoft Corporation、その関連会社 またはこれらの者の供給者がかかる損害の発生可能性を了知している場合を含みます。) 結果的損害または偶発的損害に対する責任の免除または制限を認めていない地域においては、上記制限が適用されない場合があります。-

*Built at 2014-04-18T01:50:00Z-07:00*
