---
TOCTitle: 失効の実装
Title: 失効の実装
ms:assetid: '4735f060-7197-4ae2-830a-f91bcc4de30a'
ms:contentKeyID: 18122167
ms:mtpsurl: 'https://technet.microsoft.com/ja-jp/library/Cc747554(v=WS.10)'
---

失効の実装
==========

証明書およびライセンスは、その信頼チェーン内のプリンシパルによって失効される場合があります。ルート証明サーバーによって発行されたすべての証明書またはライセンスは、そのルート証明サーバーが失効させることができます。また、RMS 管理者によって指定された第三者によって証明書が失効される場合もあります。

RMS サーバーによって付与された証明書またはライセンスを失効させる場合、失効リストを作成および配布して、権利ポリシー テンプレートが失効リストを参照するよう指定することができます。その手順を次に示します。

1.  失効させるプリンシパルが指定された失効リストを作成します。失効リストは、XrML ボキャブラリに準拠した、XML 形式のテキスト ファイルです。詳細については、この項目の「[失効リストの作成](https://technet.microsoft.com/1ef75199-3344-4225-84de-a863a777696a)」を参照してください。
2.  失効リストのキー ペアを生成します。RMS に付属の失効リスト署名ツールを使用し、秘密キーでファイルに署名します。この手順については、この項目の「失効リストへの署名の挿入」を参照してください。この処理は、定期的 (できれば毎日) に実行されるよう自動化することをお勧めします。
3.  失効リスト ファイルを、すべてのユーザーがアクセスできる場所に配置します。このファイルは、ネットワーク内部およびインターネットの両方からアクセスできるような場所 (できれば Web サイト) に配置することをお勧めします。こうすることにより、ユーザーは、企業ネットワークの内外に関係なく、確実にこのファイルにアクセスできるようになります。
4.  失効リストの参照を指定する権利ポリシー テンプレートを作成します。詳細については、この項目の「[権利ポリシー テンプレートの作成と変更](https://technet.microsoft.com/6014176f-ef71-4d29-b3e3-da129c18563d)」を参照してください。

ルート証明サーバーのサーバー ライセンサ証明書を失効させることもできます。この証明書は Microsoft 登録サービスから発行されているため、ルート証明のサーバー ライセンサ証明書は Microsoft によって失効されます。その場合、Microsoft はサーバー ライセンサ証明書を失効リストに追加し、このリストを公開します。

さらに、ルート証明サーバーのライセンサ証明書は、第三者によって失効される場合もあります。ただし、RMS 管理者が提供時にそのように選択する必要があります。その場合、第三者の秘密キーで署名されたサーバー ライセンサ証明書を含む失効リストが、クライアントからアクセスできる必要があります。詳細については、この項目の「[サーバー ライセンサ証明書の失効](https://technet.microsoft.com/8020861d-d196-4431-8282-044675ef5616)」を参照してください。

> [!Caution]  
> 失効を実装する場合は注意が必要です。指定した更新間隔に基づいて、失効リストを定期的に更新する必要があります。この作業を怠った場合、失効リストの有効期限が自動的に切れ、その失効リストを必要とするコンテンツをユーザーが使用できなくなります。不注意でユーザーがコンテンツを使用できなくなる状況を防ぐためには、失効リストを更新する間隔を慎重に検討する必要があります。さらに、失効リストは、ネットワークの内部と外部の両方からアクセスできるようにしてください。詳細については、この項目の「[失効ポリシーの定義](https://technet.microsoft.com/e2fffe9f-def7-439b-a8aa-43f8a065813d)」を参照してください。 
