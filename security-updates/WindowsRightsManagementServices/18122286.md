---
TOCTitle: ディレクトリ サービス データベースの保守
Title: ディレクトリ サービス データベースの保守
ms:assetid: '911a62f2-c1d6-4091-99b0-b53211be27a7'
ms:contentKeyID: 18122286
ms:mtpsurl: 'https://technet.microsoft.com/ja-jp/library/Cc747680(v=WS.10)'
---

ディレクトリ サービス データベースの保守
========================================

RMS には、データベース サーバーによってホストされるディレクトリ サービス データベースが含まれます。このデータベースには、ユーザー、識別子 (電子メール アドレスなど)、セキュリティ ID (SID)、グループ メンバシップ、代替識別子などの情報が格納されます。これらの情報は、RMS ライセンス サービスが Active Directory グローバル カタログに対して要求した LDAP クエリから取得され、ユーザーが使用ライセンスを要求したときのサーバー応答時間を短縮するために、このデータベースのローカルにキャッシュされます。

このデータベースのデータは頻繁に挿入および削除されるので、断片化されやすい傾向があります。すべての DRMS\_DirectoryServices データベース テーブルのインデックスに対して、定期的に (毎日または毎週) データベース再編成を実施してください。これによってインデックスが再構築され、データの断片化が発生しなくなります。データが断片化するとパフォーマンスが低下する場合があります。また、管理者が調整することなく作業を続行した場合は、サーバーに障害が発生する可能性もあります。

データベース サーバーとして SQL Server を使用している場合は、メンテナンス ウィザードを使用するか、SQL Server エージェントを使用してカスタム スクリプトを実行して、データベースを再編成できます。

データベース インデックスの再作成中にトランザクション ログが許容サイズを超える場合は、インデックスを再作成する前に、フル復旧モードから一括ログ記録モードに切り替えてログの増加幅を最小限に抑えることができます。
