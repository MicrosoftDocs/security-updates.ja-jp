---
TOCTitle: RMS の失効動作
Title: RMS の失効動作
ms:assetid: '469e3938-a59b-4c92-9779-ead64e724d00'
ms:contentKeyID: 18122146
ms:mtpsurl: 'https://technet.microsoft.com/ja-jp/library/Cc720263(v=WS.10)'
---

RMS の失効動作
==============

ユーザーがコンテンツを使用できるようにするための処理にバインドがあります。 失効とは、失効されたエンティティがバインド要求に含まれているときに、このバインドを行えないようにする機能です。失効機能は、クライアント コンピュータに配布される失効リストによって実装されます。失効リストは、リスト発行元のプリンシパルによって失効されたプリンシパル (コンテンツ、アプリケーション、ユーザーなど) を指定する、署名済みの XrML ファイルです。

ユーザーが、保護されたコンテンツを使用しようとするたびに、関連付けられた RMS 対応アプリケーションが、バインド要求で適切な権利の要求を RMS クライアントに送信します。たとえば、ユーザーがファイルを開こうとすると、RM 対応アプリケーションはファイルを開く前に、表示するための権利を要求します。ユーザーがファイルを編集しようとした場合は、RM 対応アプリケーションが編集の権利を要求します。

RMS クライアントは、バインド要求の処理中、次の手順を行います。

1.  失効リストのすべての要件について使用ライセンスを評価します。
2.  失効リストを参照することが必要な使用ライセンスの場合、クライアント コンポーネントは、使用ライセンスに指定された更新間隔に基づき、指定された失効リストが存在し、登録され、最新版であるかどうかを確認します。
3.  失効リストに署名したプリンシパルが、ライセンスの失効許可を持つプリンシパルとして、使用ライセンスに指定されていることを確認します。
4.  これらのチェックに問題がなかった場合、クライアント コンポーネントは、元のバインド要求に、既に失効しているプリンシパルが含まれているかどうかを調べます。既に失効されているプリンシパルが含まれていた場合は、そのバインド要求を拒否します。

失効リストは、管理者がクライアント コンピュータに配布する場合と、使用ライセンスからの要求があった時点で RMS 対応アプリケーションがコンピュータにダウンロードする場合があります。コンテンツのバインドに失効リストが使用されると、その失効リストは登録され、アプリケーションが開いている間は、他の使用ライセンスとのバインド要求に使用されます。失効リストはアプリケーションを終了した後で登録解除されます。

次の図はバインド処理を示すもので、処理中に失効がどのように行われるかを表しています。

![](images/Cc720263.81aa2d70-d261-49ad-b446-96a2eddba1a5(WS.10).gif)

失効はオプションです。RMS 管理者は、組織の権利ポリシー テンプレートの中で、失効リストを参照するかどうかを指定できます。失効リストを参照するように指定した場合は、必要な失効リストが存在し、ユーザーのコンピュータに登録され、そのリストが使用ライセンスに指定された更新間隔より新しいものでない限り、ライセンスのバインドは行われません。

ただし、特定の使用ライセンスが失効リストの参照を要求していなくても、失効機能が有効になる場合があることに注意してください。失効リストの参照が有効になるのは、バインド要求に関係する信頼チェーンにおいて、いずれかの証明書の発行者が、クライアント コンピュータに失効リストを発行し、それが登録されたときです。このシナリオでは、特定の使用ライセンスが失効リストの参照を要求していなくても、バインド要求の処理に失効リストが使用されます。失効リストは、RMS 対応アプリケーションを終了し、登録解除するまで有効です。

たとえば、あるコンテンツの使用ライセンスがエンティティ A によって発行され、このコンテンツは、エンティティ A によって発行された失効リストを要求しているとします。ユーザーがこのコンテンツを利用しようとすると、RMS 対応アプリケーションは、この使用ライセンスに指定された URL から失効リストを取得し、登録します。RMS クライアントは、バインド要求を処理する際、失効の必要なエントリがないか、失効リストをチェックします。

ユーザーは、RMS 対応アプリケーションを開いたままにし、エンティティ A によって発行された使用ライセンスで第 2 のコンテンツを使用しようとしています。この場合、使用ライセンスには失効条件が含まれていないにもかかわらず、エンティティ A からの失効リストが依然として、ユーザーのコンピュータに登録されていることになります。このような状況においては、クライアント コンポーネントはバインド要求を処理する前に、失効リストを検証します。

次に、ユーザーは、エンティティC によって発行された使用ライセンスが付与されたコンテンツを使用するとします。この使用ライセンスには、失効条件は含まれていません。 クライアント コンピュータに登録された失効リストは、エンティティ A によって発行されたものだけであり、エンティティ A は、使用ライセンスの信頼チェーンに含まれていないため、このバインド処理では失効リストの参照は行われません。

最後に、ユーザーが RMS 対応アプリケーションを終了し、その後、失効条件が含まれていない第 2 のコンテンツをもう一度、開いたとします。エンティティ A によって発行された失効リストは、アプリケーションの終了時に登録解除されているため、RMS クライアントは、バインド要求の処理時に失効リストを検証しません。
