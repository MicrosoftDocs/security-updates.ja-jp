---
TOCTitle: '付録 D: セキュリティ設定'
Title: '付録 D: セキュリティ設定'
ms:assetid: 'd4a3c3be-a76c-437e-8ae0-b96aff64df13'
ms:contentKeyID: 18128278
ms:mtpsurl: 'https://technet.microsoft.com/ja-jp/library/Cc708591(v=WS.10)'
---

付録 D: セキュリティ設定
========================

ここでは、推奨されている WSUS のセキュリティ設定を示します。推奨される設定は、Windows Server 2003、IIS 6.0、および SQL Server 2000 の設定に分類されます。

### Windows Server 2003

WSUS を実行する Windows Server 2003 では、以下のセキュリティ設定が推奨されています。

#### 監査ポリシー

システムの動作に関する十分なログが収集されるよう、監査イベントを有効にします。

\[監査ポリシー\] の設定

 
<table style="border:1px solid black;">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >オプション</th>
<th style="border:1px solid black;" >セキュリティ設定</th>
<th style="border:1px solid black;" >設定の説明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">アカウント ログオン イベントの監査</td>
<td style="border:1px solid black;">[成功]、[失敗]</td>
<td style="border:1px solid black;">ログオン イベントの成功および失敗を監査すると、パスワードの強行突破の試みに関する有益なデータを得ることができます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">アカウント管理の監査</td>
<td style="border:1px solid black;">[成功]、[失敗]</td>
<td style="border:1px solid black;">アカウント管理イベントの成功および失敗を監査すると、管理操作を追跡できます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">ディレクトリ サービスのアクセスの監査</td>
<td style="border:1px solid black;">[監査なし]</td>
<td style="border:1px solid black;">これは、Active Directory サービスを実行しているドメイン コントローラにのみ重要です。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">ログオン イベントの監査</td>
<td style="border:1px solid black;">[成功]、[失敗]</td>
<td style="border:1px solid black;">ログオン イベントの成功および失敗を監査すると、パスワードの強行突破の試みに関する有益なデータを得ることができます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">オブジェクト アクセスの監査</td>
<td style="border:1px solid black;">[監査なし]</td>
<td style="border:1px solid black;">オブジェクト アクセスの監査は必要ありません。WSUS の動作に不要なログが多数作成されます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">ポリシーの変更の監査</td>
<td style="border:1px solid black;">[成功]、[失敗]</td>
<td style="border:1px solid black;">ポリシーの変更の成功および失敗を監査すると、管理操作を追跡できます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">特権使用の監査</td>
<td style="border:1px solid black;">[成功]、[失敗]</td>
<td style="border:1px solid black;">特権使用の成功および失敗を監査すると、管理者の操作を追跡できます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">プロセス追跡の監査</td>
<td style="border:1px solid black;">[監査なし]</td>
<td style="border:1px solid black;">プロセス追跡イベントは、WSUS の導入には不要です。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">システム イベントの監査</td>
<td style="border:1px solid black;">[成功]、[失敗]</td>
<td style="border:1px solid black;">システム イベントの成功および失敗を監査すると、システムの動作を追跡できます。</td>
</tr>
</tbody>
</table>
  
#### セキュリティ オプション
  
オプションのセキュリティと機能が保証されるよう、Windows Server 2003 のセキュリティ設定を構成します。
  
\[セキュリティ オプション\] の設定

 
<table style="border:1px solid black;">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >オプション</th>
<th style="border:1px solid black;" >セキュリティ設定</th>
<th style="border:1px solid black;" >設定の説明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">アカウント : Administrator アカウントの状態</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">管理者は必要であるため、許可されたユーザーに対して Administrator アカウントを有効にします。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">アカウント : Guest アカウントの状態</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">Guest アカウントを持つことにはリスクが伴うため、特別に必要でない限り、Guest アカウントは無効にします。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">アカウント : ローカル アカウントの空のパスワードの使用をコンソール ログオンのみに制限する</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">アカウントに空のパスワードを許可すると、ネットワークベースの攻撃の可能性が大幅に増加します。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">アカウント : Administrator アカウント名の変更</td>
<td style="border:1px solid black;">[未定義]</td>
<td style="border:1px solid black;">Administrator アカウント名を変更すると、悪意のある個人にアカウント名とパスワードの両方を推測させることになります。アカウント名は変更可能ですが、それまでと同じ一般的な SID が使用されます。この SID をすばやく識別してアカウント名を特定できるツールがあることに注意してください。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">アカウント : Guest アカウント名の変更</td>
<td style="border:1px solid black;">[未定義]</td>
<td style="border:1px solid black;">既定では Guest アカウントは無効に設定されており、有効にしないよう推奨されているため、このアカウント名の変更は重要ではありません。ただし、Guest アカウントを使用する組織では、事前に名前を変更しておく必要があります。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">監査 : グローバル システム オブジェクトへのアクセスを監査する</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">この設定は、イベント ビューアで監査を実行する場合は有効にする必要があります。イベント ビューアでは、この監査の設定は [未定義]、[成功]、または [失敗] に設定できます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">監査 : バックアップと復元の特権の使用を監査する</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">セキュリティ上の理由からこのオプションは有効にします。それにより、監査担当者は、潜在的な機密データのバックアップを作成しようとしているユーザーを検出できます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">監査 : セキュリティ監査のログを記録できない場合は直ちにシステムをシャットダウンする</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">このオプションを有効にすると、監査のログを記録できない場合にシステムがシャットダウンされます。これは、監査イベントの欠落を防ぐのに役立ちます。監査イベントの欠落は、別のパーティションに大きなサイズのログ ファイルを作成することで軽減できます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">デバイス : ログオンなしの装着解除を許可する</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">このオプションを無効にすると、許可されたユーザーのみがコンピュータを装着および装着解除できます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">デバイス : リムーバブル メディアのフォーマットおよび取り出しを許可する</td>
<td style="border:1px solid black;">Administrators</td>
<td style="border:1px solid black;">このオプションは、デスクトップ イメージには一般には有用ではありません。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">デバイス : ユーザーがプリンタ ドライバをインストールできないようにする</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">Windows GDI システムはカーネル モードで動作するため、ユーザーにプリンタ ドライバのインストールを許可すると、特権の昇格を招く可能性があります。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">デバイス : CD-ROM へのアクセスを、ローカル ログオン ユーザーだけに制限する</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">このオプションを有効にすると、リモート ユーザーは、機密情報が含まれている可能性のあるローカルの CD-ROM にアクセスできなくなります。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">デバイス : フロッピーへのアクセスを、ローカル ログオン ユーザーだけに制限する</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">サーバーが物理的にセキュリティ保護されている環境では、回復コンソールにパスワード認証が必要な場合に、このオプションを有効にしてシステムの回復を円滑化することができます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">デバイス : 署名されていないドライバのインストール時の動作</td>
<td style="border:1px solid black;">[警告するがインストールは許可する]</td>
<td style="border:1px solid black;">ほとんどのドライバ ソフトウェアは署名されています。管理者は、製造元と信頼性を確認でき、ソフトウェアが実験環境で事前に十分にテストされた場合を除いて、未署名のドライバをインストールしないようにしてください。これらのシステムは上級管理者のみが操作するため、安全のために上級管理者に判断を任せることをお勧めします。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">ドメイン コントローラ : サーバー オペレータがタスクのスケジュールを割り当てるのを許可する</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">タスクのスケジュールは、管理者のみが行えるよう制限する必要があります。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">ドメイン コントローラ : LDAP サーバー署名必須</td>
<td style="border:1px solid black;">[未定義]</td>
<td style="border:1px solid black;">このオプションは、ドメイン コントローラのみに適用されます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">ドメイン コントローラ : コンピュータ アカウントのパスワードの変更を拒否する</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">このオプションを有効にすると、コンピュータのアカウントのパスワードを自動的に変更できます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">ドメイン メンバ : 常にセキュリティで保護されたチャネルのデータをデジタル的に暗号化または署名する</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">セキュリティで保護されたチャネルの暗号化をサポートしていることをドメイン コントローラが認識している場合は、このオプションを有効にして、ローカル ネットワークの攻撃から保護することができます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">ドメイン メンバ : 可能な場合、セキュリティで保護されたチャネルのデータをデジタル的に暗号化する</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">このオプションを有効にすると、サーバーがこの機能をサポートしている場合に、高度なセキュリティを維持しながら、高い柔軟性を確保できます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">ドメイン メンバ : 可能な場合、セキュリティで保護されたチャネルのデータをデジタル的に署名する</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">このオプションを有効にすると、サーバーがこの機能をサポートしている場合に、高度なセキュリティを維持しながら、高い柔軟性を確保できます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">ドメイン メンバ : コンピュータ アカウント パスワードの変更を無効にする</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">このオプションを無効にすると、コンピュータのアカウントのパスワードを自動的に変更できます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">ドメイン メンバ : 最大コンピュータ アカウントのパスワードの有効期間</td>
<td style="border:1px solid black;">[30 日]</td>
<td style="border:1px solid black;">パスワードの変更頻度が低いと、頻繁に変更する場合に比べてパスワードを見破られやすくなります。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">ドメイン メンバ : 強力な (Windows 2000 以降) セッション キーを必要とする</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">このオプションを有効にすると、Windows 2000 以降を実行しているすべてのコンピュータに強力なセッション キーが設定されます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">対話型ログオン : 最後のユーザー名を表示しない</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">最後のユーザーの名前は、特に管理ユーザーのアカウント名を変更したときに非表示にする必要があります。このオプションは、アカウント名が偶発的に判明するのを防ぐのに役立ちます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">対話型ログオン : Ctrl+Alt+Del を必要としない</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">ユーザーモードのプログラムより低いレベルで CTRL + ALT + DEL シーケンスが傍受されると、フックが可能になります。ログオン時にこのシーケンスを要求する機能は、トロイの木馬プログラムが Windows ログオンになりすましてユーザーのパスワードをキャプチャするのを防ぐために設計されたセキュリティ機能です。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">対話型ログオン : ログオン時のユーザーへのメッセージのテキスト</td>
<td style="border:1px solid black;">法的文章を入力します。</td>
<td style="border:1px solid black;">企業のセキュリティ ポリシーに応じて、適切な法的メッセージおよび警告メッセージを表示します。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">対話型ログオン : ログオン時のユーザーへのメッセージのタイトル</td>
<td style="border:1px solid black;">法的文章のタイトルを入力します。</td>
<td style="border:1px solid black;">企業のセキュリティ ポリシーに応じて、適切な法的メッセージおよび警告メッセージを表示します。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">対話型ログオン : ドメイン コントローラが利用できない場合に使用する、前回ログオンのキャッシュ数</td>
<td style="border:1px solid black;">[10 ログオン]</td>
<td style="border:1px solid black;">このオプションは、通常、ドメインから切断されることのあるラップトップのみに適用されます。このオプションを使用すると、アプリケーション サーバーなどの一部の種類のサーバーがセキュリティ上のリスクを負うことにもなります。サーバーが危険にさらされていて、ドメインのログオンがキャッシュされている場合、攻撃者がローカルに格納されたこの情報を利用して、ドメインレベルの資格情報を入手する可能性があります。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">対話型ログオン : パスワードが無効になる前にユーザーに変更を促す</td>
<td style="border:1px solid black;">[14 日]</td>
<td style="border:1px solid black;">企業のセキュリティ ポリシーに応じて、パスワードの確認メッセージを調整する必要があります。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">対話型ログオン : ワークステーションのロック解除にドメイン コントローラの認証を必要とする</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">このオプションを有効にすると、ドメイン コントローラ アカウントですべてのワークステーションのロックを解除できます。この機能は、コンピュータのローカル Administrator アカウントにのみ許可する必要があります。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">対話型ログオン : スマート カードが必要</td>
<td style="border:1px solid black;">[未定義]</td>
<td style="border:1px solid black;">システムにスマート カードを使用しない場合は、このオプションは不要です。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">対話型ログオン : スマート カード取り出し時の動作</td>
<td style="border:1px solid black;">[未定義]</td>
<td style="border:1px solid black;">システムにスマート カードを使用しない場合は、このオプションは不要です。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Microsoft ネットワーク クライアント : 常に通信にデジタル署名を行う</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">SMB 署名をサポートしていないサーバーと通信を行うシステムは、このオプションを無効にする必要があります。ただし、パケット認証が必要な場合は有効にできます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Microsoft ネットワーク クライアント : サーバーが同意すれば、通信にデジタル署名を行う</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">SMB 署名をサポートしているサーバーと通信を行うシステムは、このオプションを有効にする必要があります。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Microsoft ネットワーク クライアント : サード パーティ製の SMB サーバーへのパスワードを、暗号化しないで送信する</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">このオプションを有効にすると、サード パーティの SMB サーバーが、暗号化機能をサポートしていない言語とネゴシエートする可能性があります。認証はプレーンテキストのパスワードを使用して実行されます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Microsoft ネットワーク サーバー : セッションを中断する前に、一定のアイドル時間を必要とする</td>
<td style="border:1px solid black;">[15 分]</td>
<td style="border:1px solid black;">アイドル接続時間が長引いてリソースを消耗しないよう、エンドユーザー システムで適切な値に設定する必要があります。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Microsoft ネットワーク サーバー : 常に通信にデジタル署名を行う</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">SMB 署名をサポートしていないサーバーと通信を行うシステムは、このオプションを無効にする必要があります。ただし、パケット認証が必要な場合は有効にできます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Microsoft ネットワーク サーバー : クライアントが同意すれば、通信にデジタル署名を行う</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">SMB 署名をサポートしていないサーバーと通信を行うシステムは、このオプションを無効にする必要があります。ただし、パケット認証が必要な場合は有効にできます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Microsoft ネットワーク サーバー : ログオン時間の有効期間が切れるとクライアントを切断する</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">このオプションを有効にすると、ユーザーは有効時間が切れた後、ログオンできなくなります。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">ネットワーク アクセス : 匿名の SID と名前の変換を許可する</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">このオプションは、Windows ネットワーキングをセキュリティで保護するために非常に重要です。これを無効にすると、Null セッションで接続しているユーザーに付与される機能が厳しく制限されます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">ネットワーク アクセス : SAM アカウントの匿名の列挙を許可しない</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">このオプションは、Windows ネットワーキングをセキュリティで保護するために非常に重要です。これを有効にすると、Null セッションで接続しているユーザーに付与される機能が厳しく制限されます。&quot;Everyone&quot; は匿名ユーザーのトークンには既に使われていないため、IPC$ へのアクセスは拒否されます。匿名を許可するように明示的に設定されているパイプには、この共有への SMB ツリー接続が失敗するためアクセスできません。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">ネットワーク アクセス : SAM アカウントおよび共有の匿名の列挙を許可しない</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">このオプションは、Windows ネットワーキングをセキュリティで保護するために非常に重要です。これを有効にすると、Null セッションで接続しているユーザーに付与される機能が厳しく制限されます。&quot;Everyone&quot; は匿名ユーザーのトークンには既に使われていないため、IPC$ へのアクセスは拒否されます。匿名を許可するように明示的に設定されているパイプには、この共有への SMB ツリー接続が失敗するためアクセスできません。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">ネットワーク アクセス : ネットワーク認証のために資格情報または .NET Passport を格納することを許可しない</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">このオプションを有効にすると、重要なパスワードがコンピュータのキャッシュに格納されるのを防ぐことができます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">ネットワーク アクセス : Everyone のアクセス許可を匿名ユーザーに適用する</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">匿名ユーザーにはコンピュータへのアクセスを許可しないでください。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">ネットワーク アクセス : リモートからアクセスできる名前付きパイプ</td>
<td style="border:1px solid black;">[未定義]</td>
<td style="border:1px solid black;">名前付きパイプは匿名で制限される必要があります。名前付きパイプを制限すると、ネットワーク印刷などのシステム間処理が中断します。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">ネットワーク アクセス : リモートからアクセスできるレジストリのパス</td>
<td style="border:1px solid black;">[未定義]</td>
<td style="border:1px solid black;">監視環境用でない限り、レジストリのパスのリモート アクセスは制限される必要があります。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">ネットワーク アクセス : 匿名でアクセスできる共有</td>
<td style="border:1px solid black;">[なし]</td>
<td style="border:1px solid black;">共有は匿名でアクセスされないようにする必要があります。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">ネットワーク アクセス : ローカル アカウントの共有とセキュリティ モデル</td>
<td style="border:1px solid black;">[Guest のみ - ローカル ユーザーが Guest として認証する]</td>
<td style="border:1px solid black;">すべてのローカル アカウントを Guest 特権に制限します。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">ネットワーク セキュリティ : 次のパスワードの変更で LAN Manager のハッシュの値を格納しない</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">この機能を有効にすると、脆弱な LAN Manager ハッシュが削除されるため、名前の脆弱なハッシュのスニッフィングや、ローカルの SAM データベース ファイルから、パスワードが攻撃される可能性が軽減します。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">ネットワーク セキュリティ : ログオン時間を経過した場合はユーザーを強制的にログオフさせる</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">このオプションは、許容可能なポリシーの一部として有効にする必要があります。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">ネットワーク セキュリティ : LAN Manager 認証レベル</td>
<td style="border:1px solid black;">NTLMv2 応答のみ送信する</td>
<td style="border:1px solid black;">LM の送信は、NTLM よりセキュリティ レベルが低いため、システムが、Windows 95 または Windows 98 を実行しているコンピュータと通信する場合のみ有効にします。さらに、NTLMv2 のみを使用するようにします。ただし、Windows 95、Windows 98、または修正プログラムを適用していない Windows NT4.0 を実行しているコンピュータは、NTLMv2 を実行しているサーバーとは通信できません。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">ネットワーク セキュリティ : 必須の署名をしている LDAP クライアント</td>
<td style="border:1px solid black;">[ネゴシエーション署名]</td>
<td style="border:1px solid black;">サード パーティの LDAP サーバーの認証時に署名を要求します。これにより、認証されていない LDAP サーバーに対する攻撃や、ネットワーク上のクリアテキストでのパスワード送信に対する攻撃を防ぐことができます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">ネットワーク セキュリティ : セキュア RPC を含むクライアント ベースの NTLM SSP 最小のセッション セキュリティ</td>
<td style="border:1px solid black;">[NTLMv2 セッション セキュリティが必要]</td>
<td style="border:1px solid black;">NTLM ハッシュには、攻撃の突破口となりうる弱点があります。有効にすると、これらの要件により、Windows の認証アルゴリズムが強化されます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">ネットワーク セキュリティ : セキュア RPC を含むサーバー ベースの NTLM SSP 最小のセッション セキュリティ</td>
<td style="border:1px solid black;">[NTLMv2 セッション セキュリティが必要]</td>
<td style="border:1px solid black;">NTLM ハッシュには、攻撃の突破口となりうる弱点があります。有効にすると、これらの要件により、Windows の認証アルゴリズムが強化されます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">回復コンソール : 自動管理ログオンを許可する</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">自動管理ログオンを有効にすると、コンソールにアクセスできる悪意のあるユーザーが、簡単にコンピュータを再起動して管理特権を入手する可能性があります。ただし、組織のコンピュータが物理的にセキュリティ保護されているサーバーである場合は、この機能を有効にして、管理者パスワードを忘れた場合にシステムへのアクセスを許可することができます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">回復コンソール : すべてのドライブとフォルダに、フロッピーのコピーとアクセスを許可する</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">回復コンソールは、SAM データベース ファイルへのオフライン アクセスを取得するための攻撃手段として使用される可能性があります。したがって、これらのファイルがフロッピー ディスクにコピーされるのを防ぐために、このオプションは有効にする必要があります。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">シャットダウン : ログオンなしのシステムのシャットダウンを許可する</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">このオプションは、有効なアカウントを持たないユーザーがシステムをシャットダウンするのを防ぐ場合に、効果的な予防策として使用されます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">シャットダウン : 仮想メモリのページ ファイルをクリアする</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">シャットダウン時にメモリのページファイルをクリアすると、パスワードなどのシステム メモリの機密情報が含まれるファイルがオフラインで解析されるのを防ぐことができます。ただし、コンピュータが物理的にセキュリティ保護されている環境では、これを有効にして、システムの再起動にかかる時間を短縮できます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">システム暗号化 : コンピュータに格納されているユーザー キーに強力なキー保護を強制する</td>
<td style="border:1px solid black;">[最初にキーが使用されるときには、ユーザーに要求する]</td>
<td style="border:1px solid black;">ローカル暗号シークレットを保護すると、あるシステムへのアクセスが取得された後に、ネットワーク全体の特権が昇格するのを防ぐことができます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">システム暗号化 : 暗号化、ハッシュ、署名のための FIPS 準拠アルゴリズムを使う</td>
<td style="border:1px solid black;">[未定義]</td>
<td style="border:1px solid black;">暗号化、ハッシュ、および署名には、強力な標準の規格準拠のアルゴリズムが必要です。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">システム オブジェクト : グループのメンバによって作成されたオブジェクトの既定の所有者</td>
<td style="border:1px solid black;">[Administrators group]</td>
<td style="border:1px solid black;">管理者のみが、作成されたファイルへのアクセスを所持する必要があります。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">システム オブジェクト : Windows システムではないサブシステムのための大文字と小文字の区別をしないことが必須</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">UNIX のパスワードなど、Windows 以外のサブシステムの場合は、大文字と小文字の区別を要求します。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">システム設定 : オプション サブシステム</td>
<td style="border:1px solid black;">明らかに必要な場合のみ、ここに「POSIX」と入力します。</td>
<td style="border:1px solid black;">以前は、POSIX 実行レイヤにはローカルのセキュリティ上の弱点が複数あったため、サード パーティのソフトウェアで必要とされない限り、無効にする必要がありました。POSIX が商用ソフトウェア パッケージで必要とされることは極めてまれです。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">システム設定 : ソフトウェア制限のポリシーのために Windows 実行可能ファイルに対して証明書の規則を使用する</td>
<td style="border:1px solid black;">[未定義]</td>
<td style="border:1px solid black;">証明書の規則が作成されている場合にこのオプションを有効にすると、CRL をチェックしてソフトウェアの証明書と署名が有効であることを確認するソフトウェア制限のポリシーが強制的に適用されます。</td>
</tr>
</tbody>
</table>
  
#### \[イベント ログ\] の設定
  
適正レベルの動作の監視が行われるよう、\[イベント ログ\] の設定を構成します。
  
\[イベント ログ\] の設定

 
<table style="border:1px solid black;">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >オプション</th>
<th style="border:1px solid black;" >セキュリティ設定</th>
<th style="border:1px solid black;" >設定の説明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">アプリケーション ログの最大サイズ</td>
<td style="border:1px solid black;">100489 KB</td>
<td style="border:1px solid black;">大きなサイズのイベント ログを使用すると、管理者は問題のあるイベントや疑わしいイベントを格納して検索できます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">セキュリティ ログの最大サイズ</td>
<td style="border:1px solid black;">100489 KB</td>
<td style="border:1px solid black;">大きなサイズのイベント ログを使用すると、管理者は問題のあるイベントや疑わしいイベントを格納して検索できます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">システム ログの最大サイズ</td>
<td style="border:1px solid black;">100489 KB</td>
<td style="border:1px solid black;">大きなサイズのイベント ログを使用すると、管理者は問題のあるイベントや疑わしいイベントを格納して検索できます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">ゲストによるアプリケーション ログへのアクセスを許可しない</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">Guest アカウントは、イベント ログの機密情報にアクセスできないようにする必要があります。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">ゲストによるセキュリティ ログへのアクセスを許可しない</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">Guest アカウントは、イベント ログの機密情報にアクセスできないようにする必要があります。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">ゲストによるシステム ログへのアクセスを許可しない</td>
<td style="border:1px solid black;">[有効]</td>
<td style="border:1px solid black;">Guest アカウントは、イベント ログの機密情報にアクセスできないようにする必要があります。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">アプリケーション ログの保存日数</td>
<td style="border:1px solid black;">[7 日]</td>
<td style="border:1px solid black;">1 週間が経過したら、ログを集中管理されたログ サーバーに格納する必要があります。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">セキュリティ ログの保存日数</td>
<td style="border:1px solid black;">[7 日]</td>
<td style="border:1px solid black;">1 週間が経過したら、ログを集中管理されたログ サーバーに格納する必要があります。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">システム ログの保存日数</td>
<td style="border:1px solid black;">[7 日]</td>
<td style="border:1px solid black;">1 週間が経過したら、ログを集中管理されたログ サーバーに格納する必要があります。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">アプリケーション ログの保存方法</td>
<td style="border:1px solid black;">[必要時]</td>
<td style="border:1px solid black;">ログ ファイルがいっぱいになったら、必要に応じて監査ログを上書きします。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">セキュリティ ログの保存方法</td>
<td style="border:1px solid black;">[必要時]</td>
<td style="border:1px solid black;">ログ ファイルがいっぱいになったら、必要に応じて監査ログを上書きします。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">システム ログの保存方法</td>
<td style="border:1px solid black;">[必要時]</td>
<td style="border:1px solid black;">ログ ファイルがいっぱいになったら、必要に応じて監査ログを上書きします。</td>
</tr>
</tbody>
</table>
  
#### システム サービス
  
WSUS に必要なサービスのみを有効にします。
  
有効にされたオペレーティング システム サービス

 
<table style="border:1px solid black;">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >オプション</th>
<th style="border:1px solid black;" >セキュリティ設定</th>
<th style="border:1px solid black;" >設定の説明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">Alerter</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">警告サービスは、管理者がネットワークにログインしていて、イベントの通知を受ける必要がある場合に最も使用されます。WSUS を実行しているコンピュータには、このサービスは不要です。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Application Management</td>
<td style="border:1px solid black;">[手動]</td>
<td style="border:1px solid black;">このサービスは、新しいアプリケーションを Active Directory 環境にインストールする場合のみ必要です。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Automatic Updates</td>
<td style="border:1px solid black;">[自動]</td>
<td style="border:1px solid black;">このサービスは、修正プログラムが完全に適用された運用環境をサポートするために必要です。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Clipbook</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">このサービスは WSUS 環境には不要です。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">COM+ Event System</td>
<td style="border:1px solid black;">[手動]</td>
<td style="border:1px solid black;">COM+ イベント システムは、Web ベースのアプリケーションで使用される場合があります。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Computer Browser</td>
<td style="border:1px solid black;">[自動]</td>
<td style="border:1px solid black;">Computer Browser サービスは、対話型ワークステーションで必要です。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">DHCP Client</td>
<td style="border:1px solid black;">[自動]</td>
<td style="border:1px solid black;">DHCP は、WSUS サーバーに IP アドレスを割り当てる際に必要です。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Distributed File System</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">DFS は、複数のサーバー間のファイル共有に使用されますが、WSUS には不要です。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Distributed Link Tracking Client</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">このサービスは、ドメインに分散リンク トラッキングが構成されている場合のみ適用されます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Distributed Link Tracking Server</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">このサービスは、ドメインに分散リンク トラッキングが構成されている場合のみ適用されます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Distributed Transaction Coordinator</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">このサービスは、ドメインに分散リンク トラッキングが構成されている場合のみ適用されます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">DNS Client</td>
<td style="border:1px solid black;">[自動]</td>
<td style="border:1px solid black;">DNS は、IP アドレスと名前の解決に必要です。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Event Log</td>
<td style="border:1px solid black;">[自動]</td>
<td style="border:1px solid black;">イベント ログ サービスは、システム上のイベントをログに記録し、重要な監査情報を提供する場合に重要です。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">File Replication</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">このサービスは、ファイルのレプリケーションと同期に使用されますが、WSUS では不要です。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">IIS ADMIN service</td>
<td style="border:1px solid black;">[自動]</td>
<td style="border:1px solid black;">このサービスは、WSUS の管理に必要です。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Indexing Service</td>
<td style="border:1px solid black;">[手動]</td>
<td style="border:1px solid black;">このサービスは IIS で使用されます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Intersite Messaging</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">このサービスはドメイン コントローラでのみ有効にする必要があります。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Internet Connection Firewall / Internet Connection Sharing</td>
<td style="border:1px solid black;">[手動]</td>
<td style="border:1px solid black;">このサービスは、ローカルの ICF ファイアウォールが使用されている場合に必要です。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">IPSEC Services</td>
<td style="border:1px solid black;">[自動]</td>
<td style="border:1px solid black;">このサービスは、IPsec が使用されている場合に必要です。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Kerberos Key Distribution Center</td>
<td style="border:1px solid black;">ドメイン コントローラとして機能していない限り、[無効]</td>
<td style="border:1px solid black;">このサービスは、Windows Server 2003 ドメイン コントローラに参加して認証するために既定で有効に設定されています。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">License Logging Service</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">このサービスは、アプリケーションのライセンス取得を追跡する必要があるシステムで使用されます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Logical Disk Manager</td>
<td style="border:1px solid black;">[自動]</td>
<td style="border:1px solid black;">このサービスは、論理ディスク管理に使用されます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Logical Disk Manager Administrative Service</td>
<td style="border:1px solid black;">[手動]</td>
<td style="border:1px solid black;">このサービスは、論理ディスク管理に使用されます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Messenger</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">このサービスは、NetBIOS メッセージングが使用される場合のみ必要です。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Net Logon</td>
<td style="border:1px solid black;">[自動]</td>
<td style="border:1px solid black;">このサービスは、ドメインに属するために必要です。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">NetMeeting Remote Desktop Sharing</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">NetMeeting は、ネットワーク上のコラボレーションを許可するアプリケーションです。対話型ワークステーションで使用されますが、セキュリティ リスクが伴うため、サーバーでは無効にする必要があります。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Network Connections</td>
<td style="border:1px solid black;">[手動]</td>
<td style="border:1px solid black;">このサービスを使用すると、ネットワーク接続を集中管理できます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Network DDE</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">ネットワーク DDE は、ネットワーク間のプロセス間通信 (IPC) の形式です。ネットワーク共有を開いてローカル リソースへのリモート アクセスを許可するため、明らかに必要でない限りは無効にする必要があります。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Network DDE DSDM</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">ネットワーク DDE は、ネットワーク間のプロセス間通信 (IPC) の形式です。ネットワーク共有を開いてローカル リソースへのリモート アクセスを許可するため、明らかに必要でない限りは無効にする必要があります。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">NTLM Security Support Provider</td>
<td style="border:1px solid black;">[手動]</td>
<td style="border:1px solid black;">NTLM Security Support Provider は、TCP や UDP などのトランスポートを使用するリモート プロシージャ コール (RPC) サービスの認証ユーザーに必要です。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Performance Logs and Alerts</td>
<td style="border:1px solid black;">[手動]</td>
<td style="border:1px solid black;">このサービスは、ログおよび警告が使用される場合のみ必要です。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Plug and Play</td>
<td style="border:1px solid black;">[自動]</td>
<td style="border:1px solid black;">プラグ アンド プレイは、システムにプラグ アンド プレイ ハードウェア デバイスが使用されている場合に必要です。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Print Spooler</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">このサービスは、システムが印刷に使用されている場合に必要です。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Protected Storage</td>
<td style="border:1px solid black;">[自動]</td>
<td style="border:1px solid black;">このサービスは、IIS 管理サービスに依存されているため、有効にする必要があります。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Remote Access Auto Connection Manager</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">このサービスは、RAS サーバーに対してのみ有効にします。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Remote Access Connection Manager</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">このサービスは、RAS サーバーに対してのみ有効にします。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Remote Procedure Call (RPC)</td>
<td style="border:1px solid black;">[自動]</td>
<td style="border:1px solid black;">このサービスは、RPC 通信に必要です。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Remote Procedure Call (RPC) Locator</td>
<td style="border:1px solid black;">[手動]</td>
<td style="border:1px solid black;">このサービスは、RPC 通信に必要です。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Remote Registry</td>
<td style="border:1px solid black;">[手動]</td>
<td style="border:1px solid black;">リモート レジストリは、攻撃者、ウイルス、およびワームの第一の標的であるため、サーバーで有効にできる場合は、必要でない限り [手動] に設定する必要があります。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Removable Storage</td>
<td style="border:1px solid black;">[手動]</td>
<td style="border:1px solid black;">動的サーバーにはこのサービスが必要です。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Routing and Remote Access</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">このサービスは、RAS サーバーに対してのみ有効にします。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Security Accounts Manager</td>
<td style="border:1px solid black;">[自動]</td>
<td style="border:1px solid black;">このサービスは、ローカル アカウントを管理するため、有効にする必要があります。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Server</td>
<td style="border:1px solid black;">[自動]</td>
<td style="border:1px solid black;">このサービスは、必要に応じて有効または無効にします。このサービスは、このコンピュータに対して、ネットワークを介したファイル、印刷、および名前付きのパイプの共有をサポートします。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Smart Card</td>
<td style="border:1px solid black;">[手動]</td>
<td style="border:1px solid black;">ユーザーは 2 因子のログオン認証にスマート カードを使用しないため、このサービスは不要です。無効にするか、[手動] に設定する必要があります。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">System Event Notification</td>
<td style="border:1px solid black;">[自動]</td>
<td style="border:1px solid black;">このサービスは、COM+ イベントに必要です。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Task Scheduler</td>
<td style="border:1px solid black;">[手動]</td>
<td style="border:1px solid black;">このサービスは、必要に応じて有効または無効にします。このサービスを使用すると、ユーザーはこのコンピュータで、自動化されたタスクの構成およびスケジュールを行うことができます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">TCP/IP NetBIOS Helper</td>
<td style="border:1px solid black;">[自動]</td>
<td style="border:1px solid black;">このサービスは、Windows Server 2003 より前のオペレーティング システムを実行しているコンピュータの Windows ネットワーキングに使用されます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Telephony</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">このサービスは、テレフォニー デバイスが使用されないため、この環境には不要です。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Telnet</td>
<td style="border:1px solid black;">[無効]</td>
<td style="border:1px solid black;">この Telnet サービスは無効にする必要があります。使用しないことを強くお勧めします。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Terminal Services</td>
<td style="border:1px solid black;">[手動]</td>
<td style="border:1px solid black;">ターミナル サービスは、必要に応じて有効または無効にします。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Uninterruptible Power Supply</td>
<td style="border:1px solid black;">[手動]</td>
<td style="border:1px solid black;">このサービスは、UPS が使用されている場合に必要です。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Windows Installer</td>
<td style="border:1px solid black;">[手動]</td>
<td style="border:1px solid black;">ユーザーは、システムに .msi パッケージをインストールする際に Windows インストーラを使用するよう指定できます。そのため、このサービスは [手動] に設定する必要があります。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Windows Management Instrumentation</td>
<td style="border:1px solid black;">[手動]</td>
<td style="border:1px solid black;">WMI は拡張管理機能を提供します。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Windows Management Instrumentation Driver Extensions</td>
<td style="border:1px solid black;">[手動]</td>
<td style="border:1px solid black;">WMI Driver Extensions を使用すると、タスクバーで NIC 接続状態を監視できます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Windows Time</td>
<td style="border:1px solid black;">[自動]</td>
<td style="border:1px solid black;">Active Directory 環境では、Kerberos キーの交換に外部時間との同期が必要です。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Workstation</td>
<td style="border:1px solid black;">[自動]</td>
<td style="border:1px solid black;">Workstation サービスは、Windows ネットワーキングに必要です。</td>
</tr>
</tbody>
</table>
  
#### TCP/IP の強化
  
TCP/IP インターフェイスを WSUS サーバー用に強化することをお勧めします。
  
**HKLM\\SYSTEM\\CURRENTCONTROLSET\\SERVICES\\SynAttackProtect**

 
<table style="border:1px solid black;">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >セキュリティ設定</th>
<th style="border:1px solid black;" >設定の説明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">REG_DWORD = 2</td>
<td style="border:1px solid black;">TCP に SYN-ACKS の再送信を調整させます。</td>
</tr>
</tbody>
</table>
  
**HKLM\\SYSTEM\\CURRENTCONTROLSET\\SERVICES\\tcpmaxportsexhausted**

 
<table style="border:1px solid black;">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >セキュリティ設定</th>
<th style="border:1px solid black;" >設定の説明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">REG_DWORD = 1</td>
<td style="border:1px solid black;">SYN 攻撃からの保護に役立ちます。</td>
</tr>
</tbody>
</table>
  
**HKLM\\SYSTEM\\CURRENTCONTROLSET\\SERVICES\\TCPMAxHALFOPEN**

 
<table style="border:1px solid black;">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >セキュリティ設定</th>
<th style="border:1px solid black;" >設定の説明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">REG_DWORD = 500</td>
<td style="border:1px solid black;">SYN 攻撃からの保護に役立ちます。</td>
</tr>
</tbody>
</table>
  
**HKLM\\SYSTEM\\CURRENTCONTROLSET\\SERVICES\\TCPmaxhalfopenretired**

 
<table style="border:1px solid black;">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >セキュリティ設定</th>
<th style="border:1px solid black;" >設定の説明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">REG_DWORD = 400</td>
<td style="border:1px solid black;">SYN 攻撃からの保護に役立ちます。</td>
</tr>
</tbody>
</table>
  
**HKLM\\SYSTEM\\CURRENTCONTROLSET\\SERVICES\\AFd\\parameters\\enabledICMPredirect**

 
<table style="border:1px solid black;">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >セキュリティ設定</th>
<th style="border:1px solid black;" >設定の説明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">REG_DWORD = 0</td>
<td style="border:1px solid black;">ICMP リダイレクト パケットの受信時に、高価なホスト ルートが作成されるのを防ぎます。</td>
</tr>
</tbody>
</table>
  
**HKLM\\SYSTEM\\CURRENTCONTROLSET\\SERVICES\\tcpip\\parameters\\enableddeadgwdetect**

 
<table style="border:1px solid black;">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >セキュリティ設定</th>
<th style="border:1px solid black;" >設定の説明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">REG_DWORD = 0</td>
<td style="border:1px solid black;">セカンダリ ゲートウェイへの強制切り替えを防ぎます。</td>
</tr>
</tbody>
</table>
  
**HKLM\\SYSTEM\\CURRENTCONTROLSET\\SERVICES\\tcpip\\parameters\\disableipsourcerouting**

 
<table style="border:1px solid black;">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >セキュリティ設定</th>
<th style="border:1px solid black;" >設定の説明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">REG_DWORD = 1</td>
<td style="border:1px solid black;">IP ソース ルーティングを無効にします。</td>
</tr>
</tbody>
</table>
  
**HKLM\\SYSTEM\\CURRENTCONTROLSET\\SERVICES\\tcpip\\parameters\\ipenabledrouter**

 
<table style="border:1px solid black;">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >セキュリティ設定</th>
<th style="border:1px solid black;" >設定の説明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">REG_DWORD = 0</td>
<td style="border:1px solid black;">ネットワーク インターフェイス間のパケットの転送を無効にします。</td>
</tr>
</tbody>
</table>
  
![](images/Cc708591.arrow_px_up(ja-jp,WS.10).gif) [ページのトップへ](#ctl00_rs1_eb1_panel1)
  
### IIS 6.0 のセキュリティ設定
  
WSUS を実行する IIS 6.0 には、以下のセキュリティ設定が推奨されています。
  
#### URLScan
  
URLScan の以下の設定を使用して、WSUS の管理 Web ページを保護します。完全な Urlscan.ini ファイルについては、このトピックの最後の項を参照してください。

 
<table style="border:1px solid black;">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >オプション</th>
<th style="border:1px solid black;" >ISEC 設定</th>
<th style="border:1px solid black;" >設定の説明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">UseAllowVerbs</td>
<td style="border:1px solid black;">1</td>
<td style="border:1px solid black;">Urlscan.ini の [AllowVerbs] セクションを使用します。このセクションは、GET、HEAD、および POST のみを許可します。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">UseAllowExtensions</td>
<td style="border:1px solid black;">0</td>
<td style="border:1px solid black;">Urlscan.ini の [DenyExtensions] セクションを使用して、次のファイルを許可します。
ASP 要求 : .asp、.cer、.cdx、.asa
実行可能ファイル : .bat、.cmd、.com
- .exe は WSUS 用に有効にする必要があることに注意してください。
スクリプト : .htw、.ida、.idq、.htr、.idc、.shtm、.shtml、.stm、.printer
統計ファイル : .ini、.log、.pol、.dat</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">NormalizeUrlBeforeScan</td>
<td style="border:1px solid black;">1</td>
<td style="border:1px solid black;">処理の前に URL を標準化します。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">VerifyNormalization</td>
<td style="border:1px solid black;">1</td>
<td style="border:1px solid black;">URL を 2 度標準化し、変更があった場合に要求を拒否します。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">AllowHighBitCharacters</td>
<td style="border:1px solid black;">0</td>
<td style="border:1px solid black;">ハイビット文字を許可しません。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Allow Dot in Paths</td>
<td style="border:1px solid black;">0</td>
<td style="border:1px solid black;">パスに含まれるピリオドを許可しません。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Remove Server Header</td>
<td style="border:1px solid black;">1</td>
<td style="border:1px solid black;">ヘッダー応答からサーバー情報を削除します。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Per Process Logging</td>
<td style="border:1px solid black;">1</td>
<td style="border:1px solid black;">Urlscan.log の PID を有効にします。これにより、URLScan で追加のログ情報を使用できます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">AllowLateScanning</td>
<td style="border:1px solid black;">0</td>
<td style="border:1px solid black;">URLScan の優先度を高くします。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">PerDayLogging</td>
<td style="border:1px solid black;">1</td>
<td style="border:1px solid black;">URLScan で、'Urlscan.010101.log' という形式で動作の新しいログを毎日生成するように指定します。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">UseFastPathReject</td>
<td style="border:1px solid black;">0</td>
<td style="border:1px solid black;">URLScan で RejectResponseUrl を使用するか、または URLScan が IIS に要求のログを許可するように指定します。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">LogLongUrls</td>
<td style="border:1px solid black;">0</td>
<td style="border:1px solid black;">要求当たりのログの最大量を 1K に指定します。</td>
</tr>
</tbody>
</table>
  
#### IIS のセキュリティの構成
  
WSUS の管理が確実にセキュリティで保護されるよう、IIS Web サーバーで次の 3 つのセキュリティ設定を有効にすることを検討します。
  
##### 一般エラー メッセージを有効にする
  
既定では、IIS はリモート Web クライアントに詳細なエラー メッセージを発行します。IIS では詳細性の低い一般エラー メッセージを有効にすることをお勧めします。これにより、許可されていないユーザーが、IIS のエラー メッセージに基づいて IIS 環境を綿密に調査するのを防ぐことができます。
  
##### IIS の一般エラー メッセージを有効にするには
  
1.  \[スタート\] メニューの \[プログラム\]、\[管理ツール\] の順にポイントし、\[インターネット インフォメーション サービス (IIS) マネージャ\] をクリックします。
  
2.  ローカル コンピュータのノードを展開します。
  
3.  \[Web サイト\] を右クリックし、\[プロパティ\] をクリックします。
  
4.  \[ホーム ディレクトリ\] タブで、\[構成\] をクリックします。
  
5.  \[デバッグ\] タブで、\[以下の ASP エラー メッセージをクライアントに送信する\] をクリックします。
  
##### 追加のログ オプションを有効にする
  
既定では、IIS はさまざまなオプションのログを記録することが有効になっています。しかし、その他の主要なオプションもログに記録することをお勧めします。
  
##### 主要な IIS のログ パラメータを追加するには
  
1.  \[スタート\] メニューの \[プログラム\]、\[管理ツール\] の順にポイントし、\[インターネット インフォメーション サービス (IIS) マネージャ\] をクリックします。
  
2.  ローカル コンピュータのノードを展開します。
  
3.  \[Web サイト\] を右クリックし、\[プロパティ\] をクリックします。
  
4.  \[Web サイト\] タブで、\[プロパティ\] をクリックします。
  
5.  \[詳細設定\] タブで、次のログ オプションのチェック ボックスをオンにします。
  
    -   **サーバー名**
  
    -   **所要時間**
  
    -   **ホスト**
  
    -   **Cookie**
  
    -   **参照者**
  
##### ヘッダー拡張を削除する
  
既定では、IIS では HTTP 要求用のヘッダー拡張が有効になっています。IIS のヘッダー拡張はすべて削除することをお勧めします。
  
##### HTTP 要求用のヘッダー拡張を削除するには
  
1.  \[スタート\] メニューの \[プログラム\]、\[管理ツール\] の順にポイントし、\[インターネット インフォメーション サービス (IIS) マネージャ\] をクリックします。
  
2.  ローカル コンピュータのノードを展開します。
  
3.  \[Web サイト\] を右クリックし、\[プロパティ\] をクリックします。
  
4.  \[HTTP ヘッダー\] タブで、\[X-Powered-By: ASP.NET\] を選択し、\[削除\] をクリックします。
  
![](images/Cc708591.arrow_px_up(ja-jp,WS.10).gif) [ページのトップへ](#ctl00_rs1_eb1_panel1)
  
### SQL Server 2000
  
WSUS を実行する SQL Server 2000 には、以下のセキュリティ設定が推奨されています。
  
#### SQL のレジストリのアクセス許可
  
アクセス制御許可を使用して、SQL Server 2000 のレジストリ キーをセキュリティで保護します。
  
**HKLM\\SOFTWARE\\MICROSOFT\\MSSQLSERVER**

 
<table style="border:1px solid black;">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >ISEC 設定</th>
<th style="border:1px solid black;" >説明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">Administrators: フル コントロール
SQL Service Account: フル コントロール
System: フル コントロール</td>
<td style="border:1px solid black;">これらの設定は、許可された管理者またはシステム アカウントに対するアプリケーションのレジストリ キーへのアクセスを確実に制限するのに役立ちます。</td>
</tr>
</tbody>
</table>
  
#### ストアド プロシージャ
  
不要なストアド プロシージャ、およびデータベース サーバーをリモートに制御する機能を持つストアド プロシージャをすべて削除します。
  
不要な SQL Server 2000 のストアド プロシージャ

 
<table style="border:1px solid black;">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >説明</th>
<th style="border:1px solid black;" >ストアド プロシージャ</th>
<th style="border:1px solid black;" >説明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">次のコマンドを使用して、各ストアド プロシージャを削除します。
<strong>use master exec sp_dropextendedproc</strong><em>stored procedure</em>
<em>stored procedure</em> は、削除するストアド プロシージャの名前です。</td>
<td style="border:1px solid black;"><ul>
<li>Sp_OACreate</li>
<li>Sp_OADestroy</li>
<li>Sp_OAGetErrorInfo</li>
<li>Sp_OAGetProperty</li>
<li>Sp_OAMethod</li>
<li>Sp_OASetProperty</li>
<li>SP_OAStop</li>
<li>Xp_regaddmultistring</li>
<li>Xp_regdeletekey</li>
<li>Xp_regdeletevalue</li>
<li>Xp_regenumvalues</li>
<li>Xp_regread</li>
<li>Xp_regremovemultistring</li>
<li>Xp_regwrite</li>
<li>sp_sdidebug</li>
<li>xp_availablemedia</li>
<li>xp_cmdshell</li>
<li>xp_deletemail</li>
<li>xp_dirtree</li>
<li>xp_dropwebtask</li>
<li>xp_dsninfo</li>
<li>xp_enumdsn</li>
<li>xp_enumerrorlogs</li>
<li>xp_enumgroups</li>
<li>xp_eventlog</li>
<li>xp_findnextmsg</li>
<li>xp_fixeddrives</li>
<li>xp_getfiledetails</li>
<li>xp_getnetname</li>
<li>xp_logevent</li>
<li>xp_loginconfig</li>
<li>xp_makewebtask</li>
<li>xp_msver</li>
<li>xp_readerrorlog</li>
<li>xp_readmail</li>
<li>xp_runwebtask</li>
<li>xp_sendmail</li>
<li>xp_sprintf</li>
<li>xp_sscanf</li>
<li>xp_startmail</li>
<li>xp_stopmail</li>
<li>xp_subdirs</li>
<li>xp_unc_to_drive</li>
</ul></td>
<td style="border:1px solid black;">WSUS に不要なストアド プロシージャ、および許可されていないユーザーにデータベースでのコマンド ライン操作の実行機能を提供する可能性のあるストアド プロシージャを、すべて削除します。</td>
</tr>
</tbody>
</table>
  
![](images/Cc708591.arrow_px_up(ja-jp,WS.10).gif) [ページのトップへ](#ctl00_rs1_eb1_panel1)
  
### Urlscan.ini ファイル
  
以下は、完全な Urlscan.ini ファイルの複写です。
  
```  
 \[options\] UseAllowVerbs=1 ; If 1, use \[AllowVerbs\] section, else use the ; \[DenyVerbs\] section. UseAllowExtensions=0 ; If 1, use \[AllowExtensions\] section, else use ; the \[DenyExtensions\] section. NormalizeUrlBeforeScan=1 ; If 1, canonicalize URL before processing. VerifyNormalization=1 ; If 1, canonicalize URL twice and reject request ; if a change occurs. AllowHighBitCharacters=0 ; If 1, allow high bit (ie. UTF8 or MBCS) ; characters in URL. AllowDotInPath=0 ; If 1, allow dots that are not file extensions. RemoveServerHeader=1 ; If 1, remove the 'Server' header from response. EnableLogging=1 ; If 1, log UrlScan activity. PerProcessLogging=1 ; If 1, the UrlScan.log filename will contain a PID ; (ie. UrlScan.123.log). AllowLateScanning=0 ; If 1, then UrlScan will load as a low priority ; filter. PerDayLogging=1 ; If 1, UrlScan will produce a new log each day with ; activity in the form 'UrlScan.010101.log'. UseFastPathReject=0 ; If 1, then UrlScan will not use the ; RejectResponseUrl or allow IIS to log the request. LogLongUrls=0 ; If 1, then up to 128K per request can be logged. ; If 0, then only 1k is allowed. ; ; If UseFastPathReject is 0, then UrlScan will send ; rejected requests to the URL specified by RejectResponseUrl. ; If not specified, '/&lt;Rejected-by-UrlScan&gt;' will be used. ; RejectResponseUrl= ; ; LoggingDirectory can be used to specify the directory where the ; log file will be created. This value should be the absolute path ; (ie. c:\\some\\path). If not specified, then UrlScan will create ; the log in the same directory where the UrlScan.dll file is located. ; LoggingDirectory=C:\\WINDOWS\\system32\\inetsrv\\urlscan\\logs ; ; If RemoveServerHeader is 0, then AlternateServerName can be ; used to specify a replacement for IIS's built in 'Server' header ; AlternateServerName= \[RequestLimits\] ; ; The entries in this section impose limits on the length ; of allowed parts of requests reaching the server. ; ; It is possible to impose a limit on the length of the ; value of a specific request header by prepending "Max-" to the ; name of the header. For example, the following entry would ; impose a limit of 100 bytes to the value of the ; 'Content-Type' header: ; ; Max-Content-Type=100 ; ; To list a header and not specify a maximum value, use 0 ; (ie. 'Max-User-Agent=0'). Also, any headers not listed ; in this section will not be checked for length limits. ; ; There are 3 special case limits: ; ; - MaxAllowedContentLength specifies the maximum allowed ; numeric value of the Content-Length request header. For ; example, setting this to 1000 would cause any request ; with a content length that exceeds 1000 to be rejected. ; The default is 30000000. ; ; - MaxUrl specifies the maximum length of the request URL, ; not including the query string. The default is 260 (which ; is equivalent to MAX\_PATH). ; ; - MaxQueryString specifies the maximum length of the query ; string. The default is 2048. ; MaxAllowedContentLength=30000000 MaxUrl=260 MaxQueryString=2048 \[AllowVerbs\] ; ; The verbs (aka HTTP methods) listed here are those commonly ; processed by a typical IIS server. ; ; Note that these entries are effective if "UseAllowVerbs=1" ; is set in the \[Options\] section above. ; GET HEAD POST \[DenyVerbs\] ; ; The verbs (aka HTTP methods) listed here are used for publishing ; content to an IIS server via WebDAV. ; ; Note that these entries are effective if "UseAllowVerbs=0" ; is set in the \[Options\] section above. ; PROPFIND PROPPATCH MKCOL DELETE PUT COPY MOVE LOCK UNLOCK OPTIONS SEARCH \[DenyHeaders\] ; ; The following request headers alter processing of a ; request by causing the server to process the request ; as if it were intended to be a WebDAV request, instead ; of a request to retrieve a resource. ; Translate: If: Lock-Token: Transfer-Encoding: \[AllowExtensions\] ; ; Extensions listed here are commonly used on a typical IIS server. ; ; Note that these entries are effective if "UseAllowExtensions=1" ; is set in the \[Options\] section above. ; .htm .html .txt .jpg .jpeg .gif \[DenyExtensions\] ; ; Extensions listed here either run code directly on the server, ; are processed as scripts, or are static files that are ; generally not intended to be served out. ; ; Note that these entries are effective if "UseAllowExtensions=0" ; is set in the \[Options\] section above. ; ; Also note that ASP scripts are denied with the below ; settings. If you wish to enable ASP, remove the ; following extensions from this list: ; .asp ; .cer ; .cdx ; .asa ; ; Deny ASP requests .asp .cer .cdx .asa ; Deny executables that could run on the server ;.exe .bat .cmd .com ; Deny infrequently used scripts .htw ; Maps to webhits.dll, part of Index Server .ida ; Maps to idq.dll, part of Index Server .idq ; Maps to idq.dll, part of Index Server .htr ; Maps to ism.dll, a legacy administrative tool .idc ; Maps to httpodbc.dll, a legacy database access tool .shtm ; Maps to ssinc.dll, for Server Side Includes .shtml ; Maps to ssinc.dll, for Server Side Includes .stm ; Maps to ssinc.dll, for Server Side Includes .printer ; Maps to msw3prt.dll, for Internet Printing Services ; Deny various static files .ini ; Configuration files .log ; Log files .pol ; Policy files .dat ; Configuration files \[DenyUrlSequences\] .. ; Don't allow directory traversals ./ ; Don't allow trailing dot on a directory name \\ ; Don't allow backslashes in URL : ; Don't allow alternate stream access % ; Don't allow escaping after normalization & ; Don't allow multiple CGI processes to run on a single request  
```  
![](images/Cc708591.arrow_px_up(ja-jp,WS.10).gif) [ページのトップへ](#ctl00_rs1_eb1_panel1)
