---
TOCTitle: 'Data Encryption Toolkit for Mobile PCs : 第 4 章 : BitLocker と EFS の併用'
Title: 'Data Encryption Toolkit for Mobile PCs : 第 4 章 : BitLocker と EFS の併用'
ms:assetid: '80c0d0af-2c2e-45d6-9b29-f850926296bb'
ms:contentKeyID: 19869230
ms:mtpsurl: 'https://technet.microsoft.com/ja-jp/library/Cc162807(v=TechNet.10)'
---

Data Encryption Toolkit for Mobile PCs – セキュリティ分析
=========================================================

### 第 4 章 : BitLocker と EFS の併用

公開日: 2007年8月20日

**ダウンロード**  
[Data Encryption Toolkit for Mobile PCs を入手する (英語)](https://www.microsoft.com/download/details.aspx?familyid=1a99576a-fe67-418f-88b1-81e2055fe977&displaylang=en)

Microsoft® BitLocker™ ドライブ暗号化 (BitLocker) と暗号化ファイル システム (EFS) は 2 つの独立したテクノロジであり、これらを併用することでデータ セキュリティのために非常に強力な包括的ソリューションを確立できます。 BitLocker と EFS を併用した暗号化ソリューションでは、BitLocker が提供するコンピュータ単位の強力な暗号化と、EFS が提供するユーザー単位の暗号化を利用できます。

##### トピック

[](#ebaa)[BitLocker と EFS の組み合わせを選択する](#ebaa)

### BitLocker と EFS の組み合わせを選択する

組織では、BitLocker と EFS をさまざまな構成で組み合わせることができます。 この文書では、すべての組み合わせを完全に説明することはできませんが、BitLocker と EFS の一般的な組み合わせを紹介します。 ここでは、いくつかの組み合わせを要約し、リスク軽減について説明します。 組み合わせは次のとおりです。

-   トラステッド プラットフォーム モジュール (TPM) を使用する BitLocker と EFS

-   TPM と個人識別番号 (PIN) を使用する BitLocker と EFS

-   TPM と PIN を使用する BitLocker とスマート カードを使用する EFS

#### TPM を使用する BitLocker とソフトウェア キー ストレージを使用する EFS

TPM を使用する BitLocker とソフトウェア キー ストレージを使用する EFS を組み合わせると、最小限の負担とユーザー トレーニングで基本的なセキュリティを確立できます。

BitLocker と EFS を併用する組織にとって最も役立つソリューションは、TPM を使用する BitLocker と EFS (スマート カードなし) オプションを組み合わせる構成です。この構成については、このガイドで前述しています。 ここでは、このようなソリューションの特性について説明します。

##### 軽減されるリスク : TPM を使用する BitLocker とソフトウェア キー ストレージを使用する EFS

BitLocker と EFS を併用すると、データに対する次のリスクが軽減されます。

-   **部内者による暗号化ファイルの閲覧**。 BitLocker と比べた場合の EFS の利点は、暗号化キーがユーザーの資格情報で保護された安全なキー ストアに保存されることです。 この構成では、資格情報はパスワードです。 したがって、コンピュータで認証されたその他のユーザーは、対話的な手順を通じて、またはネットワークを通じてコンピュータにログオンできますが、ファイルへのアクセス許可が特別に与えられている場合を除いて、別のユーザーによって EFS で保護された機密ファイルにはコンピュータ上でアクセスすることができません。

-   **オフライン攻撃によるキーの検出**。 ボリューム マスタ キー (VMK) は、PIN と組み合わせた TPM ハードウェア内のキーで暗号化されます。 PIN が不明である場合、完全なボリューム暗号化キー (FVEK) の値を確認するために、攻撃者はブルート フォース攻撃をしかける必要があります。

-   **オペレーティング システムへのオフライン攻撃**。 オペレーティング システムに対するオフライン攻撃では、攻撃者は TPM からストレージ ルート キー (SRK) を回復し、それを使用して VMK の暗号化を解除するか、FVEK に対してブルート フォース攻撃をしかける必要があるため、実質的にリスクは軽減されます。 また、ディフューザ テクノロジ (既定で有効) で構成された BitLocker では、暗号文に小さな変更を加えた場合でも広い領域の暗号化が変更されるため、焦点を正確に定めたこのような攻撃のリスクが軽減されます。

-   **休止状態ファイルからのプレーンテキスト データの漏えい**。 BitLocker の主な目的は、コンピュータがオフまたは休止状態モードになっているときに、ハード ディスク ドライブにあるオペレーティング システム ボリュームのデータを保護することです。 BitLocker が有効な場合、休止状態ファイルは暗号化されます。

-   **システム ページング ファイルからのプレーンテキスト データの漏えい**。 Windows Vista の場合、一時的な対称キーを使用してページング ファイルを暗号化するように EFS を構成することができます。この一時的なキーは、起動時に生成されますが、ディスクに書き込まれることはありません。 システムのシャットダウン後に、このキーは破棄されます。したがって、ページ ファイルからデータを回復するには、ブルートフォース攻撃をしかけ、ページ ファイルの暗号化に使用された対称キーを見つける必要があります。 また BitLocker が有効である場合、攻撃者が何らかの役立つ情報を回復するには、BitLocker を克服したうえで、ページ ファイル キーに対するブルート フォース攻撃に成功する必要があります。

-   **ユーザー エラー**。 BitLocker はボリューム全体を暗号化するテクノロジであるため、Windows Vista オペレーティング システム ボリュームに保存されたすべてのファイルが暗号化されます。 この機能は、暗号化を適用すべきかどうか適切に判断できない状況でユーザーによるミスを防ぐのに役立ちます。

##### その他のリスクとその軽減 : TPM を使用する BitLocker とソフトウェア キー ストレージを使用する EFS

次のリスクは、コントロールやポリシーを追加しないと、BitLocker と EFS を併用しても軽減できません。 これらのリスクとその軽減の詳細については、この『*セキュリティ分析*』の「[第 2 章 : BitLocker ドライブ暗号化](https://technet.microsoft.com/ja-jp/library/cc162804)」と「[第 3 章 : 暗号化ファイル システム](https://technet.microsoft.com/ja-jp/library/cc162818)」で説明するシナリオを参照してください。

-   **休止状態のコンピュータ**。 コンピュータの再開時にパスワード入力を要求するようにコンピュータが構成されていない場合、オペレーティング システムでは、現在のユーザーが適切なユーザーかどうかを判別することができません。 休止状態モードからの再開時にユーザーの資格情報を要求するようにコンピュータが構成されている場合、このリスクは軽減されます。

-   **スリープ (スタンバイ) モードのコンピュータ**。 休止状態モードの場合と同様に、ラップトップ コンピュータがスリープ モードになったときでも、そのラップトップの状態と BitLocker 暗号化キーは変わりません。 スリープ モードから再開した後も、コンピュータでは FVEK にアクセスできる状態になっています。 **\[スタンバイから回復するときにパスワードの入力を求める\]** 設定を有効にすると、このリスクを軽減できます。

-   **ログオンしたままのコンピュータ、ロックされていないデスクトップ**。 BitLocker と EFS で保護されたコンピュータの場合でも、デスクトップにアクセスできるユーザーは、基本的に、そのコンピュータへの完全なアクセス権を持っています。 セキュリティ意識向上トレーニングを実施し、操作のない時間が一定時間経過するとコンピュータが自動的にロックされるようにグループ ポリシーを設定することで、このリスクを軽減できます。

-   **ローカル/ドメイン パスワードの検知**。 EFS キーは、まずユーザーのパスワードから生成されたキーから暗号化が解除されます。 したがって、ユーザーのパスワードが侵害されると、EFS の暗号化も侵害されます。

-   **オペレーティング システムへのオンライン攻撃**。 オペレーティング システムに対するオンライン攻撃のリスクは、このオプションでは *軽減されません*。 実行中のオペレーティング システムを攻撃できる攻撃者は、暗号化されたデータの暗号化を回復するために自分で選んだコードを自由に実行できます。

-   **プラットフォームへの攻撃**。 BitLocker でも、EFS でも、プラットフォームへの攻撃からシステムを完全に保護することはできません。

-   **コンピュータに残された認証要素**。 ユーザーがコンピュータにログオン パスワードを残した場合、攻撃者はログオンしてそのユーザーになりすまし、リソースに完全にアクセスできるようになります。 このリスクは、ユーザーのためにセキュリティ意識向上トレーニングを実施することで軽減できます。

#### TPM と PIN を使用する BitLocker とソフトウェア キー ストレージを使用する EFS

BitLocker 対応コンピュータに PIN 要求を追加すると、利便性と管理性が低下しますが、BitLocker テクノロジのセキュリティは大幅に向上します。 このオプションでは、コンピュータを使用するために 2 つのパスワードの入力が要求されます。 1 つは起動時の BitLocker 用であり、もう 1 つはログオン時のコンピュータまたはドメイン用です。 PIN はファンクション キー (F0 ～ F9) で入力する数字に限定されており、ほとんどのドメイン パスワード ポリシーでは数字のみのパスワードが拒否されるため、これらの 2 つのパスワードは異なる値にする必要があります。 この組み合わせを使用すると、BitLocker で対応できない攻撃にも、EFS でリスクを軽減できます。

##### 軽減されるリスク : TPM と PIN を使用する BitLocker とソフトウェア キー ストレージを使用する EFS

-   **休止状態のコンピュータ**。 休止状態モードからラップトップを再開するときに PIN の入力を要求されるため、TPM と PIN を使用する BitLocker ではこのリスクが軽減されます。

-   **ローカル/ドメイン パスワードの検知**。 TPM と PIN を使用する BitLocker の主な利点は、コンピュータの起動のために、または休止状態モードからの再開のために、入力する必要がある要素 (つまり、資格情報) が追加されることです。 このような利点は、ソーシャル エンジニアリング攻撃を受けやすいユーザーや、パスワード利用上の注意事項に疎いユーザー (たとえば、信頼されていないコンピュータで Windows パスワードを使用してしまうユーザーなど) に有効です。

-   **部内者による暗号化ファイルの閲覧**。 BitLocker と比べた場合の EFS の利点は、暗号化キーがユーザーの資格情報で保護された安全なキー ストアに保存されることです。 この構成では、資格情報はパスワードです。 したがって、コンピュータで認証されたその他のユーザーは、対話的な手順を通じて、またはネットワークを通じてコンピュータにログオンできますが、ファイルへのアクセス許可が特別に与えられている場合を除いて、別のユーザーによって EFS で保護された機密ファイルにはコンピュータ上でアクセスすることができません。

-   **オフライン攻撃によるキーの検出**。 VMK は、PIN と組み合わせた TPM ハードウェア内のキーで暗号化されます。 PIN が不明である場合、FVEK の値を確認するために、攻撃者はブルート フォース攻撃をしかける必要があります。

-   **オペレーティング システムへのオフライン攻撃**。 オペレーティング システムに対するオフライン攻撃では、攻撃者は TPM から SRK を回復し、それを使用して VMK の暗号化を解除するか、FVEK に対してブルート フォース攻撃をしかける必要があるため、実質的にリスクは軽減されます。 また、ディフューザ テクノロジ (既定で有効) で構成された BitLocker では、暗号文に小さな変更を加えた場合でも広い領域の暗号化が変更されるため、焦点を正確に定めたこのような攻撃のリスクが軽減されます。

-   **休止状態ファイルからのプレーンテキスト データの漏えい**。 BitLocker の主な目的は、コンピュータがオフまたは休止状態モードになっているときに、ハード ディスク ドライブにあるオペレーティング システム ボリュームのデータを保護することです。 BitLocker が有効な場合、休止状態ファイルは暗号化されます。

-   **システム ページング ファイルからのプレーンテキスト データの漏えい**。 Windows Vista の場合、一時的な対称キーを使用してページング ファイルを暗号化するように EFS を構成することができます。この一時的なキーは、起動時に生成されますが、ディスクに書き込まれることはありません。 システムのシャットダウン後に、このキーは破棄されます。したがって、ページ ファイルからデータを回復するには、ブルートフォース攻撃をしかけ、ページ ファイルの暗号化に使用された対称キーを見つける必要があります。 また BitLocker が有効である場合、攻撃者が何らかの役立つ情報を回復するには、BitLocker を克服したうえで、ページ ファイル キーに対するブルート フォース攻撃に成功する必要があります。

-   **コンピュータに残された認証要素**。 PIN は、メモに書き込んで目に付く場所に置いておかない限りコンピュータで侵害されることがない第 2 の非物理的認証要素です。

-   **ユーザー エラー**。 BitLocker はボリューム全体を暗号化するテクノロジであるため、Windows Vista オペレーティング システム ボリュームに保存されたすべてのファイルが暗号化されます。 この機能は、暗号化を適用すべきかどうか適切に判断できない状況でユーザーによるミスを防ぐのに役立ちます。

##### その他のリスクとその軽減 : TPM と PIN を使用する BitLocker とソフトウェア キー ストレージを使用する EFS

次のリスクは、コントロールやポリシーを追加しないと、BitLocker と EFS を併用しても軽減できません。 これらのリスクとその軽減の詳細については、この『*セキュリティ分析*』の「[第 2 章 : BitLocker ドライブ暗号化](https://technet.microsoft.com/ja-jp/library/cc162804)」と「[第 3 章 : 暗号化ファイル システム](https://technet.microsoft.com/ja-jp/library/cc162818)」で説明するシナリオを参照してください。

-   **スリープ (スタンバイ) モードのコンピュータ**。 ラップトップ コンピュータがスリープ モードになったときでも、そのラップトップの状態と BitLocker 暗号化キーは変わりません。 スリープ モードから再開した後も、コンピュータでは FVEK にアクセスできる状態になっています。 **\[スタンバイから回復するときにパスワードの入力を求める\]** 設定を有効にすると、このリスクを軽減できます。

-   **ログオンしたままのコンピュータ、ロックされていないデスクトップ**。 BitLocker と EFS で保護されたコンピュータの場合でも、デスクトップにアクセスできるユーザーは、基本的に、そのコンピュータへの完全なアクセス権を持っています。 セキュリティ意識向上トレーニングを実施し、操作のない時間が一定時間経過するとコンピュータが自動的にロックされるようにグループ ポリシーを設定することで、このリスクを軽減できます。

-   **オペレーティング システムへのオンライン攻撃**。 オペレーティング システムに対するオンライン攻撃のリスクは、このオプションでは *軽減されません*。 実行中のオペレーティング システムを攻撃できる攻撃者は、暗号化されたデータの暗号化を回復するために自分で選んだコードを自由に実行できます。

-   **プラットフォームへの攻撃**。 BitLocker でも、EFS でも、プラットフォームへの攻撃からシステムを完全に保護することはできません。

#### TPM と PIN を使用する BitLocker とスマート カードを使用する EFS (キャッシュ キー モード)

TPM と PIN を使用する BitLocker と、キャッシュ キー モードでスマート カードを使用する EFS を併用すると、このガイドで説明しているほとんどすべての主要なリスクが軽減されます。 ただし、このテクノロジの組み合わせでは、スマート カード インフラストラクチャの展開に多額の投資が必要になるため、業務上、このレベルのセキュリティが必要とされる組織に最も適しています。

##### 軽減されるリスク : TPM と PIN を使用する BitLocker とスマート カードを使用する EFS

-   **休止状態のコンピュータ**。 休止状態モードからラップトップを再開するときに PIN の入力を要求されるため、TPM と PIN を使用する BitLocker ではこのリスクが軽減されます。

-   **ローカル/ドメイン パスワードの検知**。 TPM と PIN を使用する BitLocker の主な利点は、コンピュータの起動のために、または休止状態モードからの再開のために、入力する必要がある要素 (つまり、資格情報) が追加されることです。 このような利点は、ソーシャル エンジニアリング攻撃を受けやすいユーザーや、パスワード利用上の注意事項に疎いユーザー (たとえば、信頼されていないコンピュータで Windows パスワードを使用してしまうユーザーなど) に有効です。

-   **部内者による暗号化ファイルの閲覧**。 BitLocker と比べた場合の EFS の利点は、暗号化キーがユーザーの資格情報で保護された安全なキー ストアに保存されることです。 この構成では、資格情報はパスワードです。 したがって、コンピュータで認証されたその他のユーザーは、対話的な手順を通じて、またはネットワークを通じてコンピュータにログオンできますが、ファイルへのアクセス許可が特別に与えられている場合を除いて、別のユーザーによって EFS で保護された機密ファイルにはコンピュータ上でアクセスすることができません。

-   **オフライン攻撃によるキーの検出**。 VMK は、PIN と組み合わせた TPM ハードウェア内のキーで暗号化されます。 PIN が不明である場合、FVEK の値を確認するために、攻撃者はブルート フォース攻撃をしかける必要があります。

-   **オペレーティング システムへのオフライン攻撃**。 オペレーティング システムに対するオフライン攻撃では、攻撃者は TPM から SRK を回復し、それを使用して VMK の暗号化を解除するか、FVEK に対してブルート フォース攻撃をしかける必要があるため、実質的にリスクは軽減されます。 また、ディフューザ テクノロジ (既定で有効) で構成された BitLocker では、暗号文に小さな変更を加えた場合でも広い領域の暗号化が変更されるため、焦点を正確に定めたこのような攻撃のリスクが軽減されます。

-   **休止状態ファイルからのプレーンテキスト データの漏えい**。 BitLocker の主な目的は、コンピュータがオフまたは休止状態モードになっているときに、ハード ディスクにあるオペレーティング システム ボリュームのデータを保護することです。 BitLocker が有効な場合、休止状態ファイルは暗号化されます。

-   **システム ページング ファイルからのプレーンテキスト データの漏えい**。 Windows Vista の場合、一時的な対称キーを使用してページング ファイルを暗号化するように EFS を構成することができます。この一時的なキーは、起動時に生成されますが、ディスクに書き込まれることはありません。 システムのシャットダウン後に、このキーは破棄されます。したがって、ページ ファイルからデータを回復するには、ブルートフォース攻撃をしかけ、ページ ファイルの暗号化に使用された対称キーを見つける必要があります。 また BitLocker が有効である場合、攻撃者が何らかの役立つ情報を回復するには、BitLocker を克服したうえで、ページ ファイル キーに対するブルート フォース攻撃に成功する必要があります。

-   **コンピュータに残された認証要素**。 PIN は、メモに書き込んで目に付く場所に置いておかない限りコンピュータで侵害されることがない第 2 の非物理的認証要素です。

-   **ユーザー エラー**。 BitLocker はボリューム全体を暗号化するテクノロジであるため、Windows Vista オペレーティング システム ボリュームに保存されたすべてのファイルが暗号化されます。 この機能は、暗号化を適用すべきかどうか適切に判断できない状況でユーザーによるミスを防ぐのに役立ちます。

##### その他のリスクとその軽減 : TPM と PIN を使用する BitLocker とスマート カードを使用する EFS

-   **スリープ (スタンバイ) モードのコンピュータ**。 Bitlocker でも、キャッシュ キー モードでスマート カードを使用する EFS でも、このリスクは軽減されません。 スタンバイ モードのコンピュータにアクセスできる攻撃者は、コンピュータを実行状態に戻したうえで、そのユーザーにアクセス権が与えられているすべてのデータにアクセスできます。

-   **ログオンしたままのコンピュータ、ロックされていないデスクトップ**。 キャッシュ キー スマート カード モードでは、このリスクは軽減されません。 ロックされていないデスクトップにアクセスできる攻撃者は、正当なユーザーになりすまして、そのユーザーにアクセス権が与えられているすべてのデータにアクセスできます。

-   **オペレーティング システムへのオンライン攻撃**。 BitLocker でも EFS でも、オペレーティング システムへのオンライン攻撃のリスクを十分に軽減することはできません。 実行中のオペレーティング システムを攻撃できる攻撃者は、暗号化されたデータの暗号化を回復するために自分で選んだコードを自由に実行できます。 ただし、非キャッシュ キー モードでスマート カードを使用する EFS では、暗号化キーを回復しようとするオンライン攻撃に対して、リスクを有効に軽減することができます。

-   **プラットフォームへの攻撃**。 キャッシュ モードの場合、スマート カード キー ストレージと EFS を併用するように構成されたコンピュータでは、EFS キーがメモリに保持されます。したがって、プラットフォームへの攻撃では、キーが回復される可能性があります。 BitLocker では、プラットフォームへの攻撃からシステムを保護することはできません。

#### リスク分析の要約

次の表は、各データ リスクの軽減について、TPM と PIN を使用する BitLocker とソフトウェア キー ストレージを使用する EFS の組み合わせの中で、どのオプションが有効かを示しています。 該当の組み合わせで軽減されるリスクには **Y** という文字、軽減されないリスクにはハイフン **–** が記載されています。

**表 4.1 BitLocker と EFS によるリスク軽減**

![](images/Cc162807.53d5723f-6e99-4b7a-9dde-4c45fd75288c(ja-jp,TechNet.10).gif)

[](#mainsection)[ページのトップへ](#mainsection)

##### 目次

-   [概要](https://technet.microsoft.com/ja-jp/library/abfc4696-a39a-43df-b559-133633e4bd5e(v=TechNet.10))
-   [第 1 章 : リスクの検討](https://technet.microsoft.com/ja-jp/library/df2c6d71-98f7-4212-b3b7-b9eb2f501348(v=TechNet.10))
-   [第 2 章 : BitLocker ドライブ暗号化](https://technet.microsoft.com/ja-jp/library/4e6ce820-fcac-495a-9f23-73d65d846638(v=TechNet.10))
-   [第 3 章 : 暗号化ファイル システム](https://technet.microsoft.com/ja-jp/library/dc2cde72-a84d-4716-9a30-f62b608efda1(v=TechNet.10))
-   第 4 章 : BitLocker と EFS の併用
-   [第 5 章 : 適切なソリューションを選択する](https://technet.microsoft.com/ja-jp/library/b77d6369-10e9-4e66-8c67-c9f8cb073ced(v=TechNet.10))

[](#mainsection)[ページのトップへ](#mainsection)
