---
TOCTitle: '企業セキュリティのベスト プラクティス : セキュリティ ベストプラクティス ‐ 管理権限における データ セキュリティとデータ可用性'
Title: '企業セキュリティのベスト プラクティス : セキュリティ ベストプラクティス ‐ 管理権限における データ セキュリティとデータ可用性'
ms:assetid: 'f00d5a40-ca77-48f5-b90a-9d5d7ca74c0b'
ms:contentKeyID: 19869268
ms:mtpsurl: 'https://technet.microsoft.com/ja-jp/library/Cc722918(v=TechNet.10)'
---

セキュリティ ベストプラクティス
===============================

### 管理権限におけるデータ セキュリティとデータ可用性

最終更新日: 2002年4月30

**作成者**  Kenneth Pfeil  
**執筆協力者**  David Swartzendruber

**マイクロソフト ソリューション フレームワーク**

**メモ** このホワイト ペーパーは、[企業セキュリティのベストプラクティス](https://technet.microsoft.com/ja-jp/library/300c0dbe-b729-4d42-b172-eb89a280caaa(v=TechNet.10)) シリーズの 1 つです。[セキュリティ要素構成アーキテクチャ](https://technet.microsoft.com/ja-jp/library/540a3b86-f8f0-49ca-939e-ab7c609c3601(v=TechNet.10))も併せてご参照ください。

##### トピック

[](#eeaa)[このホワイト ペーパーの趣旨](#eeaa)  
[](#edaa)[第 1 部 : データ セキュリティとデータ可用性の目標](#edaa)  
[](#ecaa)[第 2 部 : データ可用性](#ecaa)  
[](#ebaa)[第 3 部 : データ セキュリティ](#ebaa)  
[](#eaaa)[その他の有益な情報源](#eaaa)  

### このホワイト ペーパーの趣旨

このホワイト ペーパーでは、管理権限におけるデータ セキュリティとデータ可用性の重要点の概要を示します。完全に安全な環境を目標とするのは、非現実的です。完全無欠な環境はありえません。環境が複雑になればなるほど、効果的な保護が困難になるという傾向があるのは確かですが、このホワイト ペーパーに記載されている情報をほかのホワイト ペーパーに記載されている基本事項と併せて活用すれば、安全性の高い環境を構築できます。

どのようなセキュリティ計画も、組織の方針、予算、スタッフ、技術、および実地的ノウハウなどの要因に左右されます。これらの要因には、実装前に慎重に検討しなければならない金銭的なコストと無形のコストが付随します。管理権限に問題があると、企業内全体に悪影響が及びます。したがって、安全なコンピューティング環境を確保するには、細心の注意が必要です。

このホワイト ペーパーでは、"企業" および "管理権限" を互いに置き換え可能な用語として使用しています。この 2 つには、同じ基本原則が適用するからです。このホワイト ペーパーは、次の 4 つの節に分かれています。

-   **データ セキュリティとデータ可用性の目標** エンタープライズ コンピューティング環境内における責任分担の目標の概要を述べます。

-   **データ可用性** 企業内におけるデータ可用性の定義と、可用性を維持する上での推奨事項を示します。

-   **データ セキュリティ** データ セキュリティの定義と、エンタープライズ コンピューティング環境でデータを保護する方法について説明します。ファイアウォール、侵入の検出、およびデジタル鑑識についても述べます。侵入発生の検出と修復の手順を示し、侵入の証拠を取得して、詳しく分析したり、法的措置に訴えたりする方法も示します。

-   **管理シナリオと最適な方法** データ可用性とデータ セキュリティを確保するために実際にどのような方法が採られているかを示します。

このホワイト ペーパーでは、マイクロソフト コンサルティング サービス (MCS) の最適な方法から取得されたセキュリティ情報のほか、権威ある標準機構や ICSA、CSI、ISSA、SANS、ISC2 および IETF などの独立系機関によって確立された理論、技術、および推奨事項について触れます。

[](#mainsection)[ページのトップへ](#mainsection)

### 第 1 部 : データ セキュリティとデータ可用性の目標

#### ユーザーに関する考慮点

企業内におけるユーザーの責任分担は、セキュリティを実装する上での基盤となります。どんなに頑丈な鎖でも、一箇所弱い部分があれば、そこから破断してしまいます。平均的なユーザーは、セキュリティに関心を持つどころか、自分には関係のないことだと考える傾向があります。しかし、実際にはまったく逆で、セキュリティはすべてのユーザーが取り組まなければならない課題です。ユーザーのパスワードが数ヶ月も変更されていなかったり、アカウント名と同じパスワードが使用されていたりすると、ハッカーが環境に侵入し、特権レベルの引き上げを悪用して環境全体を手中に収める危険性が生じます。これでは、ハッカーの思うがままに事が進んでしまいます。こういった問題は、組織内で防止策を講じていても、常に発生する危険性があります。ユーザーが帰宅することについても考慮が必要です。また、在宅勤務のユーザーがいる場合は、企業の規模が大きくなります。

**IT およびシステムに関する考慮点**

企業によっては、IT およびシステム関係のスタッフが、このホワイト ペーパーで後述するタスクを実行するほか、セキュリティ ポリシーの策定と適用に忙殺されることがある一方で、管理者ロールを拡張するだけで事足りることもあります。このどちらになるかは、会社で定めている組織構成、予算、および職能の範囲によって異なります。

**管理者に関する考慮点**

管理者のタスクと責任分担は多岐にわたるため、ここですべてを列挙することはできません。このホワイト ペーパーで言及する項目のほか、その責任範囲は幅広く、企業、ドメイン、サイト、および組織の各レベルにおいて指導者、トレーナー、監視人などの役割を担わなければならないこともあります。これらの責任をどのレベルで担うかは、会社によって異なるばかりか、組織ごとにも異なります。

[](#mainsection)[ページのトップへ](#mainsection)

### 第 2 部 : データ可用性

#### データ可用性とは

辞書的な定義によれば、可用性とは、データやリソースが存在しており、使用可能で取得可能な状態になっていることを意味します。この定義の限りにおいては、データの可用性とは単にデータを常にアクセス可能かつ取得可能な状態に維持することを意味するかのように思えますが、企業では、そんなに簡単には行きません。さまざまな要因を考慮しなければなりません。

-   デバイスとネットワーク接続手段の間の利用可能な帯域幅

-   高可用性確保のためのメカニズムと、それらのセキュリティおよびアクセス性

-   可用性を確保するデータの優先度と種類

-   回復のロールと責任分担

-   ファイル システムの種類とアクセスのレベル

-   記憶/読み出し用のデバイスまたはメディアの種類 (ハードウェアとソフトウェアの両方を含む)

-   責任者と関係者間のサービス レベル契約 (SLA)

-   影響を受けるメカニズムの処理オーバーヘッド

-   障害回復/業務再開計画 (BRP) (BRP については、このホワイト ペーパーで後述します)。

適切なプランニングが不可欠です。データ可用性をどのようにして確保するかを検討する際には、想定されるあらゆる局面とシナリオを慎重に評価する必要があります。誰が、何を、いつ、どこで、どのように、どういう理由で行うか (5W 1H) を明確にしてください。

**企業における考慮点**

企業のデータ可用性には、一見して想像されるよりも、はるかに複雑な性質があります。企業内の各システムについてロード マップを用意し、その重要性を判別すると共に、想定されるあらゆるシナリオに対応できるフェイルセーフ メカニズムを検討する必要があります。最初に全体像を把握し、システムのロールと重要度を定義すると、次のような、より詳細な項目を検討できます。

-   組織のロールとポリシー

-   可用性を確保するデータ

-   サービスのコスト (およびコストの負担先)

-   攻撃にさらされるリスクと攻撃にさらされたときにサービスや業務が被る損失の見積もり

-   可用性のために採用する技術

**DoS (Denial of Service)**

**DoS とは**

DoS (Denial of Service) は、正当なユーザーまたはプロセスに対してリソースの使用を拒否する攻撃を意味します。意図的な手段によるもの (SYN Flooding) と、意図的でない手段によるもの (偶発的なユーザー ディスク消費) があります。ほとんど毎日のように、新しい種類の DoS 攻撃が報告されています。特に、いくつかの有名なインターネット サイトが分散型 DoS 攻撃の被害に遭ったことはよく知られています。この種の攻撃は従来から知られていましたが、ハッカーたちは新しい創意工夫を凝らしており、分散型コンピューティング技術を応用して、攻撃力を強化してきています。このような攻撃を仕掛けるツールは、インターネット上に蔓延しており、スクリプトでの駆動が可能なので、平均的なコンピュータ ユーザーが使用できるリソースを制限してユーザーを混乱状態に陥れることは、さほど難しくありません。

**攻撃にさらされるリスクを軽減する**

攻撃にさらされるリスクを軽減するには、どうすればよいでしょうか。次のような対策が考えられます。

-   ([ftp://ftp.isi.edu/in-notes/rfc2267.txt](https://technet.microsoft.com/ja-jp/ftp://ftp.isi.edu/in-notes/rfc2267.txt)) に規定されている送信フィルタと受信フィルタの規則を適用することが、攻撃対策の第一歩となります。ICSA (<https://www.icsa.net/>) の基本モデリングによると、これらの規則をインターネット ルーターおよび組織ファイアウォールの 30% で適用するだけでも、単一の攻撃者からこのような攻撃が仕掛けられるリスクが約 100 倍も低くなります。

-   これらの問題に対処するチームやポリシーを設けていない場合は、それらを設けてください。攻撃にさらされるリスクを低減するには、早期に問題を特定して、対処することが非常に重要です。

-   リスクのあるシステムに対して、負荷とトラフィック量の基準を定めます。これらのパターンが基準を大きく超えた場合は、初期警告システムを作動させます。この機能は、今日の企業ネットワーク向け侵入検出システムのほとんどに搭載されています。

**レジストリ設定値**

Windows NT システムおよび Windows 2000 システムにおけるレジストリの推奨設定値を次の表に示します。詳細については、 <https://technet.microsoft.com/library/cc750215.aspx> を参照してください。

**Windows NT システムおよび Windows 2000 システムにおける推奨設定値**

 
<p> </p>
<table style="border:1px solid black;">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<tbody>
<tr class="odd">
<td style="border:1px solid black;"><strong>SYN アタックProtect</strong><br />
<strong>キー :</strong> Tcpip\Parameters<br />
<strong>値の種類 :</strong> REG_DWORD<br />
<strong>有効範囲 :</strong> 0, 1, 2<br />
0 = SYN アタックの保護なし。<br />
1 = TcpMaxHalfOpen および TcpMaxHalfOpenRetried の設定値が適切であれば、再転送の試行回数が減り、RCE (ルート キャッシュ エントリ) の作成が遅延されます。<br />
2 = 設定値 1 の場合の動作に加え、Winsock への指示が遅延されます。</td>
<td style="border:1px solid black;"><strong>既定値 :</strong> 0 (False)<br />
<strong>推奨値 :</strong> 2</td>
<td style="border:1px solid black;"><strong>説明 :</strong> SYN-ACKS に対する再転送の量を減らします。これにより、リソースを減らすことができます。ルート キャッシュ エントリ リソースの割り当ては、接続確立まで遅延されます。SynAttackProtect を 2 に設定すると、スリーウェイ ハンドシェイクが完了するまで AFD への接続指示が遅延されます。また、保護メカニズムによる動作が行われるのは、TcpMaxHalfOpen と TcpMaxHalfOpenRetried の設定値が超過した場合だけです。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;"><strong>TcpMaxHalfOpen</strong><br />
<strong>キー :</strong> Tcpip\Parameters<br />
<strong>値の種類 :</strong> REG_DWORD ―数値<br />
<strong>有効範囲 :</strong> 100 ～ 0xFFFF</td>
<td style="border:1px solid black;"><strong>既定値 :</strong> 100 (Professional/Server)、500 (advanced server)<br />
<strong>推奨値 :</strong> 既定値</td>
<td style="border:1px solid black;"><strong>説明 :</strong> このパラメータでは、SYN-RCVD 状態の接続の数が何個を超えたときに SYN アタックの保護を作動させるかを指定します。SynAttackProtect を 1 に設定している場合は、保護対象ポートの AFD リッスン バックログより小さい値をこのパラメータに指定する必要があります。詳細については、SynAttackProtect パラメータを参照してください。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;"><strong>TcpMaxHalfOpenRetried</strong><br />
<strong>キー :</strong> Tcpip\Parameters<br />
<strong>値の種類 :</strong> REG_DWORD ―数値<br />
<strong>有効範囲 :</strong> 80 ～ 0xFFFF</td>
<td style="border:1px solid black;"><strong>既定値 :</strong> 80 (Professional/Server)、400 (Advanced Server)<br />
<strong>推奨値 :</strong> 既定値</td>
<td style="border:1px solid black;"><strong>説明 :</strong> このパラメータでは、SYN がこれまでに少なくとも 1 回再転送されている SYN-RCVD 状態の接続の数が何個を超えたときに SYN アタックの保護を作動させるかを指定します。詳細については、SynAttackProtect パラメータを参照してください。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;"><strong>EnablePMTUDiscovery</strong><br />
<strong>キー :</strong> Tcpip\Parameters<br />
<strong>値の種類 :</strong> REG_DWORD ―ブール<br />
<strong>有効範囲 :</strong> 0、1 (False、True)</td>
<td style="border:1px solid black;"><strong>既定値 :</strong> 1 (True)<br />
<strong>推奨値 :</strong> 0</td>
<td style="border:1px solid black;"><strong>説明 :</strong> このパラメータが 1 (TRUE) に設定されている場合は、TCP がリモート ホストへのパスの最大転送ユニット (MTU、最大パケット サイズ) の発見を試行します。TCP では、パス MTU を発見して TCP セグメントをそのサイズに制限することで、ネットワークを異なる MTU に接続するパスに沿って存在する各ルーターで断片化が行われるのを防ぐことができます。断片化は、TCP のスループットに悪影響を与え、ネットワークの輻輳を招きます。このパラメータを 0 に設定すると、ローカル サブネット上に存在しないホストへのすべての接続に対して、MTU が 576 バイトに設定されます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;"><strong>NoNameReleaseOnDemand</strong><br />
<strong>キー :</strong> Netbt\Parameters<br />
<strong>値の種類 :</strong> REG_DWORD ―ブール<br />
<strong>有効範囲 :</strong> 0、1 (False、True)</td>
<td style="border:1px solid black;"><strong>既定値 :</strong> 0 (False)<br />
<strong>推奨値 :</strong> 1</td>
<td style="border:1px solid black;"><strong>説明 :</strong> このパラメータでは、コンピュータがネットワークから名前解放要求を受信したときに自分の NetBIOS 名を解放するかどうかを決定します。これは、名前解放を悪用した攻撃からコンピュータを保護するために追加されたパラメータです。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;"><strong>EnableDeadGWDetect</strong><br />
<strong>キー :</strong> Tcpip\Parameters<br />
<strong>値の種類 :</strong> REG_DWORD ―ブール<br />
<strong>有効範囲 :</strong> 0、1 (False、True)</td>
<td style="border:1px solid black;"><strong>既定値 :</strong> 1 (True)<br />
<strong>推奨値 :</strong> 0</td>
<td style="border:1px solid black;"><strong>説明 :</strong> このパラメータが 1 に設定されている場合は、TCP が停止ゲートウェイの検出を実行できます。この機能を有効にすると、複数の接続で問題が発生している場合に TCP が IP に対してバックアップ ゲートウェイへの切り替えを要求することがあります。バックアップ ゲートウェイは、ネットワーク コントロール パネルの [TCP/IP 設定] ダイアログの [詳細] タブで設定できます。詳細については、「停止ゲートウェイの検出」を参照してください。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;"><strong>KeepAliveTime</strong><br />
<strong>キー :</strong> Tcpip\Parameters<br />
<strong>値の種類 :</strong> REG_DWORD ―ミリ秒単位の時間<br />
<strong>有効範囲 :</strong> 1 ～ 0xFFFFFFFF</td>
<td style="border:1px solid black;"><strong>既定値 :</strong> 7,200,000 (2 時間)<br />
<strong>推奨値 :</strong> 300,000</td>
<td style="border:1px solid black;"><strong>説明 :</strong> このパラメータでは、TCP がアイドル状態の接続に Keep-alive パケットを送信して、その接続が維持されていることを確認する頻度を制御します。リモート システムが Keep-alive 転送に応答すれば、そのシステムがまだ到達可能で、機能しているものとみなされます。Keep-alive パケットは、既定では送信されません。この機能は、アプリケーションから接続に対して有効化されることがあります。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">**PerformRouterDiscovery**<br />
<strong>キー :</strong> Tcpip\Parameters\Interfaces\<strong>値の種類 :</strong> REG_DWORD<br />
<strong>有効範囲 :</strong> 0,1,2<br />
0 = 無効<br />
1 = 有効<br />
2 = DHCP がルーター発見オプションを送信する場合のみ有効</td>
<td style="border:1px solid black;"><strong>既定値 :</strong> 2 (DHCP によって制御されるが、既定ではオフ)<br />
<strong>推奨値 :</strong> 0</td>
<td style="border:1px solid black;"><strong>説明 :</strong> このパラメータでは、RFC 1256 で規定されているルーター発見を Windows 2000 でインターフェイス別に実行するかどうかを制御します。「SolicitationAddressBcast」も参照してください。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;"><strong>EnableICMPRedirects</strong><br />
<strong>キー :</strong> Tcpip\Parameters<br />
<strong>値の種類 :</strong> REG_DWORD<br />
<strong>有効範囲 :</strong> 0、1 (False、True)</td>
<td style="border:1px solid black;"><strong>既定値 :</strong> 1 (True)<br />
<strong>推奨値 :</strong> 0 (False)</td>
<td style="border:1px solid black;"><strong>説明 :</strong> このパラメータでは、ルーターなどのネットワーク デバイスから ICMP リダイレクト メッセージが送信されたときに Windows 2000 がルート テーブルを変更するかどうかを制御します。</td>
</tr>
</tbody>
</table>
  
**DFS およびデータ分散メカニズム**
  
可用性を確保するための手段の 1 つとして、DFS (Distributed File System) があります。Windows NT 4.0 では、DFS がアドオンとして用意されており、複数のコンピュータにまたがる共有ディレクトリから論理ディレクトリを作成できます。Windows 2000 では、DFS は標準です。このサービスは、自動的にインストールされます。ほかの技術を使用する場合と同様に、不必要なリスクや対象外のエンティティへのデータ漏洩を避けるために、特定の基準を満たすと共に、適切な設計に従って実装する必要があります。どの種類のデータ可用性環境においても、よく練られた適切な設計が必須条件となります。
  
Windows 2000 の DFS には、次のような改良が加えられています。
  
-   DFS サービスは、Windows 2000 と共に自動的にインストールされます。
  
-   DFS サービスは一時停止および停止が可能ですが、管理コンソールからは削除されません。
  
-   DFS は、Active Directory 内のドメイン ベース DFS 用の名前空間に統合されています。
  
-   複数のドメイン コントローラが DFS ルートを提供するので、ルートに関して単一点での障害が発生しません。
  
-   ファイル レプリケーション サービスがサポートされているので、複数の DFS レプリカの間でファイルの変更を自動的にレプリケートできます。
  
-   MMC を通じて DFS をグラフィカルに管理できます。
  
-   レプリカの可用性は、ステータス フラグで示されます。
  
-   最新の紹介がなくても、ほかの Windows 2000 サーバー上のほかのリンクに DFS リンクを接続できます。
  
-   DFS クライアントによってキャッシュされる紹介の有効期限 (TTL) は、DFS 名前空間内のリンクに対して構成されます。
  
-   DFS トポロジを動的に構成できます。DFS ルートの追加または削除時にサーバーを再起動する必要がありません。
  
-   クラスタ サービスをサポートしています。
  
![](images/Cc722918.datasc01(ja-jp,TechNet.10).gif)
  
**Windows 2000 環境でコンソール、サービス、およびクライアントを構成するコンポーネント**
  
DFS の詳細については、次の Web ページおよびドキュメントを参照してください。
  
-   <https://technet.microsoft.com/library/bb727150.aspx>
  
-   Windows 2000 Server リソース キットおよびヘルプ ファイル
  
**業務継続プランニング**
  
業務継続プランニング は、主に障害復旧計画 (DRP： Disaster Recovery Planning) と業務再開計画 (BRP: Business Resumption Planning) で構成されます
  
**障害復旧計画 (DRP)**
  
障害復旧計画 (DRP) には、業務継続に重要な特定の対処項目が含まれるほか、人災または自然災害の発生時に業務を中断させる可能性のあるさまざまな事象に対する特定の手順の概要と詳細が含まれます。障害復旧計画プロセスには、たとえば、次のようなフェーズが含まれます。
  
-   認知と発見
  
-   リスク調査
  
-   緩和
  
-   準備
  
-   テスト
  
-   対処と回復
  
**業務再開計画 (BRP)**
  
業務再開計画 (BRP) は、業務継続計画 (BCP: Business Continuity Plan) のオペレーション面をカバーし、データ可用性を確保する上で非常に重要な計画となります。特定のロールを定義し、予算を検討すると共に、DRP の重要なフェーズを定義および規定します。
  
**オフサイト ストレージに関する考慮事項**
  
今日の企業業務環境では、オフサイト ストレージがますます多用されつつあります。データのバックアップ後、担当者がそのデータをオフサイト （サイト外、社外） に保管します。バックアップを復元するときには、担当者に対してバックアップをオンサイト (サイト内、社内) に持ち込むように要求します。しかし、次のような重要な項目が軽視されがちな傾向があります。
  
-   受け渡し記録の管理 データに随時にアクセスできる担当者に関する詳細な規定を設けます。この担当者がデータ センターからメディアを持ち出してアクセスするときに署名させるようにするのか、それとも、署名なしでメディアをライブラリから取り出して、宅配サービスを利用して送付できるようにするのか。担当者がデータにアクセスする際に、どのような ID や資格情報の提示を要求するか。データのコピーを廃棄する際に、どのような ID や資格情報を担当者に提示するようにするか。
  
-   保管環境 データの保管場所は、適切な温度と湿度に保たれている必要があり、また、データが別のデータと取り違えられることのないように整理されている必要があります。
  
-   建築構造 データの保管場所の物理的な構造についても検討が必要です。保管場所で火災、水害、爆発などが発生したときに、データにどのような影響が及ぶかを考慮します。
  
認定業務継続プランナー (CBCP) に依頼すれば、ほかにも検討すべき事項が明確になるはずですが、ここでは見落とされがちな項目を指摘しておきました。
  
**ホット/コールド サイト**
  
予算に余裕があれば、代替サイトを用意することをお勧めします。代替サイトがあれば、自然災害、火災、水害などの発生時にも業務を継続しやすくなります。業務回復用の代替サイトには、ホット サイト、ウォーム サイト、およびコールド サイトの 3 種類があります。代替サイトは、通常のサイトから地理的に離れた場所に設置されます。ホット サイトとは、バックアップ システムを備えており、通常のサイトのデータとの同期がとられている代替サイトを意味します。ホット サイトは、災害発生後の回復を最も容易にする代替サイトですが、当然のことながら、最もコストのかさむ代替サイトでもあります。ホット サイトのアウトソーシングを専門に請け負っている業者もいます。ホット サイトとは異なり、通常のサイトのデータとの同期をとらずに、業務の再開を容易にするシステムだけをすべて用意しておく代替サイトもあります。これをウォーム サイトと呼びます。システムやデータを用意せず、再開を容易にするためのシステム接続、人員スペース、およびネットワーク接続だけを用意したサイトは、コールド サイトと呼ばれます。代替サイトの選定時には、災害発生時の特定のニーズのいかんに関係なく、慎重な検討が必要で、採用した場合の予算面を最重視する必要があります。
  
**バックアップ計画**
  
バックアップ計画は、その名のとおりの意味を持つ計画です。すべてのデータをバックアップしておき、常時復元可能な状態に維持しておく必要があります。バックアップ計画のサンプルを次に示します。
  
-   障害回復計画を評価し、業務上の必要条件を適切に満たしていることを確認します。計画には、次の項目を含めます。
  
    -   影響分析、ダウンタイムの許容範囲、災害の定義など、さまざまな側面からのリスク分析。
  
    -   リスク分析に基づく優先度別階層分け。
  
    -   重要なユーザー、データ処理、およびベンダ担当者の特定。
  
    -   業務中断のレベル分け。完全中断、プログラム レベルの中断、データベース レベルの中断など。
  
    -   各中断レベルに応じたシナリオ。特定の手順および責任分担を明記します。
  
    -   アプリケーション ソフトウェアおよびデータの優先度付け。
  
    -   ソース ドキュメントの維持とデータの再入力。
  
    -   代替処理環境のセキュリティに関する必要条件。
  
-   処理再開に必要な情報と稼動リソースがすべて適切にバックアップされていることを確認します。
  
    -   重要なシステム、アプリケーション データ、プログラム、装置、通信要件、ドキュメント、および備品の特定。
  
    -   重要なデータとプログラムが定期的にバックアップされており、オフサイトに保管されていることを確認します。
  
    -   ハードウェア回復に関する規定。ホット サイトまたはウォーム サイトの契約、ベンダへの交換依頼、および近隣組織との取り決め (ほかの LAN からのサーバー貸借など) を含みます。
  
    -   データとプログラムの再インストール手順。依存関係も考慮します。
  
    -   事業体、職能、アプリケーション システムの間の相互依存性を特定します。
  
    -   バックアップ ジョブをスケジュール ベースで自動実行するか、手動で実行するかを決定します。また、スケジュールどおり実行されたかどうかの確認についても規定します。
  
    -   すべての LAN アプリケーションのバックアップが夜間に実行されているかどうかを確認します。適切なラベル付けについても確認します。
  
    -   バックアップ メディア (テープ、フロッピー ディスク、ソース コードなど) が物理的に安全な場所に定期的に保管されているかどうかを確認します。オンサイトとオフサイトの両方を含みます。
  
    -   データとプログラムの再インストール手順を確定します。依存関係も考慮します。
  
    -   リモート従業員に対して、重要なファイルを自分のコンピュータから社内ネットワーク上の指定された共有フォルダにコピーするように促していることを確認します。この共有フォルダは、定期的に (毎週や毎月など) バックアップされているものとします。
  
    -   バックアップのオフサイト ストレージ設備が緊急事態対応計画に含まれていることを確認します。
  
    -   すべてのバックアップに適切なラベルが付与されていることを確認します。
  
    -   バックアップ メディアが耐火金庫やその他の不正操作防止/耐性構造に保管されていることを確認します。
  
-   回復手順を適切にレビューするための特定の手順が実施されていることを確認します。次のものが含まれます。
  
    -   すべてのコピーに最新の状態が反映されるように回復プランをレビューおよび更新する責任分担。
  
    -   適切な管理レベルによるタイムリーなレビューと承認。
  
    -   緊急事態対応計画の承認済み配布リスト。
  
-   以下の項目について、バックアップ計画および回復計画を定期的にテストする必要があります。
  
    -   すべてのデータとプログラムをオフサイト ストレージから利用できるかどうか。
  
    -   バックアップ用のシステムを再構築できるかどうか。
  
    -   代替サイトでの回復が可能かどうか。
  
-   すべての重要なファイル サーバー、データベース サーバー、および専用デバイス PC に対して、適切な電源バックアップとミラー化ディスクが用意されていることを確認します。
  
    -   各ファイル サーバー、データベース サーバー、および専用デバイス PC に個別の無停電電源 (UPS) が接続されていることを確認します。
  
    -   UPS のテストが、定期的に行われているか、または製造元の推奨どおり行われていることを確認します。
  
    -   重要なサーバーと専用デバイス PC がミラー化されているかどうかを確認します。
  
    -   プロセスのウォークスルーを行い、無人バックアップ中の時間経過に伴い、どのようなことが起こるかを確認します。
  
**典型的なテープ バックアップ ローテーション計画**
  
テープを節約し、バックアップを簡便にして、履歴を十分残せるようにするには、月曜から金曜までの 5 日ベースのテープ ローテーション スケジュールを実施するのが適切です。曜日ごとに異なるテープを使用し、金曜 (週の終わり) についても別のテープを使用します。平日のテープは、1 ヶ月間保管します。下の図を参照してください。このバックアップ計画には、ほかに、次のような要素があります。
  
-   月末日に使用したテープは、ローテーションから外し、12 ヶ月間保管します。年末の最後の日に使用したテープは、ローテーションから外し、無期限で保管します。このスケジュールでは、1 日より長く保存されており、なおかつ金曜のバックアップを過ぎていないファイルは、作成日より 5 営業日が経過するまでの間、復元が可能です。
  
-   金曜のバックアップに記録されているが、月末のバックアップに記録されていないファイルは、20 営業日が経過するまでの間、復元が可能です。
  
-   月末のバックアップに記録されているが、年末のバックアップに記録されていないファイルは、作成日から約 1 年が経過するまでの間、復元が可能です。
  
-   年末のバックアップ テープは無期限で維持されるので、年末のバックアップに記録されているファイルは、日数の経過に関係なく復元可能です。
  
**重要**   バックアップ テープの名前 (月曜、火曜など) は、バックアップの実行日を反映するものではありません。テープ名は、テープを挿入すべき日を示します。一般に、ローカル アクティビティの発生量が最も少ない早朝の時間帯にバックアップを実行することになるので、バックアップの実行日の前日がバックアップ名に示されます。一般的なサーバー バックアップ セットの内容を次の表に示します。
  
**一般的なサーバー バックアップ セット**
  
<p> </p>
<table style="width:100%;">
<colgroup>
<col width="16%" />
<col width="16%" />
<col width="16%" />
<col width="16%" />
<col width="16%" />
<col width="16%" />
</colgroup>
<tbody>
<tr class="odd">
<td style="border:1px solid black;"><strong>テープ名</strong></td>
<td style="border:1px solid black;">月曜</td>
<td style="border:1px solid black;">火曜</td>
<td style="border:1px solid black;">水曜</td>
<td style="border:1px solid black;">木曜</td>
<td style="border:1px solid black;">金曜</td>
</tr>
<tr class="even">
<td style="border:1px solid black;"><strong>テープをサーバーに挿入する日</strong></td>
<td style="border:1px solid black;">月曜</td>
<td style="border:1px solid black;">火曜</td>
<td style="border:1px solid black;">水曜</td>
<td style="border:1px solid black;">木曜</td>
<td style="border:1px solid black;">金曜</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;"><strong>実際にバックアップを行う日時</strong></td>
<td style="border:1px solid black;">火曜 (午前 1 時)</td>
<td style="border:1px solid black;">水曜 (午前 1 時)</td>
<td style="border:1px solid black;">木曜 (午前 1 時)</td>
<td style="border:1px solid black;">金曜 (午前 1 時)</td>
<td style="border:1px solid black;">日曜 (午前 10 時)</td>
</tr>
</tbody>
</table>
  
![](images/Cc722918.datasc02s(ja-jp,TechNet.10).gif)  
[拡大表示する](https://technet.microsoft.com/ja-jp/cc722918.datasc02(ja-jp,technet.10).gif)
  
**テープ バックアップの手順**
  
データ可用性を確保するには、検討が必要な多くの変数があります。最初にまとまりのある計画を立て、それに基づいて、継続的な評価と実施を通じてデータ可用性を確保していきます。経営陣にスポンサーシップと予算を要請することも欠かせません。
  
[](#mainsection)[ページのトップへ](#mainsection)
  
### 第 3 部 : データ セキュリティ
  
#### 説明
  
データ セキュリティを確保するには、単にパッチ、ホット フィックス、およびレジストリ設定値を適用するだけではなく、そのときどきに応じた臨機応変な処置が要求されます。データ セキュリティの可否は、主に、知識、リソース、技術、注意力、トレーニング、応答、および時間に依存します。データ セキュリティにはさまざまな面がありますが、ここでは、そのごく一部について触れます。詳細な情報および資料については、このホワイト ペーパーの末尾をご覧ください。
  
**企業の特異性と企業に固有の必要条件**
  
**企業の特異性**
  
企業ネットワークは、データ セキュリティの多くの側面において特異な環境であるといえます。職能間でのニーズの違い、企業内の力関係、展開可能な技術に対する意見の違いなどに対処するために、特定の項目を明確に定義しなければならなくなることがよくあります。どのような技術をいつ、誰がどのように導入するかを決定するより前に、このような項目を決定する必要があります。間違いが生じる可能性が大きいなら大きいなりに、適切な予防策を講じることに労力をかける必要があります。組織レベルで規則を適用しても、それがユーザー間に行き渡らなければ無意味です。セキュリティが侵害されるとしたら、その経路の多くは企業内部に存在します。在宅勤務、リモート アクセス、および仮想プライベート ネットワークを混在させている場合、企業ネットワークは、単なるデスクトップとサーバーの集合体ではなくなります。企業ネットワークには、各環境用の戦略が少なくとも 1 つ必要で、さらに、すべての環境の組み合わせに基づいた総合的戦略が必要です。
  
**犯しがちなミスと盲点**
  
ちょっとした盲点から、何ら意識することなくミスを犯してしまうということがありがちです。これらの盲点は、重要度や危険レベルがまちまちですが、わずかな注意で防ぐことができるものです。ありがちなミスの例を次に示します。
  
-   サーバー ソフトウェアをデスクトップ コンピュータにインストールする。 この場合、ネットワークに侵入したハッカーがデスクトップ システムにハッキング プログラムをインストールする危険性があります。サーバーとは異なり、デスクトップ システムにはあまり高いセキュリティが適用されていないのが普通です。
  
-   デスクトップ ソフトウェアをサーバー/ゲートウェイ/ルーターにインストールする。 電子メール プログラム、クライアント リモート コントロール ソフトウェア、およびチャット プログラムは、不必要にリスクを増加させます。このようなソフトウェアをインストールする場合は、必要な機能だけに絞り込んで、できるだけシンプルにする必要があります。
  
-   現在のリスクに関する情報をクライアント ユーザーに通知する。 この通知は、ボイスメール ブロードキャスト メッセージや電子メール ニュースレターを通じて簡単に行えます。ユーザーに対する通知が漏れていたり、間違っていたりすると、ユーザーがリスクにさらされることになります。ユーザーに対して、どのような脅威があり、どこに問い合わせればよいかを知らせると共に、問題発生時の対処に当たる対処チームを配備しておきます。
  
-   更新されたセキュリティ 修正プログラムを評価環境に配布するのを怠る <https://www.microsoft.com/technet/security/bulletin/ms98-004.asp> (英語) に記載されている RDS 機能は、その代表例です。この問題の修正プログラムは 1998 年には配布されていました。利用可能な修正プログラムがすでに存在していても、最近の SANS のセキュリティ調査では、この問題は依然として悪用される脆弱性の 4 位にあげられています。
  
-   " 既定のファイルやサンプル ファイルを既定ディレクトリに残したままにしていると、ハッカーに付け入る隙を与えることになります。また、侵入に気づきにくくなります。
  
-   ユーザーが社内メールのアカウントや資格情報を不用意に使用してメーリング リストやインターネット ディスカッション リストに投稿しているようでは、リスクが高くなります。インフラストラクチャ、メール サーバー、リレー サーバー、IP アドレスなど、会社に関する情報が外部に漏れることになります。また、スパム メールを呼び込むことになり、メール サーバーのオーバーヘッドが増加します。
  
**物理セキュリティとハードウェアのロックダウン**
  
**考慮事項と最適な方法**
  
物理セキュリティを効果的に確保するには、対象となるデバイスへの物理アクセスを規定する適切なポリシーを定める必要があります。リモート コントロールできるすべての操作と機能についても、適切なポリシーを定める必要があります。
  
**ポリシー、配置、および手順**
  
**ポリシー**
  
物理セキュリティを効果的に確保するには、対象となるデバイスへの物理アクセスを規定する適切なポリシーを定める必要があります。リモート コントロールできるすべての操作と機能についても、適切なポリシーを定める必要があります。
  
**配置**
  
デバイスの配置は、必要となる物理アクセスのレベルに依存します。たとえば、平均的なユーザーであれば、サーバーへの物理アクセスは不要です。
  
**企業ネットワークの侵入検出**
  
**データ トラフィック パターンの特定と偏差の認識**
  
通常のネットワーク トラフィックとの偏差を認識するには、最初に企業ネットワークのフットプリントを作成する必要があります。フットプリントを作成することで、特定のトラフィック パターンが通常のレベルを超えているかどうかを判断する基準を確立します。対象となるデバイスにより、トラフィック パターンに違いがあります。このため、監視戦略もこれに応じて調整する必要があります。たとえば、プライマリ ドメイン コントローラのトラフィックは、プリント サーバーのトラフィック パターンとまったく異なります。
  
通常の侵入検出システムは、次の 2 つのモデルから動作します。
  
-   確立された基準に対する差異を検出するモデル (異常検出)
  
-   標準的な署名ファイルに対する食い違いを検出するモデル (通常は、IDS 使用)
  
異常トラフィックの例を次に示します。
  
-   ポート スキャン。 ハッカーがサービスを列挙しようとしてポートをオープンすることがあります。
  
-   DNS ゾーン転送の試行。
  
-   電子メール偵察。 ハッカーがあるユーザー名のバリエーションの試行と失敗を繰り返すことで、インフラストラクチャに関する情報を得る可能性があります。
  
-   ping スイープ。 ハッカーがネットワーク内の複数のホストに ping を連続して送信し、インフラストラクチャとデバイスの配置に関する情報を列挙しようとすることがあります。
  
-   Web スネーキング。 ハッカーが複数の Get コマンドを発行して Web サイト全体のコンテンツをダウンロードし、サブディレクトリやダウンロード スクリプトを列挙しようとすることがあります。
  
**バッファ オーバーランと悪意のあるモバイル コード**
  
**説明と例**
  
バッファ オーバーランは、主に、プログラミング上のエラーが原因となって発生します。エラーの程度によっては、ターゲット システム上で任意のコードを実行できる場合があります。これは、セキュリティ上避けるべき問題です。この種の問題の大半は、文字列の処理に原因があって発生します。不適切な文字列処理の例を次に 2 つ示します。
  
-   エラー チェックがないためバッファに対して大きすぎる文字列を入力できてしまう （下の例を参照)。
  
-   NULL ターミネータが消費するバイト数を考慮していない。
  
バッファ オーバーランは、特定のウィンドウ (バッファ) に対して入力する情報が多すぎたときに発生します。コード行で 50 バイト固定のメモリ ブロックを処理するように指定している場合に、51 バイトのデータがその空間に送られると、残りの 1 バイトはどこか別の場所に格納されることになります。これは、好ましくない結果を招くのが普通です。
  
これを具体的に理解できるように、次にサンプル コードを示します。
  
```
#include
int main ( )
{
 char name[49];
 printf("Input your name: ");
 gets(name);
 printf("Hello, %s", name);
 return 0;
}
```
  
これは、"Hello World" タイプのプログラムです。文字長は、50 バイトに固定されています。ただし、うち 1 バイトは NULL ターミネータ用に予約されているので、実際の文字数は半角 49 文字となります。半角 51 文字の名前が入力されると、バッファ オーバーフローが発生することになります。
  
この問題の詳細については、次の資料を参照してください。
  
-   Cerberus Information Security- <https://www.cerberus-isc.com/>
  
-   <https://www.ntsecurity.net> に掲載されている安全なコードの作成に関する David Leblanc 執筆の週間コラム
  
-   Designing Secure Web-Based Applications for Microsoft Windows 2000 by Michael Howard [https://www.microsoft.com/japan/learning/books/JPN\_ViewMsPress.aspx?Book\_id=568&list\_id=1](https://www.microsoft.com/japan/learning/books/jpn_viewmspress.aspx?book_id=568&list_id=1)
  
**トロイの木馬、コントロール、およびワーム**
  
トロイの木馬とは、普通のプログラムのように見えながら、実はユーザーに被害を与えるプログラムです。トロイの木馬プログラムがもたらす被害には、ファイルの削除や変更から、コンピュータへのリモート コントロール アクセスに至るまで、さまざまなものがあります。通常、トロイの木馬は、ユーザーが操作したときに、破壊的被害をもたらす可能性のあるルーチンを実行します。これらのプログラムは、ターゲット コンピュータに被害を与える前に検出されないようにするために、スクリーン セーバーやゲームなど、ほかのプログラムに添付されることがあります。
  
Active-X などのコントロールは、署名付きで配布するのが普通ですが、ユーザーに被害をもたらすようにプログラミングすることも可能です。クライアント教育のプログラムやポリシーを通じて、このようなリスクをクライアント ユーザーに教育するようにしてください。署名付きのコントロールで保証されるのは、あくまで署名者の身元だけであって、コントロール自体の安全性ではありません。
  
ワームは、自己増殖します。ユーザーの操作に依存することがほとんどないため、企業ネットワーク内でワームが急速に蔓延する危険性があります。通常、ワームは、電子メール メッセージを通じて感染します。単に迷惑なだけのものもあれば、破壊的被害をもたらすものもあります。従来から、アンチウィルス プログラムは、ウィルスを予防するよりも、駆除することを主眼としてきたので、セキュリティ計画では、ウィルスの被害を受けていないかどうかを常時監視することが特に重要です。
  
**ファイアウォールとスクリーンド サブネット**
  
ファイアウォールやスクリーンド サブネット (DMZ) は、企業全体にわたって、セキュリティを補足する目的で多用されています。ファイアウォールは、セキュリティ違反を完全に排除するのではなく、あくまでそのリスクを低減するにすぎません。デバイス、ファイアウォール、オペレーティング システムのいずれにも、完全な防御はありえません。ファイアウォールには、ソフトウェアまたはオペレーティング システムに基づくものと、ハードウェアまたは機器として用意され、少なくとも 2 つのネットワーク インターフェイス カードがインストールされたデバイスの 2 通りがあります。ファイアウォールは、一般に、次の 2 つの基本モデルに分類されます。
  
-   特定の拒否されている以外のトラフィック通過を許可するもの
  
-   特定の許可されている以外のトラフィック通過を拒否するもの
  
今日の企業ネットワーク用途に使用されているファイアウォールは、多くの場合、この 2 つのモデルの中間に位置しています。ほとんどのファイアウォールの既定の設定では、最も多用されるポートだけをオープンできます。規則と経路は、ポリシー、ニーズ、および配置に基づいて定義されます。
  
ファイアウォールの効果は一目瞭然ですが、その反面、制限もあります。たとえば、次のような制限があります。
  
-   ファイアウォールを通さずに送信されるトラフィックは、ファイアウォールで保護できません。ほとんどの企業には、自宅から頻繁にアクセスするモデムをインストールしているユーザーが常に 1 人はいるはずです。これを防止するには、適切なポリシーを適用します。
  
-   ファイアウォールでは、データの整合性をチェックせず、トランスポート レイヤやネットワーク レイヤでデータグラムを認証することもありません。このため、ファイアウォールを使用していても、偽造パケットや偽装を防止することはできず、ウィルスが通過できてしまいます。
  
-   ファイアウォールを設置しても、訓練を受けた管理者が不要になるわけではありません。ファイアウォールの管理と構成には、訓練されており、十分な知識を持った管理者の手が必要になります。ファイアウォール レベルの構成がたった 1 点間違っているだけで、壊滅的な結果を招く危険性があります。
  
ファイアウォールの動作原理を次の図に簡単に示します。
  
![](images/Cc722918.datasc03(ja-jp,TechNet.10).gif)
  
ファイアウォールは、OSI モデルおよび TCP/IP モデルの各種レイヤで動作します。ファイアウォールが動作する最も低いレイヤは、レイヤ 3 と呼ばれます。これは、OSI ではネットワーク レイヤ、TCP/IP モデルでは IP レイヤとなります。ファイアウォール IP レイヤの典型例を次に示します。
  
![](images/Cc722918.datasc04(ja-jp,TechNet.10).gif)
  
**よく使われる構成**
  
**Three Pronged (3 つ又) スクリーンド サブネット**
  
3 つ又 スクリーンド サブネットは、3 つのインターフェースで構成されるファイアウォールです。1 番目のファイアウォールのインターフェイスはインターネットに割り当てられ、2 番目はプライベート ネットワークに、3 番目はスクリーンド サブネットにそれぞれ割り当てられます。トラフィック パターンは、3 つのインターフェイスのそれぞれで適用されているファイアウォール規則によって定義されます。3 つ又 ファイアウォールは、スクリーンド サブネットへのすべてのインターネット トラフィックを制限することでプライベート ネットワークを保護します。
  
3 つ又 ファイアウォールを実装するには、複数のゾーン定義をサポートしているファイアウォール ソフトウェアが必要です。インターネット、プライベート ネットワーク、およびスクリーンド サブネットのそれぞれについて個別のゾーンを確立する必要があります。

<p> </p>
<table style="border:1px solid black;">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >長所</th>
<th style="border:1px solid black;" >短所</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">ファイアウォール コンピュータが 1 台だけなのでコストが低い。</td>
<td style="border:1px solid black;">構成をサポートしていないファイアウォールがある。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">内部ネットワークへのアクセス レベルが異なる複数のスクリーンド セグメントを使用するように構成できる。</td>
<td style="border:1px solid black;">ファイアウォールのセキュリティが侵害されると、内部ネットワークのすべてのセグメントが危険にさらされる。</td>
</tr>
</tbody>
</table>
  
![](images/Cc722918.datasc05(ja-jp,TechNet.10).gif)
  
**MidGround (中間) スクリーンド サブネット**
  
中間スクリーンド サブネットは、2 つまたは 3 つのファイアウォールに挟まれたネットワーク領域です。1 番目のファイアウォールは、インターネットとスクリーンド サブネットの間のバリアとして機能し、2 番目のファイアウォールはスクリーンド サブネットと内部ネットワークの間の境界として機能します。中間スクリーンド サブネットでは、2 つの異なった種類のファイアウォールを使用することで、内部ネットワークのセキュリティを強化できます。これにより、外部ファイアウォールを通過した侵入者がそのまま内部ネットワークにアクセスするのを防止できます。外部ファイアウォールを破ることができても、内部ファイアウォールを破ることができない限り、内部ネットワーク リソースにアクセスできません。外部ファイアウォールと内部ファイアウォールの製造元が異なるので、外部ファイアウォールに使用したのとは異なる方法およびツールセットを使用しなければ内部ファイアウォールを破ることができません。
  
中間スクリーンド サブネットには、次のような長所と短所があります。

 
<p> </p>
<table style="border:1px solid black;">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >長所</th>
<th style="border:1px solid black;" >短所</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">ハッカーは 2 つまたは 3 つのファイアウォールを破らないと内部ネットワークにアクセスできない。</td>
<td style="border:1px solid black;">複数のファイアウォールを使用するので、コストが高い。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">種類の異なる 2 つのファイアウォールを使用することで、侵入されるリスクを軽減できる。</td>
<td style="border:1px solid black;">余分な構成が必要になる。</td>
</tr>
</tbody>
</table>
  
![](images/Cc722918.datasc06(ja-jp,TechNet.10).gif)
  
両方の技術を組み合わせて使用すると、保護のレベルがさらに高くなります。ファイアウォール/DMZ 環境が複雑になればなるほど、侵入が困難になります。しかし、同時に、構成ミスが発生する確率が高くなり、保守も煩雑になります。慎重な予防策を講じると共に、リソースのセキュリティが危険にさらされるリスクに対して、考えられうるあらゆる侵入経路を防止する必要があります。
  
**Microsoft ISA Server**
  
マイクロソフトの ISA Server (<https://www.microsoft.com/japan/isaserver/>) (Internet Security and Acceleration Server) を使用すると、今日のファイアウォール環境に新しい種類のセキュリティを付加できます。次のような機能と利点があります。
  
**企業ネットワークのセキュリティ**
  
ネットワークとユーザーをインターネットに接続すると、セキュリティと生産性に関する問題が生じがちです。ISA Server には、組織でアクセスを制御し、使用状況を監視するための包括的な機能が用意されています。ISA Server は、ネットワークを不正アクセスから保護し、トラフィックを検査すると共に、攻撃発生時に管理者に警告を発します。
  
-   マルチレイヤ ファイアウォール ネットワークは、さまざまな脅威にさらされます。パケット、サーキット、およびアプリケーション レベルのトラフィックを遮蔽することでネットワーク セキュリティを最大化すれば、不正アクセスのリスクを低減できます。
  
-   スマート アプリケーション フィルタ ISA Server のスマート アプリケーション フィルタでは、コンテンツを認識し、ネットワーク内を移動するコンテンツにポリシーを適用します。電子メールやストリーム メディアなどのアプリケーション固有トラフィックをデータを認識するフィルタで制御すれば、セキュリティを強化できます。ISA Server では、Active Directory のポリシー ベースの管理機能を利用できます。
  
-   動的 IP フィルタ ISA Server では、オープン中のポートへのアクセスがアクティブ セッション中に必要となった場合だけに制限されるので、外部からの攻撃を受けるリスクが低減します。
  
**高速アクセス Web キャッシュ**
  
組織がインターネットを利用して生産性を向上するには、コンテンツへのアクセス速度とコスト効率が良好でなければなりません。ISA Server の Web キャッシュを使用すると、ローカルにキャッシュされた Web コンテンツにアクセスできるので、パフォーマンスのボトルネックを最小化でき、ネットワーク帯域幅リソースを節約できます。
  
-   高性能 Web キャッシュ ISA Server では、超高速 RAM キャッシュと効率的なディスク入出力 (I/O) により、Web アクセスを高速化すると共に、ネットワーク帯域幅を節約します。
  
-   スケーラビリティ キャッシュの設計にスケーラビリティが考慮されていなければ、キャッシュしたコンテンツの量が増えるにつれて、コンテンツへのアクセス速度が低下してしまいます。ISA Server は、スケーラビリティを考慮して設計されており、Cache Array Routing Protocol (CARP) により効率的なスケール アップと動的な負荷バランスが可能です。
  
-   アクティブ キャッシュ ISA Server には、使用パターンを学習して、コンテンツをキャッシュする最善の方法を判断する機能があるので、インストール後、時間が経過するにつれて、ネットワーク効率が向上します。ISA Server では、アクセスの多いオブジェクトが事前にキャッシュされるほか、サイト全体のダウンロードをスケジュールできるので、各ユーザーに対して最新のコンテンツを提供できます。
  
**柔軟な管理**
  
ISA Server には、Web のセキュリティと速度向上用のインフラストラクチャが用意されているので、ポリシー管理とインターネットワーク管理を効率的に実施できます。
  
-   **Windows 2000 対応設計** ISA Server は、Microsoft Windows 2000 (<https://www.microsoft.com/japan/isaserver/default.mspx> ) オペレーティング システムの主要なサービスの多くと統合されているので、ユーザー アクセス、構成、および規則を一貫した方法で強力に管理できます。中心的な機能として、認証、管理ツール、帯域幅制御、SecureNAT、および仮想プライベート ネットワークがあります。これらは、Windows 2000 の技術を基にして実装された機能です (<https://technet.microsoft.com/library/cc750215.aspx>)。ISA Server では、Active Directory サービス (https://www.microsoft.com/windows2000/guide/server/features/dirlist.asp) を使用しているので、管理タスクが簡略化されています。
  
-   **ポリシーの適用** ISA Server では、従来より簡単にセキュリティ ポリシーを実装および適用できます。ネットワーク管理者およびセキュリティ管理者は、ユーザー、グループ、アプリケーション、コンテンツの種類、およびスケジュールに基づいてアクセスを制御できます。企業レベルの管理により、ローカル (アレイ レベル) のポリシーに加えて、会社全体の規則を適用でき、移動ユーザーをサポートできます。
  
-   **豊富な管理ツール** セキュリティ管理者およびネットワーク管理者には、信頼性が高く、簡単にネットワークを監視できるツールが必要です。ISA Server には、詳細なログ機能とカスタマイズ可能な警告機能があるので、管理者はこれらを使ってセキュリティとパフォーマンスに関する問題を監視できます。また、グラフィカル レポートとリモート管理により、ネットワークのパフォーマンスのサーバーの使用状況を簡単に調べることができます。
  
**拡張可能セキュリティ**
  
セキュリティのポリシーと規則は、組織によって異なります。トラフィック量とコンテンツの形式にも、組織ごとの違いがあります。セキュリティとパフォーマンスに関するあらゆるニーズを単一の製品で満たすことはできないため、ISA Server は高い拡張性を持つ製品として設計されています。社内開発用の包括的な SDK が用意されているほか、サード パーティ製のアドオン ソリューションも豊富で、また、拡張可能な管理オプションもあります。
  
-   **包括的な SDK** ISA Server には、包括的なソフトウェア開発キットが付属しています。この SDK には、API を網羅したマニュアルのほか、組織がセキュリティやパフォーマンスに関する特定の問題に対処できるようにするフィルタと管理拡張機能のサンプルが手順マニュアルと共に含まれています。
  
-   **豊富なサード パーティ製ソリューション** ISA Server の機能を拡張およびカスタマイズするアドオンが多数のサード パーティ パートナーから提供されています。ウィルス スキャン、管理ツール、コンテンツ フィルタ、サイト ブロッキング、リアルタイム監視、レポートなどのツールがあります。
  
-   **拡張可能な管理** 管理タスクを自動化して、管理の負担を軽減できます。ISA Server には、スクリプト化が可能な COM (Component Object Model) オブジェクトが用意されているので、すべての規則と管理オプションに対する読み取り/書き込みアクセスをプログラムから実行できます。
  
**ISA Server の機能一覧**

 
<p> </p>
<table style="border:1px solid black;">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >機能</th>
<th style="border:1px solid black;" >利点</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">マルチレイヤ ファイアウォール</td>
<td style="border:1px solid black;">パケット レベル、サーキット レベル、およびアプリケーション レベルのトラフィック遮蔽でセキュリティを最大化します。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">高性能 Web キャッシュ</td>
<td style="border:1px solid black;">Web アクセスを高速化し、ネットワーク帯域幅を節約します。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Windows 2000 との統合</td>
<td style="border:1px solid black;">ISA Server のユーザー、構成、および規則を Windows 2000 Active Directory・サービスで管理します。認証、管理ツール、および帯域幅制御により、Windows 2000 の技術を拡張します。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">ステートフル インスペクション</td>
<td style="border:1px solid black;">ファイアウォールを通過するデータのプロトコルと接続状態をチェックします。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">スケーラビリティ</td>
<td style="border:1px solid black;">動的負荷バランスと Cache Array Routing Protocol (CARP) を備えているので、サーバーの追加によるキャッシュのスケール アップを用意かつ効率的に実施できます。分散型の階層キャッシュにより、ネットワークの可用性が向上し、帯域幅を効率的に使用できます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">仮想プライベート ネットワーキング</td>
<td style="border:1px solid black;">Windows 2000 の仮想プライベート ネットワーキング サービスとの統合により、標準に準拠した安全なリモート アクセスが可能です。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">トラフィック管理の詳細な規則とポリシーの適用</td>
<td style="border:1px solid black;">ユーザー、グループ、アプリケーション、コンテンツの種類、スケジュール、およびに宛先に基づいてアクセスを制御できます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">広範なアプリケーションのサポート</td>
<td style="border:1px solid black;">数十種の事前定義プロトコルにより、主要なインターネット アプリケーションとの統合が可能です。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">すべてのクライアントに対する透過性</td>
<td style="border:1px solid black;">どのプラットフォームのクライアントおよびアプリケーション サーバーとも互換性があり、クライアント ソフトウェアは不要です。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">スマート アプリケーション フィルタ</td>
<td style="border:1px solid black;">特定の種類のコンテンツだけをブロックするデータ認知フィルタで電子メールやストリーム メディアなどのアプリケーション固有トラフィックを制御できます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">スマート キャッシュ</td>
<td style="border:1px solid black;">ISA Server では、アクセスの多いオブジェクトが事前にキャッシュされるほか、Web サイト全体をキャッシュにプリロードするようにスケジュールを定義できるので、各ユーザーに対して常に最新のコンテンツを提供できます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">豊富な管理ツール</td>
<td style="border:1px solid black;">強力なリモート管理機能、詳細なログ、カスタマイズ可能な警告、およびグラフィカル タスク パッドを使用して、セキュリティとキャッシュの管理を効率化できます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">動的パケット フィルタ</td>
<td style="border:1px solid black;">ポートを必要時にのみオープンすることで外部からの攻撃にさらされるリスクを軽減できます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">分散および階層キャッシュ</td>
<td style="border:1px solid black;">複数の経路とバックアップ経路を通じて、可用性を最大化すると共に、ネットワークを効率的に使用できるように帯域幅を節約できます。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">帯域幅制御の統合</td>
<td style="border:1px solid black;">グループ、アプリケーション、サイト、またはコンテンツの種類に基づいて、帯域幅の割り当て優先度を設定できます。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">安全な公開</td>
<td style="border:1px solid black;">Web サーバーおよび電子商取引アプリケーションを外部の攻撃から保護します。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">コンテンツ配布の効率化</td>
<td style="border:1px solid black;">Web サイトと電子商取引アプリケーションを配布およびキャッシュすることで、ユーザーが Web コンテンツにすばやくアクセスできるようにし、応答時間を短縮すると共に帯域幅の消費を節減します。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">侵入検知の統合</td>
<td style="border:1px solid black;">ポート スキャン、&quot;WinNuke&quot;、&quot;Ping of Death&quot; など、代表的な DoS (denial-of-service) 攻撃を検出します。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">組み込みレポート</td>
<td style="border:1px solid black;">Web の使用状況、アプリケーションの使用状況、ネットワーク トラフィック パターン、およびセキュリティに関する標準的なレポートをスケジュールに基づいて生成します。</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">システム強化</td>
<td style="border:1px solid black;">オペレーティング システムを複数レベルのロックダウンで保護します。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">ストリーム メディアのサポート</td>
<td style="border:1px solid black;">ファイアウォール上でライブ メディア ストリームを分割して帯域幅を節約します。</td>
</tr>
</tbody>
</table>
  
**境界領域の保護**
  
組織の境界領域を保護するには、非常に詳細な計画が必要です。一般に、環境の初期計画の段階から開始するのが最善です。これは、次の 3 つのステージの評価を通じて行うのが最も的確です。
  
-   **外部から利用できるリソース** インターネット経由で外部ユーザーが使用できるようにするリソース。
  
-   **内部で利用できるリソース** インターネットからセグメント化または隔離された従業員や契約業者が使用できるようにするリソース。
  
-   **仮想プライベート ネットワーキング** プライベートに使用できるようにし、パブリック ネットワーク経由で結合する内部リソース。
  
![](images/Cc722918.datasc07s(ja-jp,TechNet.10).gif)  
[拡大表示する](https://technet.microsoft.com/ja-jp/cc722918.datasc07(ja-jp,technet.10).gif)
  
境界領域は、上記の 3 つのベースラインの組み合わせで定義されます。各ベースラインでは、少なくとも、次の項目を決定する必要があります。
  
-   デバイス間の物理経路およびネットワーク経路のマッピング。
  
-   デバイスへのアクセス権。サービス レベルのポリシーに基づくアクセス権のほか、契約ベンダと取り引きする場合は守秘契約も含まれます。
  
-   リソースを外部に公開する時間の長さ。
  
-   各リソースのリスクの許容レベル。
  
**犯しがちなミスの回避**
  
ファイアウォールに関しては、次のような構成ミスや技術ミスを犯しがちです。
  
-   **制限が不十分** アプリケーションの詳細をよく知らない人がファイアウォールの経路とポリシーを構成する場合は、あまりにも多くのポートをオープンしがちです。最初はどのポートもオープンせず、必要時にのみポートをオープンするようにした方がはるかにセキュリティは高くなります。アプリケーションとデバイスに関する適切なドキュメントをファイアウォールの構成担当者用に常に支給するようにしてください。
  
-   **ファイアウォール管理者の経験不足やトレーニング不足** ファイアウォール管理者の経験やトレーニングが不足していると、ミスを犯しがちです。経験のない人は、必ずといっていいほど、整合性の維持に必要な詳細を無視したり、見落としたりします。責任を分担するようにしてください。ファイアウォールの製品と技術を担当する人が、ファイアウォールの構成と経路を開始、変更、削除する権限を誰に与えるかを決定するようにします。
  
-   **セキュリティ修正プログラムの適用ミスや適用忘れ** サービス パックやセキュリティ修正プログラムは、テストおよび展開用の資料が限られていることもあり、見落とされたり、無視されたりしがちです。このような問題が生じないように、移行計画やテスト計画を事前に作成するようにしてください。ハッカーがファイアウォールの弱点に関して常に最新の知識を得ているのであれば、それに対する防御が必要です。
  
-   **アクセス経路の計画の不備** ファイアウォールの設定後に、突発的な業務ニーズに対応するために経路を追加することがよくあります。このようなことができるだけ少なくなるように、経路を綿密に計画しておいてください。
  
**アクセス制御メカニズム**
  
アクセス制御メカニズムは、次の 3 つのカテゴリに分類できます。ここでは、各カテゴリに含まれる最小限のサブカテゴリを示しておきます。
  
-   物理セキュリティ
  
    -   ハードウェア ロック
  
    -   警備保障
  
    -   UPS および防火/サージ抑制
  
    -   警報およびトリガ デバイス
  
-   管理統制およびポリシー
  
    -   責任分担
  
    -   許容される使用方法やその他のポリシー/規定
  
    -   社員の雇用および解雇の手順/ガイドライン
  
    -   システム、ポリシー、および制御に関する監査と報告
  
-   技術的制御
  
    -   パスワードの適用
  
    -   侵入の検出および防止技術
  
    -   暗号化/復号化技術
  
    -   ファイルおよび OS に基づくアクセス制御リスト
  
これまで、物理セキュリティや管理統制およびポリシーについて述べてきましたが、ここで、技術的な制御手段についてもいくつか見ていきましょう。
  
**適切なアクセス制御リスト**
  
適切なアクセス制御リストを用意することは、オペレーティング システムのセキュリティとって非常に重要です。適切なアクセス制御リストがなければ、誰でもネットワークにアクセスできることになり、システムが悪意あるアクセスにさらされる結果になります。各組織や各リソースのアクセス制御マトリックスを確立することで、環境の現在の状況を掌握しやすくなります。このようなマトリックスの例を次に示します。
  
<p> </p>
<table style="width:100%;">
<colgroup>
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >リソース/ユーザー</th>
<th style="border:1px solid black;" >A</th>
<th style="border:1px solid black;" >B</th>
<th style="border:1px solid black;" >C</th>
<th style="border:1px solid black;" >D</th>
<th style="border:1px solid black;" >E</th>
<th style="border:1px solid black;" >F</th>
<th style="border:1px solid black;" >G</th>
<th style="border:1px solid black;" >H</th>
<th style="border:1px solid black;" >I</th>
<th style="border:1px solid black;" >J</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">Fred</td>
<td style="border:1px solid black;">W</td>
<td style="border:1px solid black;">R</td>
<td style="border:1px solid black;">R</td>
<td style="border:1px solid black;">F</td>
<td style="border:1px solid black;">R</td>
<td style="border:1px solid black;">R</td>
<td style="border:1px solid black;">N</td>
<td style="border:1px solid black;">W</td>
<td style="border:1px solid black;">N</td>
<td style="border:1px solid black;">X</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Jane</td>
<td style="border:1px solid black;">R</td>
<td style="border:1px solid black;">R</td>
<td style="border:1px solid black;">R</td>
<td style="border:1px solid black;">X</td>
<td style="border:1px solid black;">X</td>
<td style="border:1px solid black;">R</td>
<td style="border:1px solid black;">W</td>
<td style="border:1px solid black;">X</td>
<td style="border:1px solid black;">F</td>
<td style="border:1px solid black;">X</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Bob</td>
<td style="border:1px solid black;">R</td>
<td style="border:1px solid black;">X</td>
<td style="border:1px solid black;">X</td>
<td style="border:1px solid black;">X</td>
<td style="border:1px solid black;">X</td>
<td style="border:1px solid black;">R</td>
<td style="border:1px solid black;">W</td>
<td style="border:1px solid black;">F</td>
<td style="border:1px solid black;">X</td>
<td style="border:1px solid black;">X</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Alice</td>
<td style="border:1px solid black;">R</td>
<td style="border:1px solid black;">W</td>
<td style="border:1px solid black;">F</td>
<td style="border:1px solid black;">X</td>
<td style="border:1px solid black;">W</td>
<td style="border:1px solid black;">X</td>
<td style="border:1px solid black;">N</td>
<td style="border:1px solid black;">R</td>
<td style="border:1px solid black;">N</td>
<td style="border:1px solid black;">X</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Mary</td>
<td style="border:1px solid black;">R</td>
<td style="border:1px solid black;">W</td>
<td style="border:1px solid black;">W</td>
<td style="border:1px solid black;">W</td>
<td style="border:1px solid black;">W</td>
<td style="border:1px solid black;">F</td>
<td style="border:1px solid black;">R</td>
<td style="border:1px solid black;">R</td>
<td style="border:1px solid black;">W</td>
<td style="border:1px solid black;">X</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Ken</td>
<td style="border:1px solid black;">F</td>
<td style="border:1px solid black;">F</td>
<td style="border:1px solid black;">X</td>
<td style="border:1px solid black;">R</td>
<td style="border:1px solid black;">W</td>
<td style="border:1px solid black;">N</td>
<td style="border:1px solid black;">X</td>
<td style="border:1px solid black;">W</td>
<td style="border:1px solid black;">R</td>
<td style="border:1px solid black;">F</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Joan</td>
<td style="border:1px solid black;">X</td>
<td style="border:1px solid black;">W</td>
<td style="border:1px solid black;">W</td>
<td style="border:1px solid black;">W</td>
<td style="border:1px solid black;">X</td>
<td style="border:1px solid black;">R</td>
<td style="border:1px solid black;">F</td>
<td style="border:1px solid black;">N</td>
<td style="border:1px solid black;">R</td>
<td style="border:1px solid black;">X</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">Mark</td>
<td style="border:1px solid black;">X</td>
<td style="border:1px solid black;">X</td>
<td style="border:1px solid black;">W</td>
<td style="border:1px solid black;">W</td>
<td style="border:1px solid black;">F</td>
<td style="border:1px solid black;">X</td>
<td style="border:1px solid black;">R</td>
<td style="border:1px solid black;">N</td>
<td style="border:1px solid black;">X</td>
<td style="border:1px solid black;">W</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">Harry</td>
<td style="border:1px solid black;">F</td>
<td style="border:1px solid black;">N</td>
<td style="border:1px solid black;">R</td>
<td style="border:1px solid black;">X</td>
<td style="border:1px solid black;">R</td>
<td style="border:1px solid black;">W</td>
<td style="border:1px solid black;">X</td>
<td style="border:1px solid black;">W</td>
<td style="border:1px solid black;">W</td>
<td style="border:1px solid black;">R</td>
</tr>
</tbody>
</table>
  
アクセスの種類 : R = 読み取り、W = 書き込み、X = 実行、F = フル コントロール、N = アクセス禁止
  
上のマトリックスは、ファイル システム アクセスだけではなく、ほとんどあらゆるリソースや対象物に適用できます。"ユーザー" の代わりにグループを指定し、リソースに適切なラベルを付けるだけで、あらゆる制御可能リソースに対するカスタム マトリックスを作成できます。多くのリソースの所有者や組織ロールは、簡単に推定できます。
  
Windows NT の場合に推奨される最低限のファイル システム ACL と Windows 2000 の場合の既定インストール設定値の一部を次に示します。
  
**Windows NT の場合に推奨されるファイル システム/レジストリ ACL**
  
(**注** これらは、Windows NT を新規インストールした場合にのみ適用します)。

 
<p> </p>
<table style="border:1px solid black;">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >ディレクトリ</th>
<th style="border:1px solid black;" >アクセス許可</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">\WINNT およびその下層のすべてのサブディレクトリ</td>
<td style="border:1px solid black;">Administrators: フル コントロール<br />
CREATOR OWNER: フル コントロール<br />
Everyone: 読み取り<br />
SYSTEM: フル コントロール</td>
</tr>
</tbody>
</table>
 

次に、\\WINNT ツリー内で、次のアクセス権を例外として適用します。

 
<p> </p>
<table style="border:1px solid black;">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >ディレクトリ</th>
<th style="border:1px solid black;" >アクセス許可</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">\WINNT\REPAIR</td>
<td style="border:1px solid black;">Administrators: フル コントロール</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\WINNT\SYSTEM32\CONFIG</td>
<td style="border:1px solid black;">Administrators: フル コントロール<br />
CREATOR OWNER: フル コントロール<br />
Everyone: 一覧<br />
SYSTEM: フル コントロール</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\WINNT\SYSTEM32\SPOOL</td>
<td style="border:1px solid black;">Administrators: フル コントロール<br />
CREATOR OWNER: フル コントロール<br />
Everyone: 読み取り<br />
Power Users: 変更<br />
SYSTEM: フル コントロール</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\WINNT\COOKIES\WINNT\FORMS<br />
\WINNT\HISTORY\WINNT\OCCACHE<br />
\WINNT\PROFILES\WINNT\SENDTO<br />
\WINNT\Temporary Internet Files</td>
<td style="border:1px solid black;">Administrators: フル コントロール<br />
CREATOR OWNER: フル コントロール<br />
Everyone: 特殊なディレクトリ アクセス ― 読み取り、書き込み、および実行、特殊なファイル アクセス ― なし<br />
System: フル コントロール</td>
</tr>
</tbody>
</table>
 

Intel 80486 および Pentium ベースのシステムのシステム パーティションにあるルート ディレクトリには、オペレーティング システムの重要なファイルがいくつかあります。高度なセキュリティをインストールするには、これらのファイルに次のアクセス権を設定します。

 
<p> </p>
<table style="border:1px solid black;">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >ファイル</th>
<th style="border:1px solid black;" >C2 レベルのアクセス許可</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">\Boot.ini, \Ntdetect.com, \Ntldr</td>
<td style="border:1px solid black;">Administrators: フル コントロール<br />
SYSTEM: フル コントロール</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\Autoexec.bat, \Config.sys</td>
<td style="border:1px solid black;">Everyone: 読み取り<br />
Administrators: フル コントロール<br />
SYSTEM: フル コントロール</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\TEMP ディレクトリ</td>
<td style="border:1px solid black;">Administrators: フル コントロール<br />
SYSTEM: フル コントロール<br />
CREATOR OWNER: フル コントロール<br />
Everyone: 特殊なディレクトリ アクセス ― 読み取り、書き込み、および実行、特殊なファイル アクセス ― なし</td>
</tr>
</tbody>
</table>
 

**レジストリの保護 (NT4.0)**

高度なセキュリティを設定したい場合は、標準的なセキュリティに対する変更以外にも、レジストリの特定のキーに保護を設定することができます。

既定では、標準レベルのセキュリティとしてレジストリのさまざまなコンポーネントに保護が設定されています。特定のレジストリ キーにアクセス権を割り当て、高いレベルのセキュリティを設定することができます。ユーザーが業務上必要なプログラムは、ユーザーに代わって特定のキーをアクセスする必要があるため、この操作には注意が必要です。

次の各キーについて、指定された変更を行います。

**アクセス許可**

 
<p> </p>
<table style="border:1px solid black;">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">Everyone グループ :</td>
<td style="border:1px solid black;">値の照会、サブキーの列挙、通知、および読み取り制御</td>
</tr>
</tbody>
</table>
  
**\[ローカル マシン\] ダイアログ ボックスの \[HKEY\_LOCAL\_MACHINE\] で、次のキーを保護します。**
  
\\SOFTWARE
  
この値の変更を推奨します。ソフトウェアをインストールできる人物を制限し、システムをロックします。サブツリーすべてをロックするのは、ソフトウェアによっては使用できなくなるものがあるので避けてください。
  
\\SOFTWARE\\Microsoft\\Rpc (およびそのサブキー)
  
これは、RPC サービスをロックします。
  
\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion
  
\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\ProfileList
  
\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\AeDebug
  
\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Compatibility
  
\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Drivers
  
\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Embedding
  
\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Fonts
  
\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\FontSubstitutes
  
\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Font Drivers
  
\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\FontMapper
  
\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Font Cache
  
\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\GRE\_Initialize
  
\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\MCI
  
\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\MCI Extensions
  
\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Perflib
  
このキーについて "Everyone: 読み取り" アクセスの削除を検討します。このキーは、リモート ユーザーにコンピュータについてのパフォーマンス データの表示を許可します。その代わりに、INTERACTIVE: 読み取りアクセスを与えます。このアクセス権は、Administrators と System のほかに、対話形式でログオンしたユーザーだけにこのキーへのアクセスを許可します。
  
\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Ports (およびすべてのサブキー)
  
\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Type 1 Installer
  
\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\WOW (およびすべてのサブキー)
  
\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\ Windows3.1MigrationStatus (およびすべてのサブキー)
  
\\SYSTEM\\CurrentControlSet\\Services\\Lanmanserver\\Shares
  
\\SYSTEM\\CurrentControlSet\\Services\\UPS
  
このキーにセキュリティを設定するほか、UPS サービスに関連したコマンド ファイルがある場合は、"Administrators: フル コントロール、System: フル コントロール" のみにセキュリティを設定する必要があります。
  
\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run
  
\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\RunOnce
  
\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall
  
**\[ローカル マシン\] ダイアログ ボックスの \[HKEY\_CLASSES\_ROOT\] で、次のキーを保護します。**
  
\\HKEY\_CLASSES\_ROOT (およびすべてのサブキー)
  
**レジストリ エディタの HKEY\_USERS で次の変更を行います。**
  
\\.DEFAULT
  
レジストリ エディタは、Windows NT レジストリへのリモート アクセスをサポートします。レジストリへのネットワーク アクセスを制限するには、レジストリ エディタを使用して次のレジストリ キーを作成します。

 
<p> </p>
<table style="border:1px solid black;">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">ハイブ</td>
<td style="border:1px solid black;">HKEY_LOCAL_MACHINE</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">キー</td>
<td style="border:1px solid black;">System\CurrentControlSet\Control\SecurePipeServers</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">名前</td>
<td style="border:1px solid black;">\winreg</td>
</tr>
</tbody>
</table>
  
このキーに設定されたセキュリティ許可は、リモートからレジストリにアクセスするためにシステムに接続可能なユーザーまたはグループを定義します。Windows NT Workstation の既定のインストールでは、このキーを定義しませんので、レジストリへのリモート アクセスを制限していません。Windows NT Server では、ほとんどのレジストリへのリモート アクセスを Administrators だけに許可します。
  
管理者以外がアクセスする必要のあるパスについては、HKEY\_LOCAL\_MACHINE \\SYSTEM \\CurrentControlSet \\Control
  
SecurePipeServers\\winreg\\AllowedPaths キーに指定します。
  
サーバー オペレータのメンバが十分信頼されていない環境では、次のキーの保護を変更することをお勧めします。

 
<p> </p>
<table style="border:1px solid black;">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >レジストリ キー</th>
<th style="border:1px solid black;" >推奨アクセス許可</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">HKEY_LOCAL_MACHINE \Software \Microsoft \Windows NT\CurrentVersion\Winlogon</td>
<td style="border:1px solid black;">CREATOR OWNER: フル コントロール<br />
Administrators: フル コントロール<br />
SYSTEM: フル コントロール<br />
Everyone: 読み取り</td>
</tr>
</tbody>
</table>
 

**Windows 2000 の既定設定値**

**ファイル システム**

次の表は、Windows 2000 の新規インストール時に Power User と User のファイル システムに適用される既定のアクセス コントロール設定をまとめたものです。かっこ内に但し書きがある場合を除き、ディレクトリ、サブディレクトリ、およびファイルすべてにアクセス許可が適用されます。

-   %systemdir% は %windir%\\system32 を意味します。

-   \*.\* はそのディレクトリに含まれるファイル (ディレクトリではない) を意味します。

-   RX は読み取りと実行を意味します。

 
<p> </p>
<table style="border:1px solid black;">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >ファイル システム オブジェクト</th>
<th style="border:1px solid black;" >既定の Power User アクセス許可</th>
<th style="border:1px solid black;" >既定の User アクセス許可</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">C:\boot.ini</td>
<td style="border:1px solid black;">RX</td>
<td style="border:1px solid black;">なし</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">C:\ntdetect.com</td>
<td style="border:1px solid black;">RX</td>
<td style="border:1px solid black;">なし</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">C:\ntldr</td>
<td style="border:1px solid black;">RX</td>
<td style="border:1px solid black;">なし</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">C:\ntbootdd.sys</td>
<td style="border:1px solid black;">RX</td>
<td style="border:1px solid black;">なし</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">C:\autoexec.bat</td>
<td style="border:1px solid black;">変更</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">C:\config.sys</td>
<td style="border:1px solid black;">変更</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\Program Files</td>
<td style="border:1px solid black;">変更</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">%windir%</td>
<td style="border:1px solid black;">変更</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">%windir%\*.*</td>
<td style="border:1px solid black;">RX</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">%windir%\Config\*.\*</td>
<td style="border:1px solid black;">RX</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">%windir%\Cursors\*.\*</td>
<td style="border:1px solid black;">RX</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">%windir%\Temp</td>
<td style="border:1px solid black;">変更</td>
<td style="border:1px solid black;">同期、スキャン、ファイルの追加、サブディレクトリの追加。</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">%windir%\repair</td>
<td style="border:1px solid black;">変更</td>
<td style="border:1px solid black;">一覧</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">%windir%\addins</td>
<td style="border:1px solid black;">変更 (ディレクトリ \ サブディレクトリ)<br />
RX （ファイル)</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">%windir%\Connection Wizard</td>
<td style="border:1px solid black;">変更 (ディレクトリ \ サブディレクトリ)<br />
RX （ファイル)</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">%windir%\Fonts\*.\*</td>
<td style="border:1px solid black;">RX</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">%windir%\Help\*.\*</td>
<td style="border:1px solid black;">RX</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">%windir%\inf\*.\*</td>
<td style="border:1px solid black;">RX</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">%windir%\java</td>
<td style="border:1px solid black;">変更 (ディレクトリ \ サブディレクトリ)<br />
RX （ファイル)</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">%windir%\Media\*.\*</td>
<td style="border:1px solid black;">RX</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">%windir%\msagent</td>
<td style="border:1px solid black;">変更 (ディレクトリ \ サブディレクトリ)<br />
RX （ファイル)</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">%windir%\security</td>
<td style="border:1px solid black;">RX</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">%windir%\Speech</td>
<td style="border:1px solid black;">変更 (ディレクトリ \ サブディレクトリ)<br />
RX （ファイル)</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">%windir%\system\*.\*</td>
<td style="border:1px solid black;">読み取り、実行</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">%windir%\twain_32</td>
<td style="border:1px solid black;">変更 (ディレクトリ \ サブディレクトリ)<br />
RX （ファイル)</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">%windir%\Web</td>
<td style="border:1px solid black;">変更 (ディレクトリ \ サブディレクトリ)<br />
RX （ファイル)</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">%systemdir%</td>
<td style="border:1px solid black;">変更</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">%systemdir%\*.\*</td>
<td style="border:1px solid black;">RX</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">%systemdir%\config</td>
<td style="border:1px solid black;">一覧</td>
<td style="border:1px solid black;">一覧</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">%systemdir%\dhcp</td>
<td style="border:1px solid black;">RX</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">%systemdir%\dllcache</td>
<td style="border:1px solid black;">なし</td>
<td style="border:1px solid black;">なし</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">%systemdir%\drivers</td>
<td style="border:1px solid black;">RX</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">%systemdir%\CatRoot</td>
<td style="border:1px solid black;">変更 (ディレクトリ \ サブディレクトリ)<br />
RX （ファイル)</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">%systemdir%\ias</td>
<td style="border:1px solid black;">変更 (ディレクトリ \ サブディレクトリ)<br />
RX （ファイル)</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">%systemdir%\mui</td>
<td style="border:1px solid black;">変更 (ディレクトリ \ サブディレクトリ)<br />
RX （ファイル)</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">%systemdir%\os2\*.\*</td>
<td style="border:1px solid black;">RX</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">%systemdir%\os2\dll\*.\*</td>
<td style="border:1px solid black;">RX</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">%systemdir%\ras\*.\*</td>
<td style="border:1px solid black;">RX</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">%systemdir%\ShellExt</td>
<td style="border:1px solid black;">変更 (ディレクトリ \ サブディレクトリ)<br />
RX （ファイル)</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">%systemdir%\Viewers\*.\*</td>
<td style="border:1px solid black;">RX</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">%systemdir%\wbem</td>
<td style="border:1px solid black;">変更 (ディレクトリ \ サブディレクトリ)<br />
RX （ファイル)</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">%systemdir%\wbem\mof</td>
<td style="border:1px solid black;">変更</td>
<td style="border:1px solid black;">RX</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">%UserProfile%</td>
<td style="border:1px solid black;">フル コントロール</td>
<td style="border:1px solid black;">フル コントロール</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">All Users</td>
<td style="border:1px solid black;">変更</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">All Users\Documents</td>
<td style="border:1px solid black;">変更</td>
<td style="border:1px solid black;">変更</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">All Users\Application Data</td>
<td style="border:1px solid black;">変更</td>
<td style="border:1px solid black;">変更</td>
</tr>
</tbody>
</table>
  
Power User は新規ファイルを以下のディレクトリに書き込めますが、テキスト モードのセットアップ中にインストールされたファイルについては変更できません。また、他の Power User は全員、これらのディレクトリで作成されたファイルの変更アクセス許可を継承します。
  
-   %windir%
  
-   %windir%\\Config
  
-   %windir%\\cursors
  
-   %windir%\\Fonts
  
-   %windir%\\Help
  
-   %windir%\\inf
  
-   %windir%\\Media
  
-   %windir%\\system
  
-   %systemdir%
  
-   %systemdir%\\os2
  
-   %systemdir%\\os2\\dll
  
-   %systemdir%\\ras
  
-   %systemdir%\\Viewers
  
\[変更 (ディレクトリ\\サブディレクトリ) RX (ファイル)\] と定義されたディレクトリの場合、Power User は新規ファイルを書き込めますが、それらのファイルに対して他の Power User は読み取り専用アクセス許可しか持ちません。
  
**Windows 2000 の既定レジストリ ACL**
  
次の表は、Windows 2000 の新規インストール時に Power User と User のレジストリ オブジェクトに適用される既定アクセス制御の設定をまとめたものです。1 つのオブジェクトについては、オブジェクトとその子オブジェクトすべてに適用されるアクセス許可についても記載されています。

 
<p> </p>
<table style="border:1px solid black;">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >レジストリ オブジェクト</th>
<th style="border:1px solid black;" >既定の Power User アクセス許可</th>
<th style="border:1px solid black;" >既定の User アクセス許可</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">HKEY_LOCAL_MACHINE</td>
<td style="border:1px solid black;"> </td>
<td style="border:1px solid black;"> </td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\SOFTWARE</td>
<td style="border:1px solid black;">変更</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\Classes\helpfile</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\Classes\.hlp</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\Microsoft</td>
<td style="border:1px solid black;"> </td>
<td style="border:1px solid black;"> </td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\Command Processor</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\Cryptography\OID</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\Cryptography\Providers\Trust</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\Cryptography\Services</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\Driver Signing</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\EnterpriseCertificates</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\Non-Driver Signing</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\NetDDE</td>
<td style="border:1px solid black;">なし</td>
<td style="border:1px solid black;">なし</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\Ole</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\Rpc</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\Secure</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\SystemCertificates</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\Windows\CV\RunOnce</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\Windows NT\CurrentVersion</td>
<td style="border:1px solid black;"> </td>
<td style="border:1px solid black;"> </td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\DiskQuota</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\Drivers32</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\Font Drivers</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\FontMapper</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\Image File Execution Options</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\IniFileMapping</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\Perflib</td>
<td style="border:1px solid black;">読み取り (Interactive で)</td>
<td style="border:1px solid black;">読み取り (Interactive で)</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\SecEdit</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\Time Zones</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\Windows</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\Winlogon</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\AsrCommands</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\Classes</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\Console</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\EFS</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\ProfileList</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\Svchost</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\Policies</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\SYSTEM\CurrentControlSet</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\Control\SecurePipeServers\winreg</td>
<td style="border:1px solid black;">なし</td>
<td style="border:1px solid black;">なし</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\Control\Session Manager\Executive</td>
<td style="border:1px solid black;">変更</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\Control\TimeZoneInformation</td>
<td style="border:1px solid black;">変更</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\Control\WMI\Security</td>
<td style="border:1px solid black;">なし</td>
<td style="border:1px solid black;">なし</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\HARDWARE</td>
<td style="border:1px solid black;">読み取り (Everyone で)</td>
<td style="border:1px solid black;">読み取り (Everyone で)</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\SAM</td>
<td style="border:1px solid black;">読み取り (Everyone で)</td>
<td style="border:1px solid black;">読み取り (Everyone で)</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\SECURITY</td>
<td style="border:1px solid black;">なし</td>
<td style="border:1px solid black;">なし</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">HKEY_USERS</td>
<td style="border:1px solid black;"> </td>
<td style="border:1px solid black;"> </td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">\USERS\.DEFAULT</td>
<td style="border:1px solid black;">読み取り</td>
<td style="border:1px solid black;">読み取り</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">\USERS\.DEFAULT\SW\MS\NetDDE</td>
<td style="border:1px solid black;">なし</td>
<td style="border:1px solid black;">なし</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">HKEY_CURRENT_CONFIG</td>
<td style="border:1px solid black;">= HKEY_LOCAL_MACHINE \SYSTEM<br />
CurrentControlSet\HardwareProfiles\Current</td>
<td style="border:1px solid black;"> </td>
</tr>
<tr class="even">
<td style="border:1px solid black;">HKEY_CURRENT_USER</td>
<td style="border:1px solid black;">フル コントロール</td>
<td style="border:1px solid black;">フル コントロール</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">HKEY_CLASSES_ROOT</td>
<td style="border:1px solid black;">= Merge of HKEY_LOCAL_MACHINE \SOFTWARE \Classes + HKEY_CURRENT_USER \SOFTWARE \Classes</td>
<td style="border:1px solid black;"> </td>
</tr>
</tbody>
</table>
  
**暗号化ファイル システム(EFS: Encrypting File System)**
  
EFS は、Windows NT ファイル システム (NTFS) のファイルを暗号化してディスクに保存するための中核的なファイル暗号化技術です。Windows NT 以外のオペレーティング システムから NTFS ボリュームのファイルにアクセス制限を受けずにアクセスできるようにするツールを使用すると、セキュリティが損なわれる可能性がありますが、EFS ではこのような問題に対処できます。EFS を使用すると、NTFS ファイル内のデータが暗号化してディスクに保存されます。公開キーに基づいて、統合システム サービスとして動作する暗号化技術が使用されているので、管理が容易でありながら、耐攻撃性に優れており、しかもユーザーに対して透過的に暗号化が行われます。暗号化された NTFS ファイルにアクセスしようとしているユーザーがファイルの秘密キーを持っていれば、そのユーザーは通常のファイルと同じようにファイルを開いて作業できます。ファイルへの秘密キーを持っていないユーザーに対しては、アクセスが拒否されます。
  
-   Windows 2000 の EFS では、ディレクトリ内の全ファイルを暗号化する強力な公開キー ベースの暗号化スキームを使って NTFS ディレクトリを暗号化することができます。ファイルごとの暗号化もサポートされていますが、アプリケーションが予想外の挙動を示すことがあるので、ファイルごとの暗号化はお勧めできません。
  
-   EFS では、ファイル共有からアクセスできるリモート ファイルの暗号化もサポートされています。ユーザーが移動プロファイルを持っている場合は、特定の信頼済みリモート システムで同じキーと証明書を使用できます。ほかのシステムでは、ローカル プロファイルが作成され、ローカル キーが使用されます。
  
-   企業で EFS を使用すると、EFS で暗号化したデータを必要時に回復できるようにするなど、ニーズに応じたデータ回復ポリシーを設定できます。
  
-   回復ポリシーは、Windows 2000 全体のセキュリティ ポリシーに統合されます。このポリシーの制御は、回復権限を持つユーザーに委任できます。組織内の部署ごとに、異なる回復ポリシーを構成できます。
  
-   EFS のデータ回復は、自己完結的な処理です。回復したデータが公開されるだけです。ファイルの暗号化に使用された個々のユーザーのキーが公開されるわけではありません。
  
-   EFS によるファイル暗号化では、ユーザーがその都度ファイルを復号化したり、再暗号化したりする必要がありません。復号化と暗号化は、ディスクに対してファイルを読み書きするときに透過的に行われます。
  
-   EFS では、暗号化ファイルを復号化せずにバックアップおよび復元できます。NT バックアップでも、暗号化ファイルのバックアップがサポートされています。
  
-   EFS はオペレーティング システムに統合されているので、重要なファイルがページ ファイルに漏れることがなく、暗号化ファイルのコピーを移動して、すべて暗号化した状態に維持されます。
  
-   EFS の北米バージョンでは、ファイル暗号化アルゴリズムとして DESX が搭載されています。このアルゴリズムは、128 ビット キー エントロピーを使用しています。EFS の国際バージョンでも、DESX を暗号化アルゴリズムとして使用していますが、ファイル暗号化キーは 40 ビット キー エントロピーに縮小されています。
  
-   データの回復を可能にするために、いくつかの保護機能が搭載されており、システム全体に障害が及んだ場合でもデータが損失しないようになっています。
  
暗号化ファイルシステムの使用方法、構成、および展開については、次の Web ページを参照してください。  
<https://msdn.microsoft.com/library/ms995356.aspx>
および  
<https://msdn.microsoft.com/library/ms995356.aspx>
  
**デジタル鑑識**
  
**はじめに**
  
デジタル鑑識は、IT コミュニティで以前から使用されており、近年、急速に普及しつつある技術です。侵入の証拠を収集するなど、さまざまな技術が含まれています。鑑識の世界で使用されている多くの異なる技術を技術環境に適用することで、データの整合性と認証を確保することを狙いとしています。このホワイト ペーパーでは、いくつかの例を示します。
  
新しいオペレーティング システムがリリースされるたびに、コンピュータ鑑識の世界で取り組まなければならない新しい課題が生じます。まだ DOS ベースのシステムが主流であったころは、システムを理解するのも今より容易で、疑いのあるディスク メディアを鑑識的に調査するのに役立つソフトウェア ツールにも恵まれていました。しかし、オペレーティング システムが複雑性を増すに連れて、システムを理解するために必要なトレーニングのレベルが指数関数的に高くなっていきました。基本的な処理に関してはおおむね標準的なものにとどまっているものの、今日のコンピュータ犯罪捜査の現場では、新しい技術を駆使した最先端の鑑識ツールが威力を発揮しています。
  
たとえば、1990 年代初期にさかのぼると、40 MB のハード ドライブを調べるは、約 1 週間もの処理時間が必要でした。バックアップ処理が遅く、システムのドキュメント化にも手間がかかっていました。当時の調査プロセスでは、ディスク上のすべてのクラスタ、セクタ、スラック、およびその他疑わしい部分をくまなく調べて、証拠を探し出す必要がありました。そして、4 GB 以上のサイズのドライブが調査対象となることがごく普通のことになりました。大容量ドライブに保存されている可能性のあるデータの量を考えると、もっと効率性に優れた鑑識ツールが必要になります。今日では、Windows ベースの鑑識ユーティリティおよびイメージング ツールを通じて、バックアップ時間が短縮されており、従来よりタイムリーかつ、シームレス性に優れた方法でハード ドライブ アーキテクチャを調査することが可能になっています。
  
一般に、捜査対象となる証拠は、ワープロ文書やスプレッドシートなどのファイルに残されています。また、消去されたファイル、ファイル スラック、Windows スワップ ファイルなどにも証拠が残されていることがあります。これらは、揮発性が高く、適切に調査しなければ、簡単に消えてしまう証拠です。疑いのあるコンピュータには、捜査の成否を握る鍵となるデータを変更したり破壊したりするプロセスが組み込まれている可能性がリます。コンピュータの電源を投入して Windows GUI を起動するだけで、そのようなプロセスが動作して証拠が隠滅されてしまいかねません。また、ユーザーが意図的にコンピュータ上にトロイの木馬プログラムを放置していることも考えられ、その場合は、ファイル構造が変更されたり破壊されたりする可能性があります。このような証拠隠滅を阻止するには、疑いのあるドライブのミラー イメージを作成します。ミラー イメージは、ハード ドライブをバイトごと、セクタごとに複製したものとします。さらに、最初のイメージと復元プロセスにおいては、イメージを巡回冗長チェックサム (CRC: Cyclical Redundancy Checksum) で認証するものとします。CRC は、ハード ドライブ上の各データ ブロックの整合性を確認する数学的計算処理です。
  
**よく使われるツールと用語 : その意味と企業への応用**
  
**ファイル署名** ほとんどのファイルには、一意な署名があります。オペレーティング システムでそのファイルがどのアプリケーションに関連付けられているかに関係なく、ファイルの最初の数バイトにはファイルの種類が示されます。たとえば、GIF ファイルの最初の 6 バイトは、GIF87A または GIF89A です。ほとんどの場合、ファイルの拡張子が変更されていても、鑑識ソフトウェアではこの情報から本来のファイル タイプを特定できます。
  
**ハッシュ** ハッシュは、MD5 チェックサムとも呼ばれます。最も多用されるハッシュは、MD5 ハッシュです。MD5 ハッシュでは、コンパイル時に生成される一意な 128 ビットの数値でデータの整合性が維持されていることを示します。たとえば、Windows 2000 Advanced Server では、explorer.exe の MD5 ハッシュが 72 51 75 97 85 c6 0e d0 e3 d3 f8 37 9c 89 a0 79 となります。2 つの異なるファイルの MD5 サムが一致する確率は、約 2128 分の 1 しかありません。次の表は、トロイの木馬やその他の方法で改変されることが特に多いファイルについて、有効なチェックサム (Windows 2000 Advanced Server の場合) を示しています。
  
**改変されることが特に多いファイルとそれらの有効なチェックサム**

 
<p> </p>
<table style="border:1px solid black;">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >ファイル名</th>
<th style="border:1px solid black;" >用途</th>
<th style="border:1px solid black;" >MD5 チェックサム</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">explorer.exe</td>
<td style="border:1px solid black;">Windows エクスプローラ</td>
<td style="border:1px solid black;">72 51 75 97 85 c6 0e d0 e3 d3 f8 37 9c 89 a0 79</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">taskmgr.exe</td>
<td style="border:1px solid black;">タスク マネージャ</td>
<td style="border:1px solid black;">b2 e4 32 b3 4d cc bc 68 88 fa 3a aa 71 94 c5 c2</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">logon.scr</td>
<td style="border:1px solid black;">ログオン画面</td>
<td style="border:1px solid black;">79 80 b0 36 2c ce ec f2 55 72 e8 64 f9 7c 2b b1</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">cmd.exe</td>
<td style="border:1px solid black;">コマンド プロンプト</td>
<td style="border:1px solid black;">53 fc da 64 f7 12 2b cb 4b 60 12 87 03 9a 80 75</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">rundll32.exe-*</td>
<td style="border:1px solid black;">DLL をアプリケーションとして実行</td>
<td style="border:1px solid black;">1e d5 27 48 25 cd 1e eb be 10 2b 9f f7 c9 ec 31</td>
</tr>
</tbody>
</table>
  
\* このプログラムに対して実行する DLL として HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\Run に指定されている DLL については特に注意が必要です。
  
Windows 2000 には、システム ファイルの保護機能があり、これらのファイルのほとんどが変更されないように保護されます。したがって、侵入者が不正を働くことがより困難になっています。一般に、予防策として、これらのファイルを変更できないようにしておくのがよいでしょう。特定のタスクに対して最も特権レベルの低いセキュリティ コンテキストを使用するのが、セキュリティの基本です。これにより、リスクの程度を最小限に押さえることができます。
  
**ファイルおよびディスク スラック** ファイル スラックとは、ファイルの終端からクラスタの終端までの空き空間を意味します。たとえば、ファイル サイズが 200 バイトでクラスタ サイズが 512 バイトであるとすると、ファイル スラックは 312 バイトになります。また、クラスタ内の未割り当て空間もスラックと呼ばれます。ファイル スラック内に別のファイルを隠し込むことが可能です。
  
![](images/Cc722918.datasc08(ja-jp,TechNet.10).gif)
  
**RAM スラック** ファイルの終端から格納先のセクタまでの空間を RAM スラックと呼びます。セクタは、ディスクに書き込まれる前に RAM バッファに格納されます。セクタの一部にしか新しいデータが書き込まれていない状態でセクタがディスクにコミットされると、バッファの末尾の方に残っていたデータもディスクに書き込まれることになります。今まで一度も保存されていないデータをこの情報から取得できる可能性があります。
  
疑いのあるドライブのミラー イメージを作成するためのソフトウェア ツールには、さまざまなものがあります。筆者は、イメージのキャプチャ時に 2 つの異なる方法論を使い分けています。その 1 つは、DLT ドライブへの高速バックアップです。もう 1 つは、イメージを独自形式でほかのドライブにキャプチャして、後で検証に使用します。筆者が DLT ドライブにイメージをキャプチャするのは、主に、現場で作業しているときや、複数のバックアップを高速で作成する必要があるときです。これらのイメージは、保存した後、自分の研究室で復元するようにしています。検証を実施するために必要なだけ、何回でも復元できます。また、イメージを検証用のドライブに復元できるという利点もあります。その後、このドライブを元の装置に装着します。イメージが適切に作成されていれば、疑いのあるコンピュータにインストールされていたときと同様にプログラムを実行して、検証を進めることができます。
  
2 番目の方法では、独自のスキームでイメージを作成します。このイメージは、後で簡単に確認できます。また、必要であれば、その場でプレビューすることもできます。これらのイメージは、改変不可能なファイルとしてキャプチャされるので、CD にバックアップできるほか、ネットワーク接続した検証用コンピュータ上の共有にバックアップすることもできます。
  
疑いのあるデバイスを復元したら、ウィルス スキャンのルーチンが開始され、その後、検証プロセスが開始されます。今日では、さまざまな鑑識ソフトウェアおよびユーティリティがユーザー フレンドリなインターフェイスを備えており、テキスト ファイルやグラフィックのほか、ファイル スラック、未割り当てファイル空間、消去されたファイルなどの隠しデータ領域を検査しながら、分析を効率的に進めることができます。問題の性質や付帯状況によっては、単語リストを作成し、ファイル構造に対して実行します。
  
**証拠の維持**
  
鑑識プロセスでは、証拠を探し出して調査しながら、証拠のフローを維持すると共にドキュメント化することにも重点が置かれます。ポリシーと手順をしっかり定めておかないと、証拠が損なわれたり、たとえ決定的な証拠であっても、民事訴訟または刑事訴訟のために提出することができなくなる可能性があります。また、証拠が損なわれると提出できなくなるので、メディアを実際に保存しておくこと (場所と種類のどちらについても) が重要となります。
  
[](#mainsection)[ページのトップへ](#mainsection)
  
### その他の有益な情報源
  
#### DoS (サービス拒否)
  
-   SANS  
    <https://www.sans.org/reading_room/whitepapers/intrusion/1212.php>
  
-   Dave Dittrich  
    <https://staff.washington.edu/dittrich/misc/ddos/>
  
-   RFC 2267 Network Ingress Filtering: Defeating Denial of Service Attacks which employ IP Source Address Spoofing  
    [ftp://ftp.isi.edu/in-notes/rfc2267.txt](https://technet.microsoft.com/ja-jp/ftp://ftp.isi.edu/in-notes/rfc2267.txt)
  
-   RFC 2644 Changing the Default for Directed Broadcasts in Routers  
    [ftp://ftp.isi.edu/in-notes/rfc2644.txt](https://technet.microsoft.com/ja-jp/ftp://ftp.isi.edu/in-notes/rfc2644.txt)
  
**業務継続プランニング**
  
-   Data Recovery Journal  
    <https://www.drj.com>
  
**ファイヤウォール**
  
-   Firewall.com  
    <https://www.firewall.com>
  
-   Vicomsoft  
    <https://www.vicomsoft.com/knowledge/reference/firewalls1.html>
  
**デジタル鑑識**
  
-   Fred Cohen and Associates  
    <https://www.all.net>
  
-   Guidance Software  
    <https://www.guidancesoftware.com>
  
-   New Technologies International  
    <https://www.forensics-intl.com>
  
**セキュリティに関する書籍**
  
-   Hacking Exposed  
    <https://www.hackingexposed.com>
  
-   Internet Security with Windows NT  
    <https://www.ntsecurity.net/>
  
**協会およびコンソーシアム**
  
-   International Computer Security Association  
    <https://www.icsa.net/>
  
-   International Information Systems Security Certification Consortium (ISC2)  
    <https://www.isc2.org>
  
-   Computer Security Institute  
    <https://www.gocsi.com/>
  
-   International Systems Security Association  
    <https://www.issa.org/>
  
-   The Internet Engineering Task Force  
    <https://www.ietf.org/>
  
[](#mainsection)[ページのトップへ](#mainsection)
  
##### 目次
  
-   管理権限におけるデータ セキュリティとデータ可用性  
-   [エンド システムにおけるデータ セキュリティとデータ可用性](https://technet.microsoft.com/ja-jp/library/ac606a24-db6f-4f89-bb4f-db663cc30513(v=TechNet.10))  
-   [ローカル通信システムの IP セキュリティ](https://technet.microsoft.com/ja-jp/library/57e1b0cf-7e2f-4ed2-9c3c-f6484f5cbfca(v=TechNet.10))  
-   [エンド システムの監視と監査](https://technet.microsoft.com/ja-jp/library/fc6d5f91-b120-4d38-9728-f5100d97278b(v=TechNet.10))  
-   [名前解決の管理者権限](https://technet.microsoft.com/ja-jp/library/2111f659-da43-4bfb-b6a7-80d8056a2ba4(v=TechNet.10))
  
[](#mainsection)[ページのトップへ](#mainsection)
