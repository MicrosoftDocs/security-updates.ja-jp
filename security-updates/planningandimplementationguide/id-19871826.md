---
TOCTitle: ID およびアクセス管理
Title: ID およびアクセス管理
ms:assetid: '15ebf083-9b8f-40ca-83d6-341a50408a26'
ms:contentKeyID: 19871826
ms:mtpsurl: 'https://technet.microsoft.com/ja-jp/library/Dd362880(v=TechNet.10)'
---

### 第 3 章: 問題点と要件

公開日: 2004年9月7日

組織にとって効果的な ID およびアクセス管理インフラストラクチャを実装するには、組織がテクノロジの機能に何を要求しているかを丹念に分析してテクノロジ プラットフォームを選択する必要があります。この機能分析によって、ソリューションがビジネスの目標を満たし、プラットフォームがセキュリティで保護され、管理できる状態を保つことが保証されます。

ここでは、Contoso Pharmaceuticals という架空の会社を題材に、これらの問題を考えていきます。Contoso Pharmaceuticals のシナリオは、通常の ID およびアクセス管理に関して、一般的な会社が直面するような問題について深く理解することを目的に設計されています。

### Contoso Pharmaceuticals について

Contoso Pharmaceuticals はアメリカ合衆国にある架空の会社で、本部と主要な製造施設はフロリダ州オーランドにあります。Contoso の現在の従業員数は 5,300 人、年間の利益は 38 億ドルです。

この会社は、先進的な研究開発に主力を置く企業文化によって成功してきました。また、顧客サービスへの取り組みと低コストの製造設備によって有名になっています。Contoso はこの 2 年間に大きな成長を遂げましたが、それには、より小規模の英国の医薬品会社 Fabrikam Ltd. (これも架空の会社) の買収も一役買っています。親会社の市場での地位を強化するために、さらにいくつか、同様の企業買収が計画されています。

#### 情報技術部門

Contoso の IT 部門は、数百名の技術者および管理者によって構成されています。22 人のフルタイムのシステム管理者が、Microsoft® Windows® ベースのサーバー オペレーティング システムや Sun ONE Directory Server 5.1 (以前の iPlanet Directory Server) を実行しているコンピュータ、サード パーティ製アプリケーションやカスタム アプリケーションを実行しているメインフレームなど、あらゆる種類の 500 台を超えるサーバーを管理しています。また、管理者は従業員が使用する会社の Microsoft Exchange Server インフラストラクチャ、および社内の Contoso ポータルサイトも管理します。他のサーバーは、ファイル サービス、印刷サービス、およびデータベース機能に特化しています。

会社の Microsoft Windows Server™ 2003 のドメイン コントローラと Microsoft Active Directory® ディレクトリ サービスの管理は、日常業務の重要部分です。ドメイン管理者が実行する多くのタスクの1つは、Active Directory に対してアカウントのプロビジョニングを実行することです。

Contoso には大規模で訓練が行き届いたヘルプデスクがあり、1 日 24 時間、年中無休で対応しています。ヘルプデスクのオペレータは、電子メール、ワード プロセッサ、ビジネス アプリケーションなどのアプリケーションをサポートすると同時に、会社のシステムからロックアウトされた従業員のパスワードのリセットも支援します。Contoso にはインフラストラクチャおよびセキュリティの設計者が複数存在し、会社全体と部門ごとの IT 要件を検討して、IT 戦略、投資、および標準に対する提案を行います。

#### オペレーティング システム

さまざまなシステム プラットフォームおよびアプリケーションによって、Contoso Pharmaceuticals の IT インフラストラクチャが作成されています。Windows ベースのサーバーおよびクライアントがシステムの主要部分を占めていますが、Contoso の基幹業務システムには、他にも Sun ONE Directory Server 5.1 を実行しているサーバーや Sun Solaris 9 を実行しているワークステーションがあります。Sun Solaris 9 を実行しているシステムは、現在、ネットワーク情報システム (NIS) を使用して管理されています。

Contoso のイントラネット Active Directory 設計は、空のルート ドメインと単一の子ドメインによる単一のフォレストに対応しています。元の Contoso のユーザー、サービス、およびマシンのアカウントは、Microsoft Windows NT® 4.0 ドメインから Active Directory に移行されます。また、会社は外部のドメイン ネーム システム (DNS) サーバーによって、Contoso.com というインターネット ドメインのサービスを運用します。これらの DNS サーバーは、イントラネット Active Directory フォレストに対応する内部サーバーとは分離されています。

#### 追加の ID ストア

最近の Fabrikam Ltd. の買収では、Contoso はメッセージ交換用の Lotus Notes Release 5、Sun ONE Directory Server 5.1 を実行しているサーバーなど複数のインフラストラクチャ製品を得ることになりましたが、そのサーバーでは独自で開発されたカスタムの Web アプリケーションに対する認証とディレクトリ サービスが行われています。これらのシステムは、短期的には、従来の Fabrikam の従業員のビジネス活動をサポートするために必要です。長期計画では、Fabrikam のインフラストラクチャを既存の Contoso 環境に移行する必要があります。

[](#mainsection)[ページのトップへ](#mainsection)

### ビジネスおよびテクノロジの問題

Contoso の事業運営は非常に競争の激しい環境で行われていて、製品化までの時間は重要な要因です。臨床試験は大きな投資で、米国食品医薬品局 (FDA) に対する結果配信や製品の承認申請が1日遅れると、会社は約 100 万ドルを無駄にすることもあります。したがって、ユーザーおよびパートナーとのやりとりが、会社の運営の重要な部分を占めます。法規制は、もう 1 つの重要事項です。法に基づく過料が数百万ドルから数千万ドルになることもあるためです。

Contoso にとってビジネス上の主要な課題は、顧客、パートナー、およびリモートで働く従業員と組織とのやりとりの質と範囲の両方を拡大することです。顧客との対話によってフィードバックを得たり、自社製品の長所を知らせたりするための新しい方法によって、多くの改善がなされました。これらの改善は、顧客の要求により見合った製品を製造するための製品開発プロセスに関与し、それによって会社の市場シェアが拡大されています。しかし、これまでは、管理業務が関与することが、このプロセスをより高額で、維持困難なものにしてきました。

Contoso は、パートナーとのコラボレーションに使用するテクノロジ ソリューションを改善することは、製品開発プロセスの効率を大幅に高められると考えるようになりました。同時に、従業員はますますモバイル化してきて、会社のネットワークとインターネットの両方から、より簡単に業務に必要なデータにアクセスできるようにする必要がありました。

Contoso は、ID およびアクセス管理プラットフォームによって、(特にデジタル ID 管理における) インフラストラクチャの管理機能とセキュリティが改善されるということを正しく理解しています。長期的な目標としては、個別のアプリケーションに対する重複 ID ストアを中央 ID ストアに統合して管理効率を大幅に向上させ、総保有コスト (TCO) を低減し、結果的に管理上のエラーを削減してセキュリティを向上させようとしています。

しかし、Contoso の設計者および管理者は、これらの目標、特にセキュリティ面での目標を達成するためには、短期的および中期的に解決するべき問題があることを認識しています。この章の「脅威とその対策」で、このようなセキュリティ上の問題と、それらの脅威を削減または緩和するための対策についてまとめます。

Contoso Pharmaceuticals では、ID およびアクセスの管理を改善する 2 か年計画によって、次のような重要な要件を特定しました。

-   自社の製品の早急な開発、評価、およびマーケティングに対応できる、可能な限り最善のテクノロジ インフラストラクチャを提供すること。

-   会社の IT インフラストラクチャ (特にデジタル ID の管理) の効率とセキュリティ レベルを向上させて、これ以上管理オーバーヘッドや IT の複雑化を深刻にさせずに、さらに成長するための道を開くこと。

-   セキュリティおよびプライバシのメカニズムを関連するテクノロジと統合して、政府の規制要件 (FDA 21 連邦規制基準 (CFR) パート 11 (Part 11)、および 1996 年の医療保険の携行性と責任に関する法律 (HIPAA) など) を満たすこと。

これらの要件を満たすために、Contoso は最重要なアプリケーションおよびプロセスに対する包括的なレビューを開始しました。次のセクションでは、これらの重要な各資産を特定します。

#### 重要な IT 資産

Contoso Pharmaceuticals は、会社にとって最も重要な多くの IT 資産を特定しました。次の各資産は、ビジネス上および技術上の主要な問題を解決するための重要な機能を支えます。

-   エクストラネットにアクセスできる販売および担当者アプリケーション、および営業職員のユーザー アカウント

-   エクストラネットにアクセスできるパートナー リサーチ アプリケーション、およびエクストラネットのパートナー ID ストア

-   エクストラネットにアクセスできる顧客治験フィードバック アプリケーション、およびエクストラネットの顧客 ID ストア

-   SAP アプリケーション データ、および SAP ユーザー アカウント

-   Microsoft Exchange の電子メール インフラストラクチャ、およびアカウント

-   Lotus Notes の電子メール インフラストラクチャ、およびアカウント

-   Sun ONE Directory Server 5.1 を使用するアプリケーション、および UNIX ユーザー アカウント

##### エクストラネットにアクセスできる販売および担当者アプリケーション

Contoso の販売チームは、かなりの時間をオフィスの外で過ごし、顧客を訪ねては新たなビジネスを開拓しています。スタッフはそれぞれの販売員およびその連絡先を追跡する必要がありますが、それは Contoso の境界領域のネットワーク上の Web アプリケーションとデータベースによって実行されます。境界領域のネットワークは、非武装地帯 (DMZ) とも呼ばれます。このアプリケーションが管理する情報は、重要な機密ではありません。しかし、このデータが漏れると、Contoso とそのパートナーにとっては問題となる可能性があり、そうなると Contoso の信頼性に関する社会の認識にも広範な影響があります。

アプリケーションが使用不可になると、販売チームの効率が大きく妨げられるため、大きな問題になります。

##### 販売職員のユーザー アカウント

個々の販売職員のユーザー アカウントを使用すると、エクストラネットを通して特定の範囲に含まれる機密情報にアクセスできます。これらのアカウントは、誤用されて Contoso の組織全体と IT リソースに対して攻撃が行われる可能性があります。

##### エクストラネットにアクセスできるパートナー リサーチ アプリケーション

リサーチ パートナーとのコラボレーションは新製品開発において重要です。Contoso の将来の成長が新製品開発にかかっているためです。このようなコラボレーションの大半は、Contoso 境界領域のネットワークにホストされている単一アプリケーションによって実行されます。そのアプリケーションのデータは頻繁にバックアップされますが、そのアプリケーションに対する攻撃が成功すると Contoso にとっては深刻な問題になります。研究データの漏洩によって競争では不利になり、規制当局による措置を受けることもあります。

##### エクストラネット パートナー アカウント ストア

パートナー アカウントは、従業員アカウントに比べると Contoso の IT リソースに対するアクセス権が少なく設定されます。パートナー アカウントは、パートナー リサーチ アプリケーションにしかアクセスできません。しかし、単一のアカウントまたは全体のアカウント ストアが侵害されると、少なくともアプリケーションが部分的に侵害されることになります。この場合も、競走上の不利益と、場合によっては規制措置がとられる結果となります。

##### エクストラネットにアクセスできる顧客治験アプリケーション

Contoso の製品の成功は、製品開発サイクルの早い時期から顧客のフィードバックを受けることにかかっています。Contoso のテクノロジ活用方法の 1 つは、Web アプリケーションを提供してそれによって顧客が治験段階の製品フィードバックを簡単に行えるようにすることです。

Contoso は顧客治験フィードバック アプリケーションによって、顧客フィードバックのほとんど 50 パーセントを得ています。このアプリケーションが中断すると、会社が試験を完了して結果を FDA に提出する機能が深刻に妨害され、FDA がアプリケーションのセキュリティが侵害されたと考える根拠がある場合は、規制措置をとる結果となる可能性があります。

##### エクストラネット顧客アカウント ストア

顧客アカウントは、従業員アカウントに比べると Contoso IT リソースに対するアクセス権が少なく設定されます。顧客アカウントは、顧客治験フィードバック アプリケーションにしかアクセスできません。しかし、単一のアカウントまたは全体のアカウント ストアが侵害されると、少なくともアプリケーションが部分的に侵害されることになります。他にも、Contoso のセキュリティの実践が不十分で顧客のプライバシ情報を漏洩する可能性があることから、顧客との関係が傷つけられることがあります。これも、会社に対する規制措置の原因になります。

##### SAP アプリケーション データおよび SAP ユーザー アカウント

Contoso は、いくつかの SAP ベースのエンタープライズ リソース プランニング (ERP) アプリケーションを実装しています。このようなアプリケーションの一部は基幹ビジネス機能に従事し、機密データをユーザーに配信します。このデータが侵害されると、市場で競争する会社の能力が阻害されたり、法的要件の違反として多額の罰金を科せられたりします。

個々のユーザー アカウントは、SAP アプリケーションの範囲内の機密情報にアクセスするために使用されます。このため、財務情報が投資家に漏れて、Contoso が不利益を被ることがあります。

##### Microsoft Exchange の電子メール

Contoso は、Microsoft Exchange Server と Microsoft Outlook® を内部、および外部との電子メールに使用しています。このデータが侵害されると、競争者に販売のための機密情報が漏れ、規制措置につながる可能性があります。

##### Lotus Notes の電子メール

Fabrikam Ltd. は内部および外部との電子メールに Lotus Notes を使用していて、この環境は Contoso との合併中に移行されています。このデータが侵害されると、競合他社に販売のための機密情報が漏れ、規制措置につながる可能性があります。

##### Sun ONE Directory Server 5.1 および UNIX ユーザー アカウント

Sun ONE Directory Server 5.1 には、Fabrikam が使用していた独自の Web アプリケーションをサポートするディレクトリ サービスと認証があります。このアプリケーションとデータの侵害によって、競走上の不利益と、場合によっては規制措置につながる結果となります。

個々の UNIX ユーザー アカウントは、Contoso の特定の範囲内の機密情報にアクセスできます。これらのアカウントは、誤用されて Contoso の組織全体と IT リソースに対して攻撃が行われる可能性があります。

#### 分析を完了する

IT 資産の分析が完了すると、Contoso は現在の ID およびアクセス管理プラットフォームについて、次のような問題点を認識しました。

-   Contoso 環境のデジタル ID 管理のコストおよび複雑さを削減するための明確な戦略がない。

-   顧客アプリケーションに対するユーザーのプロビジョニングおよびプロビジョニング解除が標準化されていない。

-   開発中のアプリケーションによって ID ストアが追加されると、IT インフラストラクチャが複雑になる。

-   認証メカニズムは、アプリケーションごとにカスタマイズされて開発される場合が多く、旧システムで標準で使用していたメカニズムを使用できない場合もある。どちらの場合も、それらのメカニズムを実装するのは高価で、今日のコンピュータ環境に見られる多くの脅威に対して十分に安全とはいえません。

-   アプリケーション認証は、アプリケーション開発者がしばしば独自のメカニズムを実装し、それによって開発と管理の時間とコストが増大するために問題となる。

[](#mainsection)[ページのトップへ](#mainsection)

### 脅威とその対策

多くの ID およびアクセス管理では、実際にはセキュリティ上の脆弱性が問題になります。脆弱性は情報システムやそのコンポーネントに存在する弱点であり、悪用されてセキュリティが侵害される可能性があります。脆弱性は、人的な問題、プロセスまたはテクノロジの問題によって発生します。例をあげると、システム セキュリティの手順、ハードウェアの設計、内部制御などです。脆弱性はネットワーク防御のどの時点でも発生することがあり、その評価は通常は全体的なセキュリティ レビューに含まれます。

#### 現在の脅威

Contoso Pharmaceuticals は、ネットワークの主要なセキュリティ レビューを終了しました。そのレビューには、ネットワークに対する脅威のカテゴリ化も含まれています。ID およびアクセス管理プロジェクトの適用範囲を作成するとき、Contoso は内部および外部からの潜在的な攻撃を最初に最重要点として考慮することにしました。内部の脅威はイントラネットを標的にするものであるのに対し、外部の脅威はエクストラネットに特化されます。

#### セキュリティ問題と脆弱性

Contoso の環境には、この章の前半で取り上げたビジネスおよびテクノロジの問題に関連する多くの脆弱性があります。セキュリティの観点から、Contoso の ID およびアクセス管理ソリューションは、次の問題に対処する必要があります。

-   Contoso はインターネット対応のアプリケーションを通じて多くのビジネス情報を利用できるようにする必要があるが、内部ネットワークに実装されているセキュリティ メカニズムはこのネットワークに対して広範なアクセスを許可できるほど強力でもなければ一貫性もない。

-   セキュリティ監査ログからは不完全で、整合性のない、部分的な法的証拠しか得られないため、Contoso に対するセキュリティ違反の調査は困難である。

-   既存のアプリケーションの ID ストアはセキュリティで保護されず、それによって制御されているユーザー アカウントに対する攻撃は可能であると同時に発生する可能性が高い。

-   既存のアプリケーション認証メカニズムはセキュリティで保護されず、その認証メカニズムに対する攻撃は可能であると同時に発生する可能性が高い。

-   既存のアプリケーション承認メカニズムの設計は不十分で、そのメカニズムに対する攻撃は可能であると同時に発生する可能性が高い。

最初の脆弱性によって、ID およびアクセス管理に関する一貫した課題が浮かび上がります。顧客、パートナー、または従業員に対応するシステムは、その人々がそのシステムにアクセスできる場合にのみ役に立ちます。しかし、アクセス権を付与する活動そのものによって、セキュリティ リスクが増大します。

これらのカテゴリをさらに詳細に調べることで、Contoso のセキュリティ レビューでは、次のようなプロセスおよびアカウントの脆弱性が内部および外部から悪用できるようになっていることが特定されました。

-   アカウント プロビジョニング

-   アカウント プロビジョニング解除

-   UNIX ワークステーションのアカウント

-   SAP 認証

-   SAP アプリケーションのデータ保護

-   従業員のアカウント

-   パートナーのアカウント

-   顧客のアカウント

従業員、パートナー、および顧客のアカウントの脆弱性は類似していますが、従業員アカウントの脆弱性はより重大な問題です。

##### アカウント プロビジョニング

不十分、または不完全なプロビジョニングは、普通はアプリケーションやネットワーク リソースに対してアクセスできない段階が設定されるだけで、直接のセキュリティ上の脅威はありません。しかし、不適切なアカウント プロビジョニング メカニズムは、セキュリティに対する直接の脅威になる別の慣習につながります。たとえば、アカウント共有や、重要な資産に対する匿名アクセスの許可などです。

アカウント共有は、アカウント プロビジョニングの脆弱性に関連する主要なリスクです。Contoso のヘルプデスクによる最近の報告では、この広く行われている慣習によって大量のサポート インシデントが発生しているということです。これはログインの失敗によってアカウントがロックアウトされ、複数のユーザーが同時に同じ ID を使用してリソースにアクセスすることで発生します。

Contoso の IT 部門による匿名の追跡調査によると、ユーザーがアカウントを共有する第 1 の理由は、新しい従業員がアプリケーションやネットワーク リソースにアクセスするためのプロビジョニングの遅延にあります。この ID 共有が特によく見られたのは契約スタッフで、仕事に必要な正当なアクセス権を付与される前に数か月間の仕事を終了してしまうことがしばしばあります。

それぞれの上司は、Contoso で現在働いているかどうかわからない別のユーザーのユーザー名とパスワードを臨時スタッフに与えることで、この問題に対処しています。この非標準的な慣習のために、アプリケーション管理者やネットワーク管理者は、実際にネットワーク リソースを使用したりアプリケーション データにアクセスしたりしているのがだれであるかを監査できません。一部の上司は部下に対して自分のアカウントやパスワードの情報を与え、それによってスタッフがより高い権限レベルのリソースやデータにアクセスできるようにしています。

##### アカウントのプロビジョニング解除

アカウントのプロビジョニング解除に関する脆弱性は、はるかに深刻な問題です。退職した従業員や外部のハッカーは、アプリケーションの ID ストアやディレクトリに残っている古いアカウントを使用して、機密データや重要なデータに不正アクセスをしたり、そのようなデータを破損したりできます。

アカウントのプロビジョニング解除の脆弱性に関連する主要なリスクは、古いアカウントです。アプリケーション ベースの ID ストアに関する最近の監査によって、3 年以上前に退職した従業員のアカウントが有効になったままであることが明らかになりました。古いアカウントは退職したユーザーや攻撃者のバックドアを提供し、アプリケーション データを攻撃するときにそれを使用できます。

以前のアカウント所有者によって発生する脆弱性の危険は明らかですが、3 年前のアカウントがそれ以来パスワードを変更されていなかったことを考えることも、重要です。古いアカウントによって、変更されないパスワードに対するブルート フォース攻撃が成功するチャンスが増大します。特に、パスワード変更とアカウントのロックアウトを実施するためのポリシーがない場合に、その傾向が強まります。それによって、これらのアカウントは、Contoso のビジネス プロセスにとって重大なデータを侵害したり破損したりするために使用される可能性があります。

##### UNIX ワークステーションのアカウント

Contoso には Sun Solaris 9 を実行している 40 台のワークステーションがあり、アカウント管理部門の担当者が日常処理を実行するために使用しています。Solaris のワークステーションは、単一のネットワーク情報サービス (NIS) ドメインによって管理されています。

Sun Microsystems は、UNIX システムの管理を集中化するために NIS を開発しました。一般的な NIS の機能は、Windows NT 4.0 ドメインに似ています。NIS は非常に普及しています。なぜなら、UNIX に精通した管理者にとってはセットアップと管理が簡単で、拡張性も高く、ほとんどすべての UNIX でサポートされるからです。しかし残念ながら、NIS には十分なセキュリティ機能がありません。

NIS の最大のセキュリティ問題の 1 つは、パスワードの有効期限やパスワードの複雑さを強制する機能がないことです。さらに、NIS ドメインのすべてのメンバ サーバーがパスワード ファイルのコピーを受け取り、その中にはドメインの各ユーザーの暗号化されたパスワードがあります。

弱い、または古い UNIX パスワードは、ネットワークのセキュリティに対する脅威です。なぜなら、このようなパスワードにより、攻撃者がすばやくユーザー アカウントとパスワードの組み合わせを取得することを可能にするためです。一度侵害されると、ユーザー アカウントを使用して、匿名攻撃に対してしか保護されないシステムに対する攻撃に発展することがあります。パスワード ファイルに対するブルート フォース攻撃およびディレクトリ攻撃に適用されるツールは、インターネットでだれでも入手できます。Contoso の UNIX のユーザー アカウントはパスワード ポリシー施行の対象にならず、NIS パスワード ポリシー ファイルも広く配布されています。

##### SAP 認証

SAP は有名で広く普及した ERP アプリケーション サーバーで、Contoso もそのアプリケーションをいくつか実装しています。このようなアプリケーションの一部は基幹ビジネス機能に従事し、機密データをユーザーに配信します。したがって、このデータは会社の業務にとって重大です。アプリケーションの可用性中断、データの破損、またはデータの損失や露出によって、Contoso は数百万ドルの損害を被ることもあります。

SAP による旧来の認証メカニズムおよびデータ アクセス プロトコルには、アプリケーションにアクセスするために使用される認証の秘密 (パスワード) を保護する機能がありません。SAP のユーザー パスワードは、ユーザーのネットワーク セグメントにネットワーク盗聴装置を設定すればだれでも傍受できます。

##### SAP アプリケーションのデータ保護

既定では、ネットワーク上で送信されるクライアント/サーバー SAP アプリケーションのデータは保護されません。SAP ユーザーのネットワーク セグメントのネットワーク トラフィックを監視できる攻撃者なら、SAP アプリケーション データを盗んだり、SAP システムが管理しているデータの一貫性に重大な影響を与えるような不正確なデータを導入したりして、侵害できます。

ユーザーと SAP アプリケーション サーバーの間で交換されるデータは、会社の業務にとって重大です。この場合も、アプリケーションの可用性中断、データの破損、またはデータの損失や露出があると、Contoso は数百万ドルの損害を被ることもあります。

##### 従業員のアカウント

従業員アカウントの脆弱性には、2 つのリスクが関与します。すなわち、プレーンテキストのパスワードによる認証と、保護されていないサーバーにプレーンテキストのパスワードを保管することです。これらの脆弱性は、内部ネットワークと外部ネットワークの両方に適用されます。

Contoso の営業部門の従業員が外部の販売および担当者アプリケーションに認証されるとき、しばしば自分のエンタープライズ アカウント資格を使用します。これによって、境界領域のネットワークにある Web サーバーの侵害を通じてその資格情報が外部の脅威にさらされたり、そのような情報に関する信頼を得ていないアプリケーション管理者に資格情報が漏洩されることになります。

##### プレーンテキスト パスワードを使用して認証する

Contoso におけるパスワードの使用方法の分析により、Contoso の営業部門の従業員は自分のエンタープライズ アカウント パスワードを使用して、境界領域のネットワークのサーバーにある Web アプリケーションにアクセスしていることがわかりました。販売アプリケーションは、Secure Sockets Layer (SSL) による基本認証を使用してアプリケーションに対するアクセス権を付与しています。SSL はネットワークでユーザーのパスワードを保護するために優れた働きをしますが、Web アプリケーション サーバーではプレーンテキスト パスワードが使用されます。Web アプリケーション サーバーが侵害されると、プレーンテキストのユーザー パスワードへのアクセスが可能になります。

その上、このアプリケーションのパスワードをユーザーのエンタープライズ アカウント パスワードと同じにするかしないかについて、会社として、または部門として公式のポリシーがありません。そのため、別のパスワードを記憶するのが困難で多くの従業員が同じパスワードを使用しています。

有効なアカウントのパスワードによって、攻撃者は、他の方法では不可能なファイルおよびサービスに不正にアクセスできます。ユーザーのエクストラネット アカウント パスワードがエンタープライズ アカウント パスワードと同じ場合、さらに多くの情報が取得されます。

##### セキュリティで保護されていないサーバーにプレーンテキスト パスワードを保管する

販売および連絡先アプリケーションのユーザーを認証するために、販売および連絡先アプリケーションは基本認証を通じて得たプレーンテキスト パスワードと、境界領域のネットワークにある Microsoft SQL Server データベース内のパスワードの値を比較します。有効なアカウントのパスワードによって、攻撃者は、他の方法では不可能なファイルおよびサービスに不正にアクセスできます。

SQL Server を実行しているコンピュータは、IP セキュリティ プロトコル (IPSec) ポリシーと物理的なネットワーク設計によって、インターネット経由の直接アクセスから保護されます。SQL Server に対する外部の攻撃は、対外サービスの Web サーバーを通じた多層的な攻撃になります。しかし、アプリケーション管理者が従業員のパスワードにアクセスできないようにするポリシーやテクノロジがないため、内部からの攻撃のほうがより簡単で、単にアプリケーション管理者がアプリケーションの実行中に必要な情報を読み取る必要があるだけです。

##### パートナーのアカウント

Contoso には、リサーチ パートナーのためのアプリケーションがあり、パスワード ベースの認証を使用しています。そのアプリケーションにはユーザー名とパスワードのローカル ID ストアがあり、それは別のコンピュータにあるデータベースに保存され、このアプリケーションが常駐する Web サーバーとは別になっています。この設計によって、多くの ID 管理上の問題があるだけでなく、セキュリティの脆弱性もあります。

何よりも重要なことは、アカウント データベースにセキュリティ脆弱性があることです。アカウント データベースは、そのアプリケーションを使用するすべてのアカウントに対するパスワードを、単一の場所にプレーンテキストで格納しています。承認されないユーザーがデータベースにアクセスした場合、すべてのアカウントを侵害できます。さらに、認証中に、各 Web サーバーがデータベースに対する認証されないリクエストを作成してユーザーのパスワードを取得し、それをユーザーによって提示された資格情報と比較できます。このプロセスは、プレーンテキスト パスワードが物理的な境界領域のネットワークでも表示でき、それが重大なリスクになることを意味しています。

##### 顧客のアカウント

Contoso には、顧客用のアプリケーションもあり、パスワード ベースの認証を使用しています。この脆弱性に関する考慮事項とリスクは、パートナー アカウントの脆弱性と同じです。

#### セキュリティ対策

組織の脆弱性に対する正しい理解を元に、それに対する対策を選択できます。適切なセキュリティ対策の選択は、対処する脆弱性と悪用される脆弱性の重要度や容易性によって異なります。

それぞれの対策は複数の脆弱性に対処できるため、適切な対策を正しく選択することは特に重要です。さらに、対策を実装することで、当初の脅威の評価に含まれていなかった他の微細な脆弱性に関しても良い影響が得られることがあります。これらの対策は、プラットフォームの選択とその使用方法に関する要件も左右します。

Contoso Pharmaceuticals のアクション計画に対するセキュリティ要件には、次のようなものが使用されます。

-   ユーザー アカウントの自動プロビジョニングおよびプロビジョニング解除

-   Kerberos Version 5 認証プロトコル

-   Generic Security Services Application Programming Interface (GSS - API) と Kerberos プロトコルの統合

-   暗号化されたクライアント証明書認証

-   Active Directory に対するパスワード認証

-   Active Directory に対する Microsoft Passport 認証

それぞれの対策の説明の最後に、それが対処する脆弱性を示しています。

Contoso は、これらの ID およびアクセス管理対策を実装することとは別に、次のような手順を実行しました。

-   ウイルスの脅威に対する高度な防護の実装。サーバーとワークステーションのウイルス スキャナの他にも、ブロック リストや添付ファイルのフィルタなどがあります。

-   不慮のシステム誤用の脅威を削減するように改善された運用手順とトレーニング ポリシー。

-   停電、ハードウェアの故障、およびネットワークの異常などのメカニカルな脅威を削減するような、物理ネットワークおよびサービス設計の改善。

-   火災、洪水、地震などの自然災害に対して適切に定義された不測事態対応計画。

##### プロビジョニングおよびプロビジョニング解除を自動化する

アカウントのプロビジョンおよびプロビジョン解除の自動化は、生産性に大きく寄与するだけでなく、いくつかのセキュリティの抜け穴をふさぐ効果もあります。最も重大な抜け穴は、従業員が退職したときに、そのアカウントを組織が無効にしないということです。

従業員のステータスの信頼できるソースがあり、管理者が集中管理できる既知のアプリケーション ID ストアのセットがある場合は、アカウント プロビジョニングを自動化できます。たとえば、毎日の従業員のステータス表を生成するような人事 (HR) アプリケーションを作成できます。次に ID 統合製品を使用して、その HR アプリケーションの従業員ステータスと、ディレクトリやアプリケーションなどのストア内のデジタル ID 状態を統合できます。

###### 展開に関する考慮事項

ID 統合製品には、一般的に多くのコネクタ、または管理エージェントがあり、それらの通信チャネルで ID 情報の同期が実行されます。さらに、デジタル ID に対する 1 つまたは複数の信頼できるソースが必要です。通常そのソースは単一の (または集合的な) HR システム、契約者データベースなどですが、それぞれの組織に対するシナリオはある程度異なります。

###### Contoso のシナリオ

Contoso は、HR アプリケーションを ID ステータスの情報の信頼できるソースとして特定しました。会社は ID 統合およびプロビジョニング製品を展開して、Active Directory、Lotus Notes Release 5、Sun ONE Directory Server 5.1 など、異なるストアの ID データを管理することにしました。

HR アプリケーションによって新規従業員をプロビジョニングする必要性が示されると、システムによって他のシステム内の一致アカウントが追加されたり有効化されたりします。HR アプリケーションによってある従業員のステータスが終了と報告されると、システムによって他のシステムの一致アカウントが除去されたり無効化されたりします。

###### 対処されるセキュリティ問題

ID 統合製品の実装によって、アカウントのプロビジョニングおよびプロビジョニング解除に関するセキュリティ問題が対処されます。

このシリーズの「ID の集約と同期」文書では、Microsoft Identity Integration Server 2003 Enterprise Edition (MIIS 2003) という、従業員アカウントのプロビジョニングとプロビジョニング解除を自動化できる ID 統合製品の実装方法が示されます。

##### Kerberos Version 5 認証プロトコルを使用する

Kerberos Version 5 認証プロトコルは Microsoft Windows 2000 でマイクロソフト プラットフォームに導入されましたが、ネットワーク認証プロトコルに求められる多くのセキュリティ機能を備えています。Kerberos Version 5 プロトコルは非常に安全で、最新の暗号化テクノロジとプロトコル設計を活用しています。Kerberos プロトコルはパフォーマンスでも優れています。この設計では、集中認証機構である Kerberos プロトコルのキー配布センター (KDC) が活用されており、また比較的長期間有効のチケットを使用することで KDC の作業を軽減しているためです。

###### 展開に関する考慮事項

Contoso のシナリオでは、KDC は Windows Server 2003 の Directory サービスと Security サービスを実行している各ドメイン コントローラにあります。一度構成されると、Kerberos の相互運用性によって Windows ベースのオペレーティング システムやおそらくは UNIX クライアントでも、シングル サイン オン (SSO) 操作の付加価値を得られます。

###### Contoso のシナリオ

Contoso の管理者は UNIX ワークステーションを構成して、Active Directory ドメイン コントローラの認証に Kerberos Version 5 プロトコルを使用する計画を立てています。また、SAP R/3 を構成して、Kerberos Version 5 プロトコルと組み合わせて Secure Network Communications (SNC) 認証を要求するようにします。

###### 対処されるセキュリティ問題

Kerberos Version 5 認証プロトコルを実装すると、次の領域のセキュリティ問題の対処に役立ちます。

-   UNIX ワークステーションのアカウント

-   SAP 認証

-   SAP アプリケーションのデータ保護

このシリーズの「イントラネット アクセス管理」文書では、Kerberos Version 5 プロトコルの実装方法が説明され、その中で SAP R/3 に対する SNC 認証の構成方法、および Kerberos および Active Directory を使用して認証するための UNIX ワークステーションの構成方法も説明されています。

##### SAP と統合された GSS-API および Kerberos を使用する

SAP R/3 バージョン 4.0 では、SNC をサポートしています。SNC の 1 つのモードによって GSS-API との統合が可能になり、そして GSS-API を通じて Kerberos Version 5 プロトコルを使用できるようになります。

IETF RFC-2078 で説明されているとおり、SNC の 1 つのモードによって GSS-API との統合が可能になります。データの信頼性と整合性を保証する機能をサポートするセキュリティ プロトコルと共に使用した場合、GSS-API はこれらの機能をサポートします。Kerberos Version 5 は、こうしたプロトコルです。SAP アプリケーション サーバーと SAP グラフィカル ユーザー インターフェイス (GUI) クライアントを構成して SAP SNC と Kerberos Version 5 プロトコル の両方を使用するようにすると、SAP アプリケーション データを傍受から完全に保護できます。

###### 展開に関する考慮事項

SAP R/3 は KDC を実装していませんが、代わりに、既にネットワーク環境にインストールされている KDC を使用します。Contoso のシナリオでは、KDC は Active Directory を伴う Windows 2000 Server または Windows Server 2003 を実行している各ドメイン コントローラにあります。SAP を構成して Kerberos Version 5 認証プロトコルを使用するようにする必要があります。しかし、一度このように構成すると、Kerberos の相互運用性によって Windows ベースや UNIX ベースのクライアント オペレーティング システムで SSO に対応する基盤を提供するという付加価値が得られます。

###### Contoso のシナリオ

Contoso のシナリオでは、管理者が SNC 認証を使用するように SAP R/3 を構成し、Windows ベースのクライアント ワークステーションに対する Kerberos Version 5 プロトコルと共に GSS - API を実装して、エンドツーエンドのアプリケーション データ セキュリティを実現します。

###### 対処されるセキュリティ問題

GSS-API と Kerberos Version 5 プロトコルを実装すると、次の領域のセキュリティ問題の対処に役立ちます。

-   SAP 認証

-   SAP アプリケーションのデータ保護

このシリーズの「イントラネット アクセス管理」文書では、SAP R/3 クライアントを構成して GSS-API と Kerberos プロトコルを統合した SNC の使用方法が説明されています。

##### 暗号化されたクライアント証明書認証を使用する

Transport Layer Security (TLS) は、Netscape Communications によって開発された Secure Sockets Layer (SSL) の Internet Engineering Task Force (IETF) 標準バージョンで、IETF RFC - 2246 で説明されています。TLS には、デジタル証明書を使用して公開キー ベースのクライアント認証を実行する機能があります。これは、非常に強力な機能です。なぜなら、一度公開キー基盤 (PKI) の信頼を構成すると、比較的弱いパスワード認証の代わりに X.509 デジタル証明書と対応する秘密キーを使用できるようになるからです。

このソリューションを有効にするには、境界領域のネットワーク コンピュータにある外部の Active Directory のユーザーを表すシャドウ アカウントを作成します。このアカウントは認証にアカウントのパスワードを使用しないため、24 文字暗号化で生成されたランダム値によるパスワードなど、非常に強力なパスワードを設定できます。

###### 展開に関する考慮事項

外部アカウントは有効な X.509 証明書を使用しないとアクセスできないため、従業員が X.509 デジタル証明書と対応する秘密キーにアクセスできない限り重要なビジネス アプリケーションにアクセスできないようにすることができます。その場合、組織はエクストラネット アプリケーションに対する一時アクセス権を付与する方法として、そのアカウントのパスワードをリセットして従業員にパスワードを教えるか、エクストラネットを通して新しい証明書を発行するメカニズムを作成するか、内部ネットワークに対して仮想プライベート ネットワーク (VPN) を接続するかということを考慮する必要があります。

クライアント証明書によってパスワードの必要性は削減されますが、ワークステーション セキュリティ ポリシーによってパスワードを保護する必要はあります。

###### Contoso のシナリオ

Contoso の設計者は、販売および連絡先アプリケーションを構成して、TLS とクライアント証明書認証を要求するようにしました。これには、証明機関 (CA) をセットアップし、証明書を営業部門のスタッフに割り当てることが含まれます。

###### 対処されるセキュリティ問題

暗号化されたクライアント証明書認証を実装すると、次の領域のセキュリティ問題の対処に役立ちます。

-   プレーンテキスト パスワードを使用した認証

-   保護されていないサーバーに対するプレーンテキスト パスワードの保管

このシリーズの「エクストラネット アクセス管理」文書では、暗号化されたクライアント証明書認証の構成方法が説明されています。

##### Active Directory に対するパスワード認証

Active Directory は、アカウントのパスワードなどの高度の機密情報を安全に格納するように設計されています。パスワードは、ほとんどの場合、実際には本来のパスワードに対して設定されたような方法では保存されません。Active Directory はパスワードの暗号化ハッシュ (一方向性暗号化) を使用します。これは、Windows Server 2003 が提供する、プロトコルを使用した認証を十分に提供できるものです。暗号ハッシュ自体は暗号化キーで保護され、そのキーにはオペレーティング システム自体しかアクセスできません。したがって、高度の機密パスワードの侵害が防止されます。

Active Directory には、さらにセキュリティ保護されたパスワード ベースの認証を実行するメカニズムがあります。言い換えると、プレーンテキスト パスワード情報をネットワークを使用してアプリケーションから ID ストアに送信する必要がありません。セキュリティ保護された認証メカニズムの例は、セキュリティ保護されたバインドの Lightweight Directory Access Protocol over SSL/TLS (LDAPS) です。

###### 展開に関する考慮事項

認証のために別のアカウント ストアを使用すると、通常はアプリケーション内でコードを変更する必要があります。認証にデータベース テーブルを使用するアプリケーションは、Active Directory を使用するように更新する必要があります。

###### Contoso のシナリオ

Contoso はパートナー用のパートナー リサーチ アプリケーションを更新して、パートナー アカウントの ID ストアとして Active Directory を使用し、アクセス管理のメカニズムを使用するように変更しました。

###### 対処されるセキュリティ問題

Active Directory に対するパスワード認証を実装すると、次の領域のセキュリティ問題の対処に役立ちます。

-   プレーンテキスト パスワードを使用した認証

-   保護されていないサーバーに対するプレーンテキスト パスワードの保管

このシリーズの「ID 認識 ASP.NET アプリケーションを開発する」文書では、アプリケーションが Active Directory を使用して認証と承認を実行する方法が説明されています。

##### Active Directory に対する Microsoft Passport 認証

個別のユーザビリティを検討することで、Contoso の設計者には、顧客が異なる Web サイトに対するユーザー名とパスワードの管理という点で課題に直面していることが示されました。研究によって、Microsoft Passport のような ID ブローカーは、Contoso Web サイトにアクセスした顧客を、追加の ID 情報を管理する必要なく認証できることが示されました。

このアプローチは、顧客アカウントのパスワードを完全に削減できるため、Contoso の顧客治験フィードバック アプリケーションのセキュリティ要件も満たします。Passport の資格情報の妥当性をチェックし、Passport Unique ID (PUID) と外部 Active Directory のアカウントをマッピングすることで、ユーザーを Contoso サイトに対して認証します。

###### 展開に関する考慮事項

認証のために Microsoft Passport のようなサービスを使用すると、通常はアプリケーション内でコードを変更する必要があります。さらに、特定の承認をサポートするには、拡張性および管理性のあるメカニズムを使用して、Active Directory 内の Passport でマップされた大量のアカウントを自動的な方法でプロビジョニングする必要があります。

###### Contoso のシナリオ

Contoso は顧客用のアプリケーションを再作成して、Microsoft Passport と Active Directory を認証メカニズムと顧客アカウントの ID ストアとして使用するようにしました。

###### 対処されるセキュリティ問題

Active Directory に対する Microsoft Passport 認証を実装すると、次のような問題に対処できます。

-   プレーンテキスト パスワードを使用した認証

-   保護されていないサーバーに対するプレーンテキスト パスワードの保管

このシリーズの「エクストラネット アクセス管理」文書では、Active Directory に対する Microsoft Passport 認証の構成方法が説明されています。

[](#mainsection)[ページのトップへ](#mainsection)

### プラットフォーム要件

Contoso のビジネスおよびセキュリティの要件分析の結果、ID およびアクセス管理プラットフォームが会社のために満たす必要がある要件が明らかになりました。プラットフォームが対応する必要がある重要な領域については、この後に説明します。

#### アクセス管理

選択したプラットフォームのアクセス管理サービスは、次の要件を満たすような認証、承認、および信頼のサービスを実現する必要があります。

-   クライアント/サーバー アプリケーションのクライアントとサーバーの両方のオペレーティング システム、およびファイル サービスと印刷サービスは、相互運用によってシームレスな認証と SSO ユーザー操作の実現を実行する必要がある。

-   グローバルな承認権限は、グローバル ID 情報から派生する必要がある。その ID 情報が特定の範囲内 (イントラネット内や境界領域のネットワーク内など) でグローバルな場合でも同様です。

-   インフラストラクチャは、堅牢で管理可能な承認メカニズムを実装する必要がある。

-   プラットフォームは、組織内と外部に対して、信頼に関する柔軟なメカニズムを提供する必要がある。そのような信頼は、公開キー基盤 (PKI) 構成によって明示的な信頼になることも、オペレーティング システムのメカニズムによって暗黙的な信頼になることもあります。

-   インフラストラクチャは、管理可能でセキュリティ保護された信頼構成メカニズムを実装して、将来獲得する複数の ID ストアを統合できるようにする必要があります。

#### ディレクトリ サービスおよびセキュリティ サービス

選択したプラットフォームのディレクトリ サービスとセキュリティ サービスは、次の項目をサポートする必要があります。

-   セキュリティ保護された標準ベースの認証メカニズムと相互運用可能な、セキュリティ保護された ID 資格情報のストレージ。

-   特定のアプリケーションおよびサービスと相互運用するための LDAP。

-   ユーザー資格情報の強力な暗号化、およびサービスの外部に (たとえ暗号化されていても) 資格情報を配信しないサービス。

-   Kerberos Version 5 プロトコル、バイオメトリクス、SSL、TLS など、多様な認証プロトコルの要件を満たすさまざまなタイプの資格情報。

-   2 要素の認証メカニズム。PKI やスマート カードなど (将来の展開のため)。

-   既知の一連のアプリケーションに対応するクライアント/サーバー オペレーティング システムとセキュリティ プロトコルのシームレスな相互運用。

#### ID ライフサイクル管理

選択したプラットフォームの ID ライフサイクル管理サービスは、次の要件を満たす必要があります。

-   ID およびアクセス管理インフラストラクチャは、会社の ID ストア管理に標準ベースのプロトコルの共通セットを使用する必要があります。

-   中央イントラネット ID ストアとして、単一のディレクトリが対応する必要があります。ハードウェアやネットワークの障害に備えて、冗長化サービスを提供する必要があります。

-   境界領域のネットワークの中で孤立しているエクストラネット ディレクトリは、顧客とパートナーのユーザー アカウントを保管します。

#### アプリケーション プラットフォーム

選択したプラットフォームは、Contoso のために次のアプリケーション要件をサポートする必要があります。

-   既存のアプリケーションと計画中のアプリケーションは、デジタル ID インフラストラクチャを使用する必要があります。これには、共通の、標準ベースのプロトコルによってアクセスできる必要があります。

-   アプリケーション サーバーには、強力な認証プロトコル (Kerberos Version 5 プロトコルなど) のサポートと、SSL および TLS を使用したクライアント証明書認証のサポートが組み込まれる必要があります。

-   アプリケーション サーバーは、従来のアクセス制御リスト (ACL) 承認とロール ベースのアクセス制御を実装できる必要があります。

#### セキュリティ監査

選択したプラットフォームは、Contoso のセキュリティ監査要件をサポートする必要があります。

-   プラットフォームは、すべての認証、信頼、承認、および構成の各操作に関して、詳細な監査機能を持つ必要があります。

-   プラットフォームは、サーバーとアプリケーションのインフラストラクチャのすべての側面に対する、管理可能な、専用の監査サービスを持つ必要があります。

[](#mainsection)[ページのトップへ](#mainsection)

##### 目次

-   [第 1 章: 「プラットフォームおよびインフラストラクチャ」の紹介](http://www.microsoft.com/japan/technet/security/guidance/identitymanagement/idmanage/p1plat_0.mspx)
-   [第 2 章: プラットフォーム選択のアプローチ](http://www.microsoft.com/japan/technet/security/guidance/identitymanagement/idmanage/p1plat_1.mspx)
-   第 3 章: 問題点と要件
-   [第 4 章: インフラストラクチャを設計する](http://www.microsoft.com/japan/technet/security/guidance/identitymanagement/idmanage/p1plat_3.mspx)
-   [第 5 章: インフラストラクチャを実装する](http://www.microsoft.com/japan/technet/security/guidance/identitymanagement/idmanage/p1plat_4.mspx)
-   [第 6 章: インフラストラクチャを運用する](http://www.microsoft.com/japan/technet/security/guidance/identitymanagement/idmanage/p1plat_5.mspx)
-   [謝辞](http://www.microsoft.com/japan/technet/security/guidance/identitymanagement/idmanage/p1plat_6.mspx)

[](#mainsection)[ページのトップへ](#mainsection)
