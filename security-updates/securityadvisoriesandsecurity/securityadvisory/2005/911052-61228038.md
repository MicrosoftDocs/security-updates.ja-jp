---
TOCTitle: 911052
Title: マイクロソフト セキュリティ アドバイザリ 911052
ms:assetid: 911052
ms:contentKeyID: 61228038
ms:mtpsurl: 'https://technet.microsoft.com/ja-JP/library/911052(v=Security.10)'
---

Security Advisory

マイクロソフト セキュリティ アドバイザリ 911052
===============================================

RPC によるメモリの割り当てのサービス拒否
----------------------------------------

公開日: 2005年11月17日

 
<table style="border:1px solid black;">
<caption>要訳</caption>
<tbody>
<tr class="odd">
<td style="border:1px solid black;"><strong>お知らせ内容</strong></td>
<td style="border:1px solid black;">検証用コードの公開</td>
</tr>
<tr class="even">
<td style="border:1px solid black;"><strong>セキュリティ更新プログラム</strong></td>
<td style="border:1px solid black;">検討中</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;"><strong>被害報告</strong></td>
<td style="border:1px solid black;">なし</td>
</tr>
<tr class="even">
<td style="border:1px solid black;"><strong>回避策</strong></td>
<td style="border:1px solid black;">あり</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;"><strong>対応方法</strong></td>
<td style="border:1px solid black;">セキュリティ更新プログラムの提供を含め、対応方法を検討中です。<br />
<a href="https://profile.microsoft.com/regsysprofilecenter/subscriptionwizard.aspx?wizid=cbdde499-aa75-4a75-9cb3-f48eac2e7c3f&amp;lcid=1041">本アドバイザリの更新時にメールで通知を受け取る。</a></td>
</tr>
</tbody>
</table>
 

※ 上記の情報は、公開日または最終更新日の情報を基に作成しています。

マイクロソフトは Microsoft Windows 2000 Service Pack 4 および Microsoft Windows XP Service Pack 1 に存在する潜在的な脆弱性を悪用しようとする検証用コードに関する報告が公開されたことを認識しています。この脆弱性により、攻撃者は限られた期間でのサービス拒否攻撃を行なう可能性があります。

Windows 2000 Service Pack 4 で、攻撃者はこの脆弱性を匿名で悪用する可能性があります。Windows XP Service Pack 1 で、この脆弱性が悪用されるには、有効なログオン資格情報を所有することが攻撃者にとっての必要条件となります。匿名ユーザーにより、リモートでこの脆弱性が悪用されることはないと思われます。しかし、影響を受けるコンポーネントはリモートで、標準のユーザー アカウントを持つユーザーに利用可能です。 Windows XP Service Pack 2 をインストールしているお客様はこの脆弱性による影響を受けません。さらに、Windows Server 2003 および Windows Server 2003 Service Pack 1 を実行しているお客様はこの脆弱性により影響を受けません。

マイクロソフトは現在この脆弱性を悪用する攻撃が行なわれていること、または現時点でのお客様への影響は認識していません。しかし、マイクロソフトはこの状況を積極的に監視し、お客様に情報を提供し続け、また必要であればお客様のためのガイダンスを提供します。

マイクロソフトは Windows 2000 Service Pack 4 および Windows XP Service Pack 1 に存在する脆弱性についてのこの新しい報告が責任ある態度で公開されなかったこと、またそれにより、コンピュータ ユーザーを危険にさらす可能性があることを懸念しています。 マイクロソフトは引き続き、脆弱性を責任ある態度で公開することを推奨します。 マイクロソフトは、ベンダに直接脆弱性を報告するという一般的に受け入れられた慣習がすべての人たちにとって最善であると確信しています。 この慣習は、更新プログラムの開発中に悪質な攻撃にさらされることなく、お客様が脆弱性に対する包括的で高品質な更新プログラムを確実に受け取る手助けとなります。

この脆弱性は、セキュリティ情報 MS05-047 により解決された脆弱性の調査中にセキュリティ リサーチャーにより確認されましたが、これは完全に別の脆弱性で、MS05-047 で説明されている脆弱性との関連はありません。マイクロソフトは引き続きお客様に MS05-047 で提供された更新プログラムおよびマイクロソフトによりリリースされたすべての最新のセキュリティ更新プログラムを適用することを推奨します。

マイクロソフトは引き続き、ファイアウォールを有効にする、ソフトウェアの更新プログラムを入手する、およびウイルス対策ソフトウェアをインストールするなどのマイクロソフトの Protect Your PC のガイダンスに従うことを、お客様に推奨します。これらのステップについては、[Protect Your PC Web サイト](http://www.microsoft.com/japan/protect)をご覧ください。

問題を緩和する要素:

-   Windows XP Service Pack 1 で、この脆弱性が悪用されるには、有効なログオン資格情報を所有することが攻撃者にとっての必要条件となります。匿名ユーザーにより、リモートでこの脆弱性が悪用されることはないと思われます。しかし、影響を受けるコンポーネントはリモートで、標準のユーザー アカウントを持つユーザーに利用可能です。特定の構成では、匿名のユーザーがゲスト アカウントとして認証を行なう可能性があります。 詳細情報については[マイクロソフト セキュリティ アドバイザリ 906574](http://technet.microsoft.com/security/advisory/906574) をご覧ください。
-   Windows XP Service Pack 2、Windows Server 2003 および Windows Server 2003 Service Pack 1 を実行しているお客様はこの脆弱性の影響を受けません。
-   ファイアウォールによる最善策および標準のファイアウォールの既定の構成により、ネットワーク境界の外部から行われる攻撃からネットワークを保護することができます。インターネットに接続したコンピュータでは、最低限の数のポートを開くようにすることが最善策として推奨されます。

### 詳細

概要
----

<span></span>
**アドバイザリの目的:** お客様に一般に公開された問題についてお知らせし、この問題の範囲および影響を明確にし、規範的なガイダンスを提供するものです。

**アドバイザリの状況:** 調査中

**推奨する対応策:**必要に応じて、推奨するアクションを検討し、構成して下さい。

| 参照情報                           | 番号                                                                             |
|------------------------------------|----------------------------------------------------------------------------------|
| **CVE** **リファレンス**           | [CAN-2005-3644](http://www.cve.mitre.org/cgi-bin/cvename.cgi?name=can-2005-3644) |
| **マイクロソフトサポート技術情報** | [911052](http://support.microsoft.com/kb/911052)                                 |

このアドバイザリは次のソフトウェアについて説明しています。

|                                       |
|---------------------------------------|
| 関連するソフトウェア                  |
| Microsoft Windows 2000 Service Pack 4 |
| Microsoft Windows XP Service Pack 1   |

よく寄せられる質問
------------------

<span></span>
**このアドバイザリの目的は何ですか?**
マイクロソフトは Microsoft Windows に存在する新たなメモリの割り当てのサービス拒否を認識しています。 これは「概要」の欄に記載されているソフトウェアに影響を及ぼします。

**リモートプロシージャコール** **(RPC)** **とは何ですか?**
リモート プロシージャ コール (RPC) とは、Windows オペレーティング システムにより使用されているプロトコルです。 RPC とは内部プロセスの通信メカニズムで、これにより、あるコンピュータで実行されているプログラムが別のコンピュータ上のサービスにシームレスにアクセスすることができます。 このプロトコル自体は、Open Software Foundation (OSF) RPC プロトコルから派生していますが、いくつかのマイクロソフト固有の拡張が追加されています。

**これは、マイクロソフトがセキュリティ更新プログラムをリリースする必要のあるセキュリティ上の脆弱性ですか?**
現時点では、この問題は依然として調査中です。 調査の終了後、この問題に対するセキュリティ更新プログラムがリリースされる場合もあります。

**何が原因で起こりますか?**
攻撃者は特別な細工をした悪質なパケットを影響を受けるコンピュータに送信し、これにより限られた期間でサービス拒否の状態が発生する可能性があります。

**この機能を悪用することにより攻撃者は何を行う可能性がありますか?**
攻撃者は特別な細工をした悪質なパケットを影響を受けるコンピュータに送信し、これにより限られた期間でサービス拒否の状態が発生する可能性があります。

推奨するアクション
------------------

<span></span>
#### 回避策

マイクロソフトは次の回避策のテストを行ないました。これらの回避策は根本的な脆弱性を修正しませんが、既知の攻撃方法を阻止する手助けとなります。回避策が機能の低下の原因となる場合、下記に示します。

-   **匿名のネットワークベースの接続がこの脆弱性を悪用しようとすることに対する保護を行なうためには、RestrictAnonymous** **レジストリ設定をさらに制限のある設定に構成します。**

    既定で Windows 2000 では、RestrictAnonymous エントリは、値は 0 に設定されています。これは匿名ユーザーを制限しません。 レジストリ エントリを値 2 に設定することにより、匿名ユーザーは明示的な匿名アクセス許可なしでは何のアクセスも持たなくなります。 Windows 2000 でのレジストリ エントリの使用方法に関する詳細情報については、サポート技術情報 [246261](http://support.microsoft.com/kb/246261) をご覧ください。

    **回避策の影響:** RestrictAnonymous レジストリ値が 2 に設定されている場合、認証されていないユーザー用に作成されたアクセス トークンは Everyone グループを含みません。このため、アクセス トークンは Everyone グループにアクセス許可を付与しないリソースへのアクセスを持たなくなります。 これにより、望ましくない動作が起こる可能性があります。この理由は、多くの Windows 2000 サービスは、サードパーティのプログラムと同様、正当なタスクを実行するために匿名アクセス機能に依存するためです。

-   **ファイアウォールにより、以下のポートをブロックする**

    -   **UDP** **ポート** **135、137、138** **および** **445、TCP** **ポート** **135、139、445** **および** **593**
    -   **ポート番号が** **1024** **より大きいポートの受信者側が送信を要求していないすべての受信トラフィック**
    -   **そのほかの特定の** **RPC** **ポートの構成**
    -   **COM** **インターネットサービス** **(CIS)** **または** **RPC over HTTP** **がインストールされている場合、それがポート** **80** **および** **443** **をリッスンする**

    これらのポートは、RPC との接続を開始するために使用されます。 ファイアウォールで、受信と送信の両方とも、これらのポートをブロックすると、ファイアウォールの背後のコンピュータを、この脆弱性を悪用した攻撃から保護することができます。 また、リモート コンピュータで、特別に構成されている別の RPC ポートがブロックされていることを確認してください。 そのほかのポートを悪用する可能性のある攻撃を防ぐため、すべてのインターネットからの受信者側が送信を要求していない受信通信をブロックすることを推奨します。 RPC が使用するポートに関する詳細は、次の [Web サイト](http://go.microsoft.com/fwlink/?linkid=21312)をご覧ください。「CISを無効にする方法」の詳細情報については、サポート技術情報 [825819](http://support.microsoft.com/kb/825819) をご覧ください。

-   **ネットワークベースでのこの脆弱性の悪用に対する保護の手助けを行うために、**[**インターネット接続ファイアウォール**](http://www.microsoft.com/japan/athome/security/protect/windowsxp/default.mspx)**などの個人用ファイアウォールを使用します。これは、Windows XP Service Pack 1** **に含まれています。**

    **既定で、**Windows XP Service Pack 1 のインターネット接続ファイアウォール機能は、受信側が送信を要求していない受信トラフィックをブロックすることにより、インターネット接続を保護する手助けとなります。 受信者側が要求していないすべてのインターネットからの受信通信をブロックすることを推奨します。

    接続についてインターネット接続ファイアウォールを手動で構成するには、以下の手順に従ってください。

    1.  **\[スタート\]** をクリックして **\[コントロールパネル\]** をクリックします。
    2.  **\[コントールパネル\]** で、**\[ネットワークとインターネット接続\]** をクリックして、**\[ネットワーク接続\]** をクリックします。
    3.  インターネット接続ファイアウォールを有効にする接続上で右クリックし、**\[プロパティ\]** を選択します。
    4.  **\[詳細設定\]** タブをクリックします。
    5.  **\[インターネットからのこのコンピュータへのアクセスを制限したり防いだりして、コンピュータとネットワークを保護する\]** チェックボックスを選択し、次に **\[OK\]** ボタンをクリックします。

    **注:** 特定のプログラムおよびサービスがファイアウォールを通過して通信することを有効にする必要がある場合、**\[詳細設定\]** タブの **\[設定\]** をクリックし、次に必要なプログラム、プロトコル、サービスを選択します。

-   **ネットワークベースでこの脆弱性が悪用されることを防ぐために、この機能をサポートしているコンピュータ上で、高度な** **TCP/IP** **フィルタリングを有効にする**

    高度な TCP/IP フィルタリングを有効にし、受信者側が送信を要求していないすべての受信トラフィックをブロックすることができます。 TCP/IP フィルタリングの構成方法に関する詳細は、マイクロソフト サポート技術情報 [309798](http://support.microsoft.com/kb/309798) をご覧ください。

-   **ネットワークベースでこの脆弱性が悪用されることを防ぐために、影響を受けるコンピュータで** **IPSec** **を使用することにより、影響を受けるポートをブロックする**

    Internet Protocol Security (IPSec) を使用し、ネットワーク通信を保護します。 IPSec およびフィルタの適用方法に関する詳細は、[マイクロソフト サポート技術情報 313190](http://support.microsoft.com/kb/313190) および [マイクロソフト サポート技術情報 813878](http://support.microsoft.com/kb/813878) をご覧ください。

-   米国およびカナダに在住のお客様で、この脆弱性である可能性のあるものによる影響を受けている可能性があると思われる場合、1-866-PCSAFETY でマイクロソフト プロダクト サポート サービスから技術的なサポートを受けることができます。 マイクロソフトでは、お問い合わせの内容が弊社製品の不具合が原因である場合、無償またはインシデントの未消費にてサポートをご提供いたします。 そのほかの国々のお客様は、[ホーム ユーザー向けセキュリティ ヘルプおよびサポート Web サイト](http://support.microsoft.com/security) に記載されている方法を使用してサポートを受けることができます。.
    すべてのお客様は、マイクロソフトからリリースされる最新のセキュリティ更新プログラムを適用し、このコードが悪用される攻撃からコンピュータを保護する必要があります。 自動更新を有効にしているお客様は自動的にすべての Windows の更新プログラムが提供されます。 セキュリティ更新プログラムについての詳細情報は、次の[マイクロソフト セキュリティ Web サイト](http://www.microsoft.com/japan/security)をご覧下さい。
-   **あなたの PC を守るために**

    マイクロソフトは引き続きお客様に、ファイアウォールを有効にする、ソフトウェアの更新を入手する、ウイルス対策ソフトウェアをインストールするなどのマイクロソフトの Protect Your PC ガイダンスに従うことを推奨します。 これらのステップについては、[Protect Your PC Web サイト](http://www.microsoft.com/japan/protect)をご覧ください。

-   インターネットにおける安全性に関する詳細情報は、[マイクロソフトのセキュリティ ホーム ページ](http://www.microsoft.com/japan/security)をご覧下さい。
-   **コンピュータを最新の状態に保つ**

    すべての Windows ユーザーは、最新のマイクロソフトのセキュリティ更新プログラムを適用してください。これは、ユーザーのコンピュータが可能な限り保護されることを手助けするものです。 ご使用のソフトウェアが最新のものかどうか定かでない場合、[Microsoft Update Web サイト](http://update.microsoft.com/microsoftupdate) で、利用可能な更新プログラムがあるかどうかに関してコンピュータをスキャンし、提供されている優先度の高い更新プログラムをインストールして下さい。 自動更新を有効にした場合は、更新プログラムがリリースされると配信されますが、インストールしたことを確認しなければなりません。

### その他の情報

**リソース:**

-   US マイクロソフト セキュリティ アドバイザリ (911052)
    [http://www.microsoft.com/technet/security/advisory/911052.mspx](http://technet.microsoft.com/security/advisory/911052)
-   テクニカル サポートならびに利用可能なサポート オプションに関する詳細は[マイクロソフト サポート オンライン](http://support.microsoft.com/default.aspx?ln=ja)をご覧ください。
-   セキュリティ関連、およびセキュリティ更新プログラムに関するご質問や、ご不明な点などありましたら、[マイクロソフト サポート オンライン](http://support.microsoft.com/default.aspx?ln=ja) までご連絡ください。 利用可能なサポート オプションに関する詳細は マイクロソフト サポート オンライン をご覧ください。
-   その他、製品に関するご質問は、[マイクロソフト プロダクト サポートへの連絡方法はこちらをご覧ください。](http://support.microsoft.com/select/?target=assistance)
-   [Microsoft TechNet セキュリティ センター](http://technet.microsoft.com/ja-jp/security/default.aspx)では、製品に関するセキュリティ情報を提供しています。

**免責:**

この文書に含まれている情報は、いかなる保証もない現状ベースで提供されるものです。Microsoft Corporation及びその関連会社は、市場性および特定の目的への適合性を含めて、明示的にも黙示的にも、一切の保証をいたしません。さらに、Microsoft Corporation及びその関連会社は、本文書に含まれている情報の使用及び使用結果につき、正確性、真実性等、いかなる表明・保証も行ないません。Microsoft Corporation、その関連会社及びこれらの権限ある代理人による口頭または書面による一切の情報提供またはアドバイスは、保証を意味するものではなく、かつ上記免責条項の範囲を狭めるものではありません。Microsoft Corporation、その関連会社 及びこれらの者の供給者は、直接的、間接的、偶発的、結果的損害、逸失利益、懲罰的損害、または特別損害を含む全ての損害に対して、状況のいかんを問わず一切責任を負いません。（Microsoft Corporation、その関連会社 またはこれらの者の供給者がかかる損害の発生可能性を了知している場合を含みます。) 結果的損害または偶発的損害に対する責任の免除または制限を認めていない地域においては、上記制限が適用されない場合があります。

**更新履歴:**

-   2005/11/17: このアドバイザリを公開しました。
-   2005/11/22: このアドバイザリを更新し、CVE リファレンスに関する情報を追加しました。また、この問題が Windows 2000 Service Pack 4 で匿名で悪用される可能性があることを説明しました。

*Built at 2014-04-18T13:49:36Z-07:00*
