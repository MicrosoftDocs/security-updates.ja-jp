---
TOCTitle: 2661254
Title: マイクロソフト セキュリティ アドバイザリ 2661254
ms:assetid: 2661254
ms:contentKeyID: 61227992
ms:mtpsurl: 'https://technet.microsoft.com/ja-JP/library/2661254(v=Security.10)'
---

Security Advisory

マイクロソフト セキュリティ アドバイザリ 2661254
================================================

証明書の鍵長の最小値に関する更新プログラム
------------------------------------------

公開日: 2012年8月14日 | 最終更新日: 2012年10月10日

**バージョン:** 2.0

### 概説

#### 概要

マイクロソフトは、長さ 1024 ビット未満の RSA キーを使用した証明書の使用を制限する、Windows 用の更新プログラムが利用可能になったことをお知らせします。これらの証明書で使用される秘密キーは解読される可能性があり、攻撃者が証明書を複製し、コンテンツのなりすまし、フィッシング攻撃の実行、または中間者攻撃に悪用する可能性があります。

注: この更新プログラムは、暗号化の目的で RSA キーを使用し、[CertGetCertificateChain](http://msdn.microsoft.com/ja-jp/library/windows/desktop/aa376078.aspx) 関数を呼び出すアプリケーションとサービスに影響します。そのようなアプリケーションおよびサービスは、長さ 1024 ビット未満の RSA キーを使用する証明書を信頼しなくなります。影響を受けるアプリケーションやサービスの例としては、暗号化された電子メール、SSL/TLS 暗号化チャネル、署名されたアプリケーション、プライベート PKI 環境などがあります。RSA 以外の暗号化アルゴリズムを使用する証明書は、この更新プログラムの影響を受けません。この更新プログラムの影響を受けるアプリケーションとサービスの詳細については、[サポート技術情報 2661254](http://support.microsoft.com/kb/2661254/ja) を参照してください。

この更新プログラムは、すべてのサポートされている Microsoft Windows のリリース用に[ダウンロードセンター](http://www.microsoft.com/ja-jp/download/default.aspx)および [Microsoft Update カタログ](http://go.microsoft.com/fwlink/?linkid=96155)で入手できます。また、2012 年 10 月 10 日の時点で、この更新プログラムは自動更新および [Microsoft Update](http://go.microsoft.com/fwlink/?linkid=40747) サービスを通じて提供されます。

推奨する対応策: マイクロソフトはお客様が、できるだけ早い機会にこの更新プログラムを適用することを推奨します。詳細情報は、このセキュリティ アドバイザリの「推奨するアクション」の欄を参照してください。

既知の問題:  [サポート技術情報 2661254](http://support.microsoft.com/kb/2661254/ja) で、このセキュリティ更新プログラムをインストールする際に起こる可能性のある既知の問題に関して説明しています。また、これらの問題に対する推奨される解決策についても説明しています。

### アドバイザリの詳細

#### 問題に関するリファレンス

この問題に関する詳細情報については、次のリファレンスを参照してください。

| 参照情報                        | 番号                                                  |
|---------------------------------|-------------------------------------------------------|
| マイクロソフト サポート技術情報 | [2661254](http://support.microsoft.com/kb/2661254/ja) |

#### 影響を受けるソフトウェアおよびデバイス

このアドバイザリは次のソフトウェアについて説明しています。

| オペレーティング システム                                                                                                                  |
|--------------------------------------------------------------------------------------------------------------------------------------------|
| Windows XP Service Pack 3                                                                                                                  |
| Windows XP Professional x64 Edition Service Pack 2                                                                                         |
| Windows Server 2003 Service Pack 2                                                                                                         |
| Windows Server 2003 x64 Edition Service Pack 2                                                                                             |
| Windows Server 2003 with SP2 for Itanium-based Systems                                                                                     |
| Windows Vista Service Pack 2                                                                                                               |
| Windows Vista x64 Edition Service Pack 2                                                                                                   |
| Windows Server 2008 for 32-bit Systems Service Pack 2                                                                                      |
| Windows Server 2008 for x64-based Systems Service Pack 2                                                                                   |
| Windows Server 2008 for Itanium-based Systems Service Pack 2                                                                               |
| Windows 7 for 32-bit Systems および Windows 7 for 32-bit Systems Service Pack 1                                                            |
| Windows 7 for x64-based Systems および Windows 7 for x64-based Systems Service Pack 1                                                      |
| Windows Server 2008 R2 for x64-based Systems および Windows Server 2008 R2 for x64-based Systems Service Pack 1                            |
| Windows Server 2008 R2 for Itanium-based Systems および Windows Server 2008 R2 for Itanium-based Systems Service Pack 1                    |
| Server Core インストール オプション                                                                                                        |
| Windows Server 2008 for 32-bit Systems Service Pack 2 (Server Core インストール)                                                           |
| Windows Server 2008 for x64-based Systems Service Pack 2 (Server Core インストール)                                                        |
| Windows Server 2008 R2 for x64-based Systems および Windows Server 2008 R2 for x64-based Systems Service Pack 1 (Server Core インストール) |

よく寄せられる質問
------------------

 
なぜこの アドバイザリは 2012 年 10 月 10 日に更新されたのですか?   
マイクロソフトは次の理由により、このアドバイザリを更新しました。

-   適切なタイムスタンプ属性なしでマイクロソフトにより生成された特定のデジタル証明書に関する問題に対応するために、Windows XP に適用する KB2661254 更新プログラムを再リリースするため。この問題の詳細については、[マイクロソフト セキュリティ アドバイザリ 2749655](http://technet.microsoft.com/ja-jp/security/advisory/2749655) を参照してください。既に Windows XP システムにこの更新プログラムを正常にインストールされたお客様は、特別な措置を講じる必要はありません。また、この更新プログラムは、既にシステムにインストールされている場合、再度提供されることはありません。再リリースされた更新プログラムは、この更新プログラムを以前にインストールしていない Windows XP システムにのみ適用されます。
-   すべてのサポートされているリリースの Microsoft Windows に適用する KB2661254 更新プログラムが自動更新で提供されることをお知らせするため。

なぜこのアドバイザリは 2012 年 9 月 13 日に更新されたのですか?   
暗号化の目的で RSA キーを使用し、CertGetCertificateChain 関数を呼び出すアプリケーションとサービスがこの更新プログラムの影響を受ける可能性があることを明確にするために、マイクロソフトはこのアドバイザリを更新しました。このようなアプリケーションやサービスの例としては、暗号化された電子メール、SSL/TLS 暗号化チャネル、署名されたアプリケーション、プライベート PKI 環境などがあります。

この更新プログラムをインストールした場合にお客様が受ける可能性のある影響、および発生する可能性のある既知の問題の詳細については、[サポート技術情報 2661254](http://support.microsoft.com/kb/2661254/ja) を参照してください。

このアドバイザリの目的は何ですか?   
このアドバイザリの目的は、1024 ビットまたはそれ以上の長さの RSA キーを含む証明書を必要とするすべてのサポートされているリリースの Microsoft Windows 向けに更新プログラムが利用可能となったことをお客様にお知らせすることです。1024 ビット以下の長さの RSA キーを持つ証明書は短時間の間派生している可能性があり、攻撃者はその証明書を複製し、それを悪用してコンテンツのなりすまし、フィッシング攻撃または中間者攻撃を行う可能性があります。この更新プログラムは完全にテストされ、リリースのための十分な品質を備えています。[Microsoft Update](http://go.microsoft.com/fwlink/?linkid=40747) を経由して広く配布する前に、お客様が自身の環境を評価し、必要な証明書を再発行する機会を設けるために、この更新プログラムはまずダウンロード センターにリリースされました。

攻撃者はどのように証明書を不正に悪用しますか?   
攻撃者は証明書を複製し、コンテンツのなりすまし、フィッシング攻撃の実行、または中間者攻撃に悪用する可能性があります。

攻撃者はどのように証明書を複製しますか?   
デジタル証明書は、証明書の秘密キーを保持している者のみが、作成できます。攻撃者は、数学的な技術を使用して、推測が正しいかどうかを決定し、秘密キーの推測を試みます。秘密キーの推測の成功を困難にすることは、キーに使用されるビット数に比例します。そのため、キーが長くなるほど、攻撃者が秘密キーを推測することは、困難になります。最新のハードウェアを使用すると、長さ 1024 ビット未満のキーは短時間で推測できます。攻撃者により秘密キーが推測されると、証明書が複製され、それが悪用され、コンテンツのなりすまし、フィッシング攻撃、または中間者攻撃が行われる可能性があります。

中間者攻撃とは何ですか?   
中間者攻撃は、通信中の双方のユーザーに気付くことなく、攻撃者のコンピューターで双方のユーザー間の通信が経路変更された際に発生する攻撃です。通信中の双方のユーザーは、意図した受信者とのみ通信中であると思い、気付かないまま攻撃者とトラフィックの送受信を行います。

デジタル証明書とは何ですか?   
[公開キー暗号化](http://technet.microsoft.com/ja-jp/library/aa998077)では、キーの 1 つ (秘密キーと呼ばれています) は秘密にされている必要があります。公開キーと呼ばれているもう 1 つのキーは世界で共有されることが意図されています。しかし、キーの所有者がキーが誰に属しているかを公に知らせる方法が必要になります。[デジタル証明書](http://technet.microsoft.com/ja-jp/library/cc962029.aspx)はこれを実行する方法を提供します。デジタル証明書は、個人、組織、およびコンピューターのオンライン アイデンティティを証明するために使用される電子資格情報です。デジタル証明書は、公開キーと、公開キーについての情報 (所有者情報、使用用途、有効期限、そのほかの関連情報) を含みます。

このリリースに対する準備は必要ですか?   
この更新プログラムに対する準備として実行するアクションのリストについては、「推奨するアクション」のセクションを参照してください。

マイクロソフトはこの更新プログラムを Microsoft Update にいつリリースしますか? 
マイクロソフトはこの更新プログラムを 2012 年 10 月に Microsoft Update で公開する予定です。

KB2661254 の更新プログラムはどのように問題を修正しますか?   
すべてのサポートされているリリースの Microsoft Windows で、KB2661254 の更新プログラムは、証明書で 1024 ビット以上のキー長の RSA キーを使用することを求めます。RSA 以外の暗号化アルゴリズムを使用する証明書は、この更新プログラムの影響を受けません。[CertGetCertificateChain](http://msdn.microsoft.com/ja-jp/library/windows/desktop/aa376078.aspx) 関数を呼び出すマイクロソフト製品またはサードパーティ製品では、1024 ビット未満のキー長の RSA キーを使用している証明書は信頼されなくなります。この関数は、可能な場合、エンド証明書から始めて信頼されるルート証明書まで戻る、証明書チェーン コンテキストを作成します。チェーンが検証されると、チェーン内の証明書は検査され、1024 ビットの長さ以上の RSA キーが使用されていることが確認されます。1024 ビット未満の長さの RSA キーがチェーンの証明書にある場合、エンド証明書は信頼されません。

また、この更新プログラムを構成して、この更新プログラムによって証明書がブロックされたときにログに記録することもできます。このログ記録機能を有効にする方法の詳細については、このアドバイザリの「推奨するアクション」を参照してください。この更新プログラムが長さ 1024 ビット未満の RSA キーの使用をブロックする詳細なシナリオの一覧については、[マイクロソフト サポート技術情報 2661254](http://support.microsoft.com/kb/2661254/ja) を参照してください。

この更新プログラムは、Windows 8 Release Preview または Windows Server 2012 Release Candidate にも適用されますか?   
いいえ。Windows 8 Release Preview または Windows Server 2012 Release Candidate オペレーティング システムには、1024 ビット以上のキー長の RSA キーの使用を求める機能が既に実装されているため、この更新プログラムはこれらのオペレーティング システムには適用されません。

1024 ビット未満の長さの RSA キーを使用している証明書が見つかった場合、どうなりますか?   
環境内で 1024 ビット未満の長さの RSA キーを使用している証明書を確認したお客様は、その長さを超えるキーを使用する証明書を証明機関に要求する必要があります。独自の PKI 環境を管理しているお客様は、より長いキー ペアを作成し、新しいキーを使用した証明書を発行する必要があります。ユーザーは、データ暗号化の要件に合わせて、この更新プログラムで必要とされる最小の長さを超える十分な長さのキーを使用して評価する必要があります。

証明機関 (CA) とは何ですか?   
証明機関 (CA) は、ユーザー、コンピューター、および組織のアイデンティティの証明を担っています。CA は、デジタル署名された証明書を発行することにより、エンティティを証明し、そのアイデンティティを保証します。また、CA は、証明書の管理、失効化、および書き換えも行うことができます。

証明機関は次のようにまとめることができます。

-   エンド ユーザーのアイデンティティを保証する組織
-   証明書を発行および管理するために組織によって使用されるサーバー

推奨するアクション
------------------

 
サポートされているリリースの Microsoft Windows

ほとんどのお客様は自動更新を有効にしていて、このセキュリティ更新プログラムが自動的にダウンロードおよびインストールされるため、特別な措置を講じる必要はありません。自動更新を有効にしていない場合、この更新プログラムを手動で確認し、インストールする必要があります。自動更新の具体的な構成オプションの詳細については、[サポート技術情報 294871](http://support.microsoft.com/kb/294871/ja) を参照してください。

KB2661254 更新プログラムを手動でインストールしたい管理者およびエンタープライズのインストール、エンド ユーザーの場合、マイクロソフトはこの更新プログラムをダウンロードし、1024 ビット以上のキー長の RSA キーを使用した証明書が求められることによる影響を評価することをお勧めします。更新プログラム パッケージのダウンロード リンクについては、[マイクロソフト サポート技術情報 2661254](http://support.microsoft.com/kb/2661254/ja) を参照してください。また、更新パッケージについては、[Microsoft Update カタログ](http://go.microsoft.com/fwlink/?linkid=96155)を参照してください。

管理者およびエンタープライズのインストールは、長さ 1024 ビット未満の RSA キーを使用して、証明書が存在するかどうか環境を評価し、証明書を再発行する必要があります。この更新プログラムの影響を受けるアプリケーションとサービスの詳細については、[サポート技術情報 2661254](http://support.microsoft.com/kb/2661254/ja) を参照してください。

2012 年 10 月 10 日以前に、元の KB2661254 更新プログラムを適用したお客様は、[マイクロソフト セキュリティ アドバイザリ 2749655](http://technet.microsoft.com/ja-jp/security/advisory/2749655) で説明したデジタル証明書の問題を回避するために再リリースされた更新プログラム パッケージを適用する必要があります。詳細については、このアドバイザリの「よく寄せられる質問」を参照してください。

#### 追加の推奨されるアクション

-   エンタープライズ内に長さ 1024 ビット未満のキーを使用した RSA キーを使用した証明書が存在するかどうかを確認する

    エンタープライズ内で現在使用されている RSA 証明書を確認する方法の詳細については、[マイクロソフト サポート技術情報 2661254](http://support.microsoft.com/kb/2661254/ja) を参照してください。

-   この更新プログラムが証明書をブロックする場合のシナリオについては、マイクロソフト サポート技術情報 2661254 を参照してください。

    この更新プログラムが長さ 1024 ビット未満の証明書をブロックする場合のシナリオの一覧については、[マイクロソフト サポート技術情報 2661254](http://support.microsoft.com/kb/2661254/ja) を参照してください。

-   長さ 1024 ビット未満の RSA キーの使用を確認しやすいように 証明書のログ記録を有効にする

    既定では、ログ記録は無効です。長さ 1024 ビット未満の RSA キーが使用されているかどうかを確認しやすいようにレジストリにログ記録ディレクトリを設定して、ログ記録を有効にすることができます。

    警告: レジストリ エディターを正しく使用しないと、深刻な問題が生じ、オペレーティング システムの再インストールが必要になる場合があります。マイクロソフトは、レジストリ エディターを正しく使用しない場合に起こる問題の解決について、保証はできません。レジストリ エディターは、お客様各自の責任において使用してください。

    ```
    Windows Registry Editor Version 5.00  
    [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Cryptography\OID\EncodingType 0\CertDllCreateCertificateChainEngine\Config]  
    " WeakSignatureLogDir"
    ```

    この .reg ファイルをダブルクリックすると、個々のシステムに適用できます。グループ ポリシーを使用し、ドメインに適用することもできます。グループ ポリシーの詳細については、[Core Group Policy Tools and Settings](http://go.microsoft.com/fwlink/?linkid=215719) を参照してください。

    回避策の影響:実稼働システムでログ記録を有効にすると、パフォーマンスの問題が発生することがあるため、注意してログ記録を使用する必要があります。ボリュームがいっぱいになることを回避するために、ログ記録を有効にしたディレクトリには特に注意を払う必要があります。また、すべての該当するシステムがこの場所に書き込むことができるようにこのディレクトリを構成する必要もあります。ただし、組織内の共有への書き込みを匿名ユーザーに絶対に許可しないでください。

-   コンピューターを守る

    マイクロソフトは、お客様が引き続き、「コンピューターを守る」のガイダンスに従い、ファイアウォールを有効にし、すべてのソフトウェアの更新を適用し、ウイルス対策ソフトウェアをインストールすることを推奨しています。詳細については、[Microsoft セーフティとセキュリティ センター](http://www.microsoft.com/ja-jp/security/default.aspx)を参照してください。

-   マイクロソフトのソフトウェアを最新の状態に保つ

    マイクロソフトのソフトウェアをお使いのお客様は、最新のマイクロソフトのセキュリティ更新プログラムを適用してください。これは、お使いのコンピューターが可能な限り保護されることを手助けするものです。ご使用のソフトウェアが最新のものかどうか定かでない場合、[Microsoft Update](http://go.microsoft.com/fwlink/?linkid=40747) で、利用可能な更新プログラムがあるかどうかに関してコンピューターをスキャンし、提供されている優先度の高い更新プログラムをインストールしてください。自動更新が有効で、マイクロソフト製品用の更新プログラムが提供されるよう設定されている場合は、新しい更新プログラムがご利用可能になった時点で自動的に提供されます。しかし、更新プログラムが正しくインストールされているかどうかをご確認いただく必要があります。

### 関連情報

#### フィードバック

-   フィードバックをご提供いただく際は、マイクロソフト サポート オンラインの[マイクロソフトへのご意見・ご要望](https://support.microsoft.com/common/survey.aspx?scid=sw;en;1257&showpage=1&ws=technet&sd=tech)のフォームへ入力をお願いします。

#### サポート

-   セキュリティ関連、およびセキュリティ更新プログラムに関するご質問や、ご不明な点などありましたら、[マイクロソフト セキュリティ情報センター](http://go.microsoft.com/fwlink/?linkid=21131)までご連絡ください。利用可能なサポート オプションの詳細については、[マイクロソフト サポート オンライン](http://support.microsoft.com/)を参照してください。
-   その他、製品に関するご質問は、マイクロソフト プロダクト サポートまでご連絡ください。マイクロソフト プロダクト サポートへの連絡方法は[こちら](http://go.microsoft.com/fwlink/?linkid=21155)を参照してください。
-   [Microsoft TechNet](http://go.microsoft.com/fwlink/?linkid=21132)セキュリティ センターでは、マイクロソフト製品に関するセキュリティ情報を提供しています。

#### 免責

この文書に含まれている情報は、いかなる保証もない現状ベースで提供されるものです。Microsoft Corporation 及びその関連会社は、市場性および特定の目的への適合性を含めて、明示的にも黙示的にも、一切の保証をいたしません。さらに、Microsoft Corporation 及びその関連会社は、本文書に含まれている情報の使用及び使用結果につき、正確性、真実性等、いかなる表明・保証も行いません。Microsoft Corporation、その関連会社及びこれらの権限ある代理人による口頭または書面による一切の情報提供またはアドバイスは、保証を意味するものではなく、かつ上記免責条項の範囲を狭めるものではありません。Microsoft Corporation、その関連会社及びこれらの者の供給者は、直接的、間接的、偶発的、結果的損害、逸失利益、懲罰的損害、または特別損害を含む全ての損害に対して、状況のいかんを問わず一切責任を負いません。結果的損害または偶発的損害に対する責任の免除または制限を認めていない地域においては、上記制限が適用されない場合があります。

#### 更新履歴

-   V1.0 (2012/08/15):アドバイザリを公開しました。
-   V1.0 (2012/08/16):このアドバイザリを更新し、「概要」を修正し、この更新プログラムの適用後、お客様は 1024 ビット以上の長さの RSA キーを持つ証明書を使用する必要があることを説明しました。
-   V1.2 (2012/09/13): 暗号化の目的で RSA キーを使用し、CertGetCertificateChain 関数を呼び出すアプリケーションとサービスがこの更新プログラムの影響を受ける可能性があることを明確にしました。このようなアプリケーションやサービスの例としては、暗号化された電子メール、SSL/TLS 暗号化チャネル、署名されたアプリケーション、プライベート PKI 環境などがあります。
-   V2.0 (2012/10/10):このアドバイザリを更新し、Windows XP に適用する KB2661254 更新プログラムを再リリースし、すべてのサポートされているリリースの Microsoft Windows に適用する KB2661254 更新プログラムが自動更新で提供されることをお知らせしました。以前に KB2661254 更新プログラムを適用したお客様は、特別な措置を講じる必要はありません。詳細については、このアドバイザリの「よく寄せられる質問」を参照してください。

*Built at 2014-04-18T13:49:36Z-07:00*
