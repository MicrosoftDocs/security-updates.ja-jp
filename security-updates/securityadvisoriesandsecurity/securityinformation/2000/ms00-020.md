---
TOCTitle: 'MS00-020'
Title: 'マイクロソフト セキュリティ情報 MS00-020 - 緊急'
ms:assetid: 'ms00-020'
ms:contentKeyID: 61228186
ms:mtpsurl: 'https://technet.microsoft.com/ja-JP/library/ms00-020(v=Security.10)'
---
マイクロソフト セキュリティ情報 MS00-020 - 緊急
===============================================

「デスクトップの分割による」 脆弱性に対する対策
-----------------------------------------------

公開日: 2000年6月20日 | 最終更新日: 2001年1月26日

#### 概要 :

マイクロソフトは、Microsoft® Windows® 2000 の脆弱性を排除する更新プログラムをリリースしました。この脆弱性により、対話的にログオンできるマシンで、悪意のあるユーザーが権限を高めることができてしまう場合があります。

**影響を受けるソフトウエアのバージョン:**

-   Windows 2000 Professional
-   Windows 2000 Server
-   Windows 2000 Advanced Server

### 詳細

問題
----


Windows 2000 のセキュリティ モデルでは、プロセスを分けるためコンテナ オブジェクトを階層化しています。ひとつのセッションには、セキュリティ制御を行うウィンドウ ステーション コンテナが 1 以上含まれ、それぞれのウィンドウ ステーションには、プロセスをカプセル化するデスクトップが 1 以上含まれています。仕様では、プロセスはひとつのウィンドウ ステーション内で、またプロセスに含まれるスレッドは 1 以上のデスクトップ内で実行されるよう設計されており、ひとつのウィンドウ ステーションで実行されているプロセスが別のウィンドウ ステーションのデスクトップにアクセスできるべきではありません。しかし実装段階の障害により、特定の環境で悪意のあるユーザーが別のデスクトップでプロセスを生成できてしまう場合があります。したがって同一セッション内のデスクトップで実行されている入出力処理を、低い権限を持つユーザーのプロセスから参照できてしまう場合があります。これにより、パスワードなどの情報が侵害されてしまう場合があります。  

これは、同一セッション上で実行されているプログラムだけに影響を与えます。したがって悪意のあるユーザーは対話的にログオン しているローカル マシンのプロセスだけを妨害できます。推奨されるセキュリティ設定が行われている環境においては、通常セキュリティの保護を必要とするサーバーにユーザーが対話的にログオンできることはないため、ドメイン コントローラ、ファイル/プリント サーバー、ERP サーバーやデータベース サーバーなどが影響を受けることはありません。また他のセキュリティ設定を行うことにより、悪意のあるユーザーがこの脆弱性を侵害することのできるプロセスを生成することを阻止することができます。なお、Windows 2000 Terminal Servers においては、ユーザーがそれぞれでセッションを確立するためこの脆弱性の影響を受けません。

よく寄せられる質問
------------------


**マイクロソフト セキュリティ情報MS00-020はどのような内容の通知ですか?**

このマイクロソフト セキュリティ情報 MS00-020 は、Microsoft® Windows 2000 のセキュリティ上の脆弱性を排除する更新プログラムがリリースされたことを、お客様にお知らせするものです。この脆弱性のため、悪意のあるユーザーが対話的にログオンできるコンピュータで特権を昇格できてしまうことがあります。マイクロソフトでは、お客様の情報の保護に全力を挙げて努めております。この通知で、お客様に脆弱性の詳細とその対策をお知らせします。

**この脆弱性はどれくらいの範囲に影響を与えますか?**

悪意のあるユーザーが、[特権の昇格](http://www.microsoft.com/japan/security/glossary.mspx)できてしまうことがあります。それにより Windows 2000 に [対話的にログオン](http://www.microsoft.com/japan/security/glossary.mspx)できるユーザーが、コンピュータで任意の動作を実行できてしまうことがあります。  

この脆弱性の影響を最も強く受けると考えられるのは Windows 2000 ワークステーションです。マイクロソフトではプリント サーバーやファイル サーバーやドメイン コントローラや ERP サーバーなど、セキュリティの確保が必要とされるコンピュータに、普通のユーザーの対話的にログオンを許可しないよう推奨しています。これが守られている場合、弊社ではこれらのコンピュータへの影響はないと考えています。また Windows 2000 Terminal Server もこの脆弱性の影響を受けることはありません。

**この脆弱性の原因は何ですか?**

この脆弱性は、Windows 2000 が本来のデスクトップ以外でもアプリケーションを実行できてしまえるよう正しく制御しないために発生します。より高い権限を持つユーザーのデスクトップに、本来であればアクセス許可のないユーザーが作成したアプリケーションがアクセスできてしまい、権限のない動作を実行できてしまうことがあります。

**何のことを 「デスクトップ」 と呼んでいるのですか?**

デスクトップと言うと、通常は Windows セッションが開かれている間に画面に表示される作業領域のことをさします。しかし、Windows 2000 のセキュリティ アーキテクチュアでは別の意味があります。ここでのデスクトップとは、ユーザーが権限のあるプロセスしか実行できないように、プロセスをカプセル化するために Windows 2000 が使用しているものをさしています。その上位層であるウィンドウ ステーションについて説明をすれば、デスクトップの意味またそれがどのように機能するかをご理解いただけ易くなります。

**ウィンドウ ステーションとは何ですか?**

ウィンドウ ステーションとは､クリップボードや一部のグローバル情報、またプロセスをカプセル化するためのデスクトップを 1 つ以上含む保護用のコンテナで、Windows 2000 セッションにいくつか含まれます。このウィンドウ ステーションは、対話的にログオンしているユーザーのログオンセッション以外に、Winlogon プロセス用、セキュアなスクリーン セーバー プロセス用など、対話的にログオンしているユーザー以外のセキュリティ コンテキストで実行されるサービスに割り当てられます。  

コンピュータに対話的にログオンしているユーザーに割り当てられている対話的ウィンドウ ステーションには、キーボード、マウスまたディスプレイ デバイスのためのサービスを含みます。ユーザーは対話的ウィンドウ ステーションを見ることができ、また入力をすることも可能です。しかし他のウィンドウ ステーションは見たり入力したりすることはできません。

**デスクトップとは何ですか?**

デスクトップは、ウィンドウ ステーションに含まれる保護されたコンテナ オブジェクトです。ウィンドウ ステーションには、複数デスクトップが含まれることがあります。  

デスクトップには､ウィンドウ、メニューおよびフックを含む論理的な表示面があります。ユーザーは対話的なウィンドウ ステーションのデスクトップしか見たり入力したりすることはできません。対話的ウィンドウ ステーションは、1 度に 1 つだけしかアクティブになりません。このアクティブなデスクトップが現在ユーザーに表示されており、入力を受け付けている、いわゆるデスクトップです。

**Windows 2000のデスクトップのセキュリティで何が問題になっているのですか?**

Windows 2000 のデスクトップのセキュリティ モデルが、正確に導入されていないことが問題となっています。この問題により、ユーザーが異なるデスクトップで実行されるプロセスを生成できてしまうことがあります。そのプロセスが同じウィンドウ ステーション内の他のデスクトップや、同じセッション内の他のウィンドウ ステーションにアクセスできてしまうことが特に問題となります。

**自分よりも高い権限を持つユーザーのデスクトップにプロセスを生成できた場合、何を実行できますか?**

例え自分よりも高い権限を持つユーザーのデスクトップでプロセスを実行できたとしても、それだけで権限を高めることはできません。つまり悪意のあるユーザーが、システムの所有するデスクトップでプロセスを実行できても、それだけで自分を Administrator グループに追加できてしまうことはありません。  

この脆弱性では、悪意のあるユーザーがプロセスを介し高い権限を持つユーザーが所有するディスプレイと入力デバイスにアクセスできてしまうことがあります。したがって、もし悪意のあるユーザーが Winlogon プロセスに割り当てられているデスクトップでプロセスを実行できると、他のユーザーがログオン時に入力するパスワードを記録することができてしまいます。

**不正なデスクトップでプロセスを実行するのは簡単ですか?**

普通に起動し実行するだけではできません。悪意のあるユーザーがタイムリーにプロセスを実行できるには､いくつかステップを踏む必要があります。幸いにも、これらのほとんどは推奨されるセキュリティ設定をしていれば防ぐことができます。

**この脆弱性を介し他のコンピュータを攻撃することも可能ですか?**

いいえ、この脆弱性の侵害はローカル コンピュータに限定されます。別のコンピュータで実行されるデスクトップでプロセスを実行することはできません。

**この脆弱性の影響を最も受けるコンピュータは何ですか?**

この脆弱性では、ユーザーがローカル コンピュータで権限を高められてしまうことだけが問題となります。したがって最も影響を受けるのは、Windows 2000 ワークステーションだと考えられます。推奨されるセキュリティ設定がされている場合、普通のユーザーはサーバーには対話的にログオンできません。以下のとおり、この脆弱性により Windows 2000 Terminal Server が影響を受けることはありません。

**Terminal Serverはなぜこの脆弱性の影響を受けないのですか?**

これは、同一セッション内に限定された脆弱性です。つまりプロセスは、同一セッション内のデスクトップにしかアクセスできません。Terminal Server は、自分のセッションでしか実行できないため､他のユーザーのプロセスを干渉できません。

**悪意のあるユーザーはこの脆弱性を利用しネットワークを占拠できますか?**

攻撃対象となったコンピュータにもよります。攻撃対象がワークステーションであった場合、悪意のあるユーザーは他のコンピュータにまで手を広げることはできません。しかしドメイン コントローラであった場合は、事実上ドメインを占拠できてしまいます。この脆弱性を侵害できる条件として、悪意のあるユーザーはコンピュータに対話的にログオンできなければなりません。このような場合のため、ドメイン コントローラなどのようなセキュリティの確保が必要とされるコンピュータは、管理者しか対話的にログオンできないよう設定されていなければなりません。

**この脆弱性は偶発的に発生しますか?**

いいえ、発生しません。他のデスクトップの妨げとなる手順は、偶発的には実行されません。

**Windows 2000, Datacenter Serverはこの脆弱性の影響を受けますか?**

いいえ、受けません。Windows 2000 Datacenter Server は、まだリリースされておらず、リリース前にこの問題は修正されます。

**更新プログラムは何を変更するのですか?**

この更新プログラムは、プロセスを正確に分けることによってデスクトップのセキュリティ モデルを修復します。

**どこから更新プログラムを入手できますか?**

マイクロソフト セキュリティ情報 MS00-020 をご覧ください。

**この問題に対してマイクロソフトはどのような対応をしていますか?**

-   マイクロソフトは、この脆弱性を排除する更新プログラムを開発しました。
-   マイクロソフトは、セキュリティ上の脆弱性の詳細とその対策をお客様にご理解いただくために、セキュリティ情報 [MS00-021](http://technet.microsoft.com/security/bulletin/ms00-021) と、この faq を提供しています。
-   マイクロソフトは、マイクロソフト社の最新のセキュリティ情報を無料でご購読いただける[マイクロソフト プロダクト セキュリティ 警告サービス](http://technet.microsoft.com/ja-jp/security/dd252948.aspx) にて、購読の登録をされているお客様に、セキュリティ情報の通知を行っています。
-   マイクロソフトはサポート技術情報 [260197](http://support.microsoft.com/kb/260197) を公開し、このセキュリティ上の脆弱性と更新プログラムの詳細と説明しています。

**推奨するセキュリティ設定の詳細情報はどこで入手できますか?**

マイクロソフトが提供するセキュリティ情報の詳細は、弊社の[セキュリティ](http://technet.microsoft.com/ja-jp/security/default.aspx)の Web サイトから入手してください。

**テクニカル サポートを受けるにはどこに問い合わせればよいですか?**

マイクロソフトの製品に関するテクニカルサポートは、[電話番号とサポートオプションのサイト](http://support.microsoft.com/gp/cntactms)を参照してください。

更新プログラム
--------------


-   [Windows 2000 セキュリティ修正プログラム : デスクトップの分割による脆弱性](http://www.microsoft.com/downloads/details.aspx?displaylang=ja&familyid=73e30177-7688-4117-9a1b-ab8ce0ce59c7)

更新プログラムについてのご質問は、マイクロソフト プロダクト サポート までご連絡ください。マイクロソフトでは、ご質問の内容が弊社製品の不具合が原因の場合、サポート料金はいただきません。それ以外の場合には、サポート料金を請求させていただきますのでご注意ください。  
[マイクロソフト プロダクト サポートへの連絡方法はこちらをご覧ください。](http://www.microsoft.com/japan/security/support/patchqa.mspx)

### その他の情報

**詳細情報:**

-   US マイクロソフトセキュリティ情報（MS00-020）  
    [http://www.microsoft.com/technet/security/bulletin/ms00-020.mspx](http://technet.microsoft.com/security/bulletin/ms00-020)
-   サポート技術情報 （KB） 文書番号 ： 260197  
    [対話的なログオンにおけるデスクトップ プロセスの脆弱性](http://support.microsoft.com/kb/260197)

本セキュリティ情報に含まれている情報は、いかなる保証もない現状ベースで提供されるものです。Microsoft Corporation 及びその関連会社は、市場性および特定の目的への適合性を含めて、明示的にも黙示的にも、一切の保証をいたしません。さらに、Microsoft Corporation 及びその関連会社は、本文書に含まれている情報の使用及び使用結果につき、正確性、真実性等、いかなる表明・保証も行ないません。Microsoft Corporation、その関連会社及びこれらの権限ある代理人による口頭または書面による一切の情報提供またはアドバイスは、保証を意味するものではなく、かつ上記免責条項の範囲を狭めるものではありません。Microsoft Corporation、その関連会社 及びこれらの者の供給者は、直接的、間接的、偶発的、結果的損害、逸失利益、懲罰的損害、または特別損害を含む全ての損害に対して、状況のいかんを問わず一切責任を負いません。（Microsoft Corporation、その関連会社 またはこれらの者の供給者がかかる損害の発生可能性を了知している場合を含みます。) 結果的損害または偶発的損害に対する責任の免除または制限を認めていない地域においては、上記制限が適用されない場合があります。

*Built at 2014-04-18T01:50:00Z-07:00*
