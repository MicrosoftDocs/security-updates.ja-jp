---
TOCTitle: '設計ガイド — ワイヤレス LAN のセキュリティに対応した RADIUS インフラストラクチャを設計する'
Title: '設計ガイド — ワイヤレス LAN のセキュリティに対応した RADIUS インフラストラクチャを設計する'
ms:assetid: 'e3e593bb-1c1d-40ad-97fc-3798b6869f18'
ms:contentKeyID: 19869629
ms:mtpsurl: 'https://technet.microsoft.com/ja-jp/library/Cc527048(v=TechNet.10)'
---

証明書サービスを使用してワイヤレス LAN のセキュリティを保護する
===============================================================

### 第 5 章 : ワイヤレス LAN のセキュリティに対応した RADIUS インフラストラクチャを設計する

最終更新日: 2005年5月24日

##### トピック

[](#efaa)[はじめに](#efaa)
[](#eeaa)[IAS を使用してネットワーク アクセス管理を行う](#eeaa)
[](#edaa)[ソリューションの前提条件を確認する](#edaa)
[](#ecaa)[RADIUS インフラストラクチャを設計する](#ecaa)
[](#ebaa)[管理計画を立てる](#ebaa)
[](#eaaa)[要約](#eaaa)

### はじめに

この章では、このワイヤレス ローカル エリア ネットワーク (WLAN) ソリューションで使用するリモート認証ダイヤルイン ユーザー サービス (RADIUS) インフラストラクチャのアーキテクチャと設計について説明します。 RADIUS インフラストラクチャでは、マイクロソフトの RADIUS 実装である Microsoft インターネット認証サービス (IAS) を使用します。

この章の第一の目標は、このソリューション向けの IAS インフラストラクチャに関係する設計上の決定およびその理由について説明することです。

この章で、"このソリューションで使用するオプションは..." または "この設計で使用するのは..." といったフレーズが出てきた場合は、ソリューションの設計のための決定事項を意味し、これらは後述の構築ガイドと操作ガイドの章で実装されます。

この章の 2 つめの目標は、設計が組織にどの程度適しているかを判断するためのガイドラインを提供することです。 したがって、この章で "...を決定する必要があります" といったフレーズが出てきた場合は、各自が独自の要件に基づいて選択する必要がある意思決定ポイントであることを意味します。 こうした意思決定ポイントは通常、自社のより広範なセキュリティのニーズに対応するために、ソリューションの拡張方法を検討している場合に発生します。 そのため、必要となる手順の意味をより良く理解し、他のリソースを参照しなくても済むよう、一部のトピックについてはさらに詳しく説明します。

#### 章の前提条件

この章を読む前に、RADIUS の概念および IAS 展開オプションについて詳しく知っている必要があります。 これらの内容に関する有用なリソースについては、この章の最後にある「関連情報」を参照してください。 「*Microsoft Windows Server*™ *2003 リソース キット*」と「*Microsoft Windows Server*™ *2003 Deployment Kit*」の IAS に関する章にも有用な情報が記載されています。

#### 章の概要

この章は、RADIUS インフラストラクチャの設計について説明するいくつかのトピックに分かれています。 この章の目的は次のとおりです。

-   広範なネットワーク アクセス管理ソリューションを提供するための IAS の使用方法、および特に WLAN への適用方法を示す。

-   このソリューションに必要な IT 環境の前提条件を特定し、既存のインフラストラクチャを検討する。

-   IAS ベースの RADIUS インフラストラクチャのアーキテクチャを構築する際の設計上の決定事項、特に 802.1X ベースのワイヤレス ネットワークに関連する決定事項を詳述する。

-   IAS サーバー インフラストラクチャを保守するための管理戦略について調査する。

-   概念、詳細な製品情報、および展開計画に関する参照情報を提供する。

次のフロー チャートに、この章の構造を示します。

![](images/Cc527048.05fig5-1(ja-jp,TechNet.10).gif)

**図 5.1: IAS インフラストラクチャの計画**

[](#mainsection)[ページのトップへ](#mainsection)

### IAS を使用してネットワーク アクセス管理を行う

Microsoft Windows Server™ 2003 のインターネット認証サービスは、RADIUS サーバーおよびプロキシ サーバーのマイクロソフトの実装です。 RADIUS サーバーとして、IAS はさまざまな種類のネットワーク接続についての集中化認証、承認、およびアカウンティング (AAA) を実行します。 RADIUS プロキシ サーバーとして、IAS は AAA の別の RADIUS サーバーに RADIUS 要求を転送できます。 IAS は、Microsoft Windows ベースのルーティングとリモート アクセス サービス (RRAS) などの仮想プライベート ネットワーク (VPN) サーバー、またはワイヤレス アクセス ポイント (AP) や認証イーサネット スイッチなどのその他のネットワーク アクセス インフラストラクチャと組み合わせて使用できます。

IAS ベースの RADIUS インフラストラクチャの価値を最大限に活用するには、ネットワーク アクセス管理のために集中サービスを利用することを会社規模で決定する必要があります。 これには、Active Directory ディレクトリ サービスなどの集中アカウント データベースの使用、および IAS サーバー上でのネットワーク アクセス ポリシー管理の一元化があります。 管理を一元化することで、分散ネットワーク アクセス装置でのネットワーク アクセス制御情報の維持にかかるコストを大幅に削減できるようになります。 さらに、アカウントとネットワーク アクセス ポリシーを一元化することで、分散装置の構成および管理に関連するセキュリティ上のリスクも削減できます。

組織の現在および将来のニーズを満たす IAS インフラストラクチャを計画および展開するには、十分な検討が必要になります。 IASは、単一の切り離されたネットワークへのアクセスを意図したものではありません。 IAS は、さまざまなネットワーク アクセス シナリオに向けて、戦略的なネットワーク アクセス管理を提供するために展開する必要があります。

#### 組織のネットワーク アクセス管理要件を特定する

Windows Server 2003 の IAS では、次のようなネットワーク アクセスのシナリオをサポートしています。

-   **ワイヤレス アクセス**。 802.1X に対応したワイヤレス アクセス ポイントを構成して、802.11 ベースの WLAN アクセス制御をするために IAS AAA サービスを使用したり、キー管理を提供したりできます。

-   **ワイヤード アクセス**。 802.1X に対応したイーサネット スイッチは、ワイヤード LAN へのポート単位のアクセス制御をするために IAS AAA サービスを使用できます。

-   **VPN アクセス**。 Windows ベースの RRAS などの VPN サーバーは、キー管理を提供するだけでなく、企業ネットワークのアクセス制御をするために IAS AAA サービスを使用できます。

-   **ダイヤルアップ アクセス**。 Windows ベースの Routing and Remote Access などのダイヤルアップ サーバーは、企業ネットワークのアクセス制御をするために IAS AAA サービスを使用できます。

-   **エクストラネット アクセス**。 エクストラネット アクセス サーバーは、ビジネス パートナーによる共有リソースへのアクセスを制限するために IAS AAA サービスを使用できます。

-   **アウトソースされた企業ネットワーク アクセス**。 ネットワーク ソリューション プロバイダは、アウトソースされたネットワーク インフラストラクチャを顧客のアカウント データベースおよびサクセス制御ポリシーに統合するために IAS AAA サービスを活用できます。 IAS は、このサービスに対する支払いを顧客に請求するのに必要なアカウンティング情報も提供できます。

-   **インターネット アクセス**。 インターネット サービス プロバイダ (ISP) は、ダイヤルアップおよび高速インターネット アクセスを提供するために IAS AAA サービスを活用し、その一方で、それぞれの組織のアカウント データベースおよびアクセス制御ポリシーを使用できます。 IAS は、このサービスに対する支払いを顧客に請求するのに必要なアカウンティング情報を提供できます。

IAS への投資を最大限に活用し、将来的な IAS インフラストラクチャへの変更を最小限に抑えるには、これらのシナリオを自分の組織での使用に照らして評価する必要があります。 このソリューションの IAS は、ワイヤレス ネットワーク アクセスに対してのみ使用されますが、これらのシナリオをサポートできるようにソリューションを拡張することも可能です。 RADIUS インフラストラクチャを拡張して別のシナリオをサポートするための情報については、「第 3 章 : セキュリティ保護されたワイヤレス LAN ソリューション アーキテクチャ」を参照してください。

#### IAS を使用してワイヤレス ネットワーク アクセス管理を行う

IEEE (Institute of Electrical and Electronics Engineers) 802.11 などの業界標準の登場により、WLAN はますます普及しています。 WLAN を使用することにより、ユーザーは建物やキャンパスを移動しながら、ワイヤレス AP の周辺にいる限りは自動的にネットワークに接続できます。

WLAN の使用には、利便性がある一方で、次のようなセキュリティ リスクを伴います。

-   互換性のある WLAN アダプタを備えていれば、誰でもネットワークに接続できる可能性があります。

-   ワイヤレス ネットワーク信号では、情報の送受信に無線電波が使用されます。 ワイヤレス AP の近くにいるユーザーなら誰でもワイヤレス AP で送受信されるすべてのデータを検出および受信できます。

セキュリティ上の最初のリスクに対処するには、ワイヤレス AP を RADIUS クライアントとしてセットアップし、アクセス要求およびアカウンティング メッセージを IAS を実行している中央の RADIUS サーバーに送信するように構成します。 2 番目のリスクに対処するには、ワイヤレス装置とワイヤレス AP との間で送信されるデータを暗号化します。

IAS は、IEEE 802.1X ワイヤレス AP およびクライアント デバイスのための RADIUS サーバーとして実行し、EAP-TLS (Extensible Authentication Protocol-Transport Layer Security protocol) などの証明書ベースの認証プロトコルを使用して動的暗号化キーを提供するという 2 つの方法で、WLAN に対するセキュリティ強化を図ります。

**注 :** このガイダンスでは、ワイヤレス AP を RADIUS クライアントと呼ぶ場合があります。 ワイヤレス AP 以外にも RADIUS クライアントとして使用できるものはありますが、このガイダンスではワイヤレス AP のみについて説明します。 このため、ワイヤレス AP と RADIUS クライアントを同じ意味の用語として使用します。

[](#mainsection)[ページのトップへ](#mainsection)

### ソリューションの前提条件を確認する

IAS を使用したワイヤレス アクセス管理ソリューションの設計を始める前に、使用している環境で必要となる既定の条件を理解しておく必要があります。

#### Active Directory に関する留意事項

このソリューションは、Acitive Directory を展開し、自社のドメイン コントローラで Windows 2000 Server 以降を実行している組織を対象に設計されています。 これらがこのソリューションの必要条件になるのは、RADIUS の設計に際して行われる決定の中には、Windows 2000 のネイティブ モード以降を実行しているドメインでしか使用できない機能が必要になるものが含まれているためです。 次の表は、このソリューションで使用される機能、およびさまざまなドメイン機能レベルでのサポートのレベルを示しています。

**表 5.1: ソリューションで活用される Windows ドメインの機能**

<p> </p>
<table style="border:1px solid black;">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead>
<tr class="header">
<th><p>機能</p></th>
<th>Windows Server 2003<br />
ネイティブ モード</th>
<th>Windows 2000<br />
ネイティブ モード</th>
<th><p>混合モード</p>
<p>または</p>
<p>Microsoft Windows NT® 4.0</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;"><p>ユニバーサル グループとネストしたグループ</p></td>
<td style="border:1px solid black;"><p>はい</p></td>
<td style="border:1px solid black;"><p>はい</p></td>
<td style="border:1px solid black;"><p>いいえ</p></td>
</tr>  
<tr class="even">
<td style="border:1px solid black;"><p>ユーザー プリンシパル名 (UPN)</p></td>
<td style="border:1px solid black;"><p>はい</p></td>
<td style="border:1px solid black;"><p>はい</p></td>
<td style="border:1px solid black;"><p>いいえ</p></td>
</tr>  
<tr class="odd">
<td style="border:1px solid black;">リモート アクセス ポリシー (RAP)<br />
許可を使用したアクセスの制御がユーザー アカウントで使用可能</td>
<td style="border:1px solid black;"><p>はい</p></td>
<td style="border:1px solid black;"><p>はい</p></td>
<td style="border:1px solid black;"><p>いいえ</p></td>
</tr>  
<tr class="even">
<td style="border:1px solid black;"><p>EAP–TLS のサポート</p></td>
<td style="border:1px solid black;"><p>はい</p></td>
<td style="border:1px solid black;"><p>はい</p></td>
<td style="border:1px solid black;"><p>いいえ</p></td>
</tr>  
</tbody>  
</table>
  
**注 :** このソリューションの証明書サービスの実装においても、Active Directory 固有の要件があります。 詳細については、「第 4 章 : 公開キー基盤を設計する」を参照してください。
  
この章を参照した後に、IAS のドメイン コントローラでの展開を決定することが可能です。 このソリューションは、Window Server 2003 の IAS に基づいているので、対象のドメイン コントローラをこのオペレーティング システムのバージョンにアップグレードする必要があります。 ドメイン コントローラへの IAS の配置の詳細については、この章で後述します。
  
#### 既存の RADIUS インフラストラクチャ
  
このソリューションは、ユーザー環境の既存の RADIUS サーバーと統合することはできません。 ただし、既存の IAS ベースのサーバーとサードパーティの RADIUS サーバーをこのソリューションと統合することは可能です。 ほとんどの場合、WLAN アクセス関連の機能を使用するために Windows Server 2003 IAS を使用することになります。
  
古いバージョンの Windows RADIUS サーバーを Windows Server 2003 にアップグレードすれば、このソリューションでコアとなる RADIUS サーバーとして使用できます。 また、既存の RADIUS サーバーを、新しい Windows Server 2003 ベースの RADIUS サーバーへのプロキシ RADIUS トラフィックに変更することも可能です。
  
既存の RADIUS インフラストラクチャを Windows Server 2003 IAS に移行する方法についての詳細な設計ガイドについては、マイクロソフトのパートナーに相談するか、適切なパートナーまたは Microsoft Consulting Sevices 担当者についてマイクロソフト担当営業に問い合わせてください。
  
[](#mainsection)[ページのトップへ](#mainsection)
  
### RADIUS インフラストラクチャを設計する
  
IAS を使用して 802.1X ベースの WLAN アクセスをサポートする場合には、設計上の多くの決定を行う必要があります。 ここでは、これらの決定のいくつかを説明し、このソリューションのために選択するオプションについて説明します。 自社の環境にどう適合するかという点から、これらの決定を個別に評価する必要があります。
  
#### RADIUS サーバーとしての IAS の役割を決定する
  
IAS サーバーは、次の 3 つの概念的な RADIUS の役割のいずれかで機能するように展開できます。
  
-   RADIUS サーバー
  
-   RADIUS プロキシ サーバー
  
-   RADIUS サーバーとプロキシ サーバー
  
    **注 :** このガイドでは、RADIUS サーバーと RADIUS プロキシ サーバーという用語を、これらの役割を実行するように構成された IAS サーバーを説明するのに使用しています。
  
次の表では、これらの役割を実行するように構成されたサーバーのいくつかの機能を説明し、現実のシナリオでどれだけ有用であるかを示しています。
  
**表 5.2: IAS RADIUS の役割**

<p> </p>
<table style="border:1px solid black;">  
<colgroup>  
<col width="33%" />  
<col width="33%" />  
<col width="33%" />  
</colgroup>  
<thead>  
<tr class="header">  
<th><p>IAS RADIUS の役割</p></th>  
<th><p>機能</p></th>  
<th><p>シナリオ</p></th>  
</tr>  
</thead>  
<tbody>  
<tr class="odd">
<td style="border:1px solid black;"><p>RADIUS サーバー</p></td>
<td style="border:1px solid black;"><p>– Active Directory またはその他の信頼できるデータ ソースで直接資格情報を確認する。<br />
– ネットワーク アクセスを決定するために RAP を活用する。</p></td>
<td style="border:1px solid black;"><p>すべてのネットワーク アクセス管理のシナリオで必要。</p></td>
</tr>  
<tr class="even">
<td style="border:1px solid black;"><p>RADIUS プロキシ サーバー</p></td>
<td style="border:1px solid black;"><p>– 要求プロパティに基づいて要求をルーティングする。<br />
– 送信中の要求の RADIUS プロパティを変更できる。<br />
– RADIUS サーバー グループに対する RADIUS 要求の負荷分散を提供する。</p></td>
<td style="border:1px solid black;"><p>– ネットワーク アクセス装置が共有されるマルチフォレスト シナリオで有用である。<br />
– 大規模なフロントエンド/バックエンドのネットワーク AAA アーキテクチャを展開するのに有用である。<br />
– 外部組織への認証の連合に有用である。</p></td>
</tr>
<tr class="odd">
<td style="border:1px solid black;"><p>RADIUS サーバーとプロキシ サーバー</p></td>
<td style="border:1px solid black;"><p>上記の 2 つの機能の組み合わせ</p></td>
<td style="border:1px solid black;"><p>2 つのシナリオの組み合わせ</p></td>
</tr>  
</tbody>  
</table>
  
RADIS のすべての役割が、ネットワーク アクセス管理のすべてのシナリオで必要になるわけではありません。 たとえば、多くの組織では、WLAN アクセス管理を行うためには、RADIUS サーバーの役割のみが必要になります。 ただし、ワイヤレス ネットワーク インフラストラクチャを使用した、複数の Active Directory フォレストのユーザーやデバイスへのサービス提供を組織で計画している場合は、各フォレストの独立した RADIUS サーバーに要求をルーティングするために、RADIUS プロキシ サーバーも必要になります。
  
わかりやすさとコストを考慮し、このソリューションには、RADIUS サーバーとして構成された IAS サーバーのみが含まれます。 IAS を RADIUS プロキシ サーバーとしては実装しません。
  
#### サーバーのフェールオーバーと負荷分散を理解する
  
RADIUS は、すべての 802.1X ベースの WLAN アクセス管理ソリューションの重要なコンポーネントです。 エンドユーザーからみて WLAN がどの程度利用できるかは、ワイヤレス AP に対する IAS サーバーの可用性によって決まります。 したがって、ワイヤレス AP に対して常に 2 つ以上の IAS サーバーを利用できるように考慮する必要があります 最新のワイヤレス AP には、認証用およびアカウンティング用にそれぞれ 2 つの RADIUS サーバーを構成する機能が備えられています。 このように構成すれば、1 台の RADIUS サーバーへの接続が切断されても、WLAN クライアントへのサービスに影響を及ぼすことがありません。
  
障害発生時に迅速に復旧させる目的で複数のサーバーを実装するために、多くの組織では、RADIUS サーバー全体で RADIUS クライアントとして構成されたワイヤレス AP からの要求を負荷分散することにより、どのサーバーも制約を受けないようにしたいと考えます。
  
負荷分散計画を選択する場合は、ワイヤレス AP と RADIUS サーバー間に RADIUS 内 EAP (EAP-RADIUS) を実装することをあらかじめ理解しておく必要があります。 RADIUS はコネクションレスのユーザー データグラム プロトコル (UDP) を使用しますが、EAP は RADIUS 内でトンネルされるセッション指向のプロトコルです。 これは事実上、1 つの認証操作を構成する複数の EAP-RADIUS パケットが同一の RADIUS サーバーに戻らなければならないことを意味します。さもないと認証は失敗することになります。
  
次の表は、RADIUS クライアントが復元およびRADIUS 要求の負荷分散を行うために複数の RADIUS サーバーを使用可能にするオプション機能を示しています。
  
**表 5.3: EAP-RADIUS フェールオーバーと負荷分散オプション**

<p> </p>
<table style="border:1px solid black;">  
<colgroup>  
<col width="33%" />  
<col width="33%" />  
<col width="33%" />  
</colgroup>  
<thead>  
<tr class="header">  
<th><p>フェールオーバーと負荷分散方法</p></th>  
<th><p>長所</p></th>  
<th><p>短所</p></th>  
</tr>  
</thead>  
<tbody>  
<tr class="odd">
<td style="border:1px solid black;"><p>RADIUS サーバー グループによる IAS プロキシ</p></td>
<td style="border:1px solid black;"><p>– RADIUS サービスはフェールオーバーとフェールバックによる失敗の検出サービスを提供する。<br />
– トラフィック プロパティに基づくトラフィック負荷分散が行われる。<br />  
– 負荷分散時に EAP セッション状態を維持する。<br />
– 要求のサーバーへの分散が優先順位および重要度の設定に基づいて構成可能である。</p></td>
<td style="border:1px solid black;"><p>– 追加の IAS サーバーが必要になる。<br />
– AP は依然として、プライマリおよびセカンダリ プロキシ RADIUS IP で構成する必要がある。</p></td>
</tr>
<tr class="even">
<td style="border:1px solid black;"><p>ワイヤレス AP でのプライマリおよびセカンダリ RADIUS サーバーの設定</p></td>
<td style="border:1px solid black;"><p>– 小規模な環境では単純な構成になる。<br />
– ワイヤレス AP はトラフィックの失敗を検知し、フェールオーバーを実行する。<br />
– ネイティブなワイヤレス AP 機能を利用する。</p></td>
<td style="border:1px solid black;"><p>– プライマリおよびセカンダリ RADIUS サーバーを選択する際には、その計画および監視に細心の注意が必要になる。<br />
– ワイヤレス AP の多くは、サーバーの負荷分散が行えなくなるため、フェールバック機能をサポートしていない。</p></td>
</tr>
</tbody>
</table>
<p> </p>

エンタープライズ組織および大規模ネットワーク サービス プロバイダは、RADIUS クライアントからの要求を受け付けて RADIUS サーバーへの負荷分散を行うために、RADIUS プロキシを利用することを検討してください。この場合、RADIUS サーバーは RADIUS サーバー グループに構成できます。 RADIUS サーバー グループ内の RADIUS サーバーへのネットワーク トラフィックの分散は、変更可能な多数の構成項目に基づいて行うことができます。 構成項目には、優先順位および重要度に加え、RADIUS トラフィックのタイプや RADIUS 属性などがあります。 各 RADIUS サーバー グループの RADIUS サーバーは、ドメインまたは全フォレスト内のユーザーおよびデバイスに対してコアの認証や承認を実行できます。 これにより、RADIUS 要求を処理するためのフロントエンドまたはバックエンドのアーキテクチャが構築され、負荷分散および拡張オプションに対する柔軟性が最大限提供されます。

![](images/Cc527048.05fig5-2(ja-jp,TechNet.10).gif)

**図 5.2: RADIUS プロキシを使用したフェールオーバーと負荷分散**

ただし、最新のワイヤレス AP の単純な RADIUS サーバー フェールオーバー機能は、ほとんどの組織にとって十分なレベルの復元性を提供します。 もし十分でない場合でも、RADIUS プロキシ サーバー ベースのフェールオーバーと負荷分散戦略への移行は比較的簡単です。 ワイヤレス AP ベースのフェールオーバーと負荷分散を使用するうえでの短所は、ワイヤレス AP と RADIUS サーバーを組み合わせ、RADIUS サーバーで負荷が均等かどうかを監視し、必要に応じて変更を行うための管理が必要なことです。 また、ワイヤレス AP の一部のモデルはフェールバックをサポートしないという短所もあります。 フェールバックは、フェールオーバーしてセカンダリ RADIUS サーバーを使用している AP が、プライマリ RADIUS サーバーが回復次第、そのプライマリ サーバーに自動的に戻るときに起こります。 フェールバックがなければ、すべてのワイヤレス AP がセカンダリ RADIUS サーバーにフェールオーバーした場合、管理者が操作しなければ、それらの AP を再び適切なプライマリ サーバーに戻すことができません。

複数の RADIUS サーバーがローカルで使用可能であるとき、ワイヤレス AP ベースのフェールオーバー戦略を使用して負荷分散を行うには、次のような構成が必要になります。

-   各拠点の ワイヤレス AP の半分が、最初にプライマリ RADIUS サーバーを使用し、プライマリ RADIUS サーバーが失敗した場合にはセカンダリ RADIUS サーバーを使用するように構成します。

-   各拠点の ワイヤレス AP の残りの半分が、最初にセカンダリ RADIUS サーバーを使用し、セカンダリ RADIUS サーバーが失敗した場合にはプライマリ RADIUS サーバーを使用するように構成します。

    **注 :** "プライマリ" および "セカンダリ" という用語はサーバーの機能の違いを表すものではありません。どちらも同等のサーバーです。 ここでは、フェ－ルオーバーについて説明するうえで両サーバーを区別するために、こうした用語を使用しています。

    ![](images/Cc527048.05fig5-3(ja-jp,TechNet.10).gif)

    **図 5.3: ワイヤレス AP ベースのフェールオーバーと負荷分散**

1 台の RADIUS サーバーがローカルで使用できるうえに、さらにリモートの RADIUS サーバーも使用可能な支社で、ワイヤレス AP ベースのフェールオーバー戦略を使用して負荷分散を行うには、ローカル RADIUS サーバーをプライマリ サーバーとして使用するように支社内のすべてのワイヤレス AP を構成する必要があります。 次に、リモート RADIUS サーバーをセカンダリ サーバーとして構成して、プライマリ サーバーの失敗時に使用できるようにします。

[![](images/Cc527048.05fig5-4(ja-jp,TechNet.10).gif)](https://technet.microsoft.com/ja-jp/cc527048.05fig5-4_big(ja-jp,technet.10).gif)

**図 5.4: リモート RADIUS サーバーによるワイヤレス AP ベースのフェールオーバーと負荷分散**

[拡大表示する](https://technet.microsoft.com/ja-jp/cc527048.05fig5-4_big(ja-jp,technet.10).gif)
支社のシナリオでは、サービスを復帰させたときに、ワイヤレス AP がプライマリ RADIUS サーバーにフェールバックできるようにしておきます。 そうでない場合は、RADIUS サービスのために不要なワイド エリア ネットワーク (WAN) を通過することがないように、ワイヤレス AP を手動で構成する必要があります。

**注 :** 各製品のフェールバックのサポート状況については、ハードウェア ベンダーに問い合わせてください。

支社の RADIUS サーバーはオプションです。代わりに、WAN 全体で中央 RADIUS サーバーを使用することも可能です。 ただし、ローカル RADIUS サーバーとドメイン コントローラーがない場合、WANに障害が発生したときに、事業所のユーザーはローカル WLAN にアクセスできなくなります。

このソリューションは、ワイヤレス AP ベースのサーバーのフェールオーバーと負荷分散のための手動構成を使用するように設計されています。 サーバーのフェールオーバーと負荷分散のために RADIUS プロキシを使用する RADIUS インフラストラクチャの計画の詳細については、「*Microsoft Windows Server2003 Deployment Kit*」の「Deploying**IAS」(英語)**の章を参照してください。 このリソースの参照先については、この章の最後を参照してください。

#### ログ要件を確立する

2 種類のオプション情報をログに記録するように IAS サーバーを構成することができます。

-   成功した認証イベントおよび拒否された認証イベント

-   RADIUS 認証とアカウント情報

WLAN へのアクセスを試行したデバイスとユーザーから生成された成功した認証イベントと拒否された認証イベントは、既定で IAS により Windows Server 2003 システム イベント ログに記録されます。 認証に関する問題に対してトラブルシューティングを行う際には、認証イベント ログ情報が非常に役に立ちます。ただし、この情報はセキュリティ監査および警告にも使用できます。

最初の段階では、**成功**および**拒否**イベントのログ記録オプションを有効にしておき、システムが安定したら、**成功**イベントのオプションを無効にしてください。 これは、システム イベント ログは成功した WLAN アクセス イベントですぐにいっぱいになってしまうためです。また、RADIUS 認証要求のログ記録オプションが有効になっている場合には、このオプションを使わなくてもセキュリティ上問題はありません。

エンタープライズ レベルの組織は、Microsoft Operations Manager (MOM) などの企業監視ツールを利用して、カスタム スクリプトを使ってシステム イベント ログ内の IAS イベントを処理することを検討してください。 たとえば、カスタムの MOM スクリプトは、拒否された認証の試行に関連する IAS イベントの増加を検知して、管理者に対応するように通知できます。

IAS には、RADIUS 要求ログの形式で認証およびネットワーク アクセス セッション情報を保存する機能も備えられています。 RADIUS 要求ログから次の情報を提供するためのオプションは、任意に有効または無効にすることができます。

-   アカウンティング要求 - たとえば、ネットワーク アクセス セッションの開始および終了を示すアカウンティング開始メッセージと終了メッセージ

-   認証要求 - たとえば、認証の試行の成功または失敗を示すアクセス受付メッセージまたはアクセス拒否メッセージ

-   定期的な状態 - たとえば、いくつかのネットワーク アクセス デバイスが送信した暫定的なアカウンティング要求

RADIUS 要求ログは、ネットワークの使用を基に計算された料金を顧客に請求するネットワーク サービス プロバイダなどの組織にとって有用な情報です。 ただし、RADIUS 要求ログはセキュリティの監視と監査にも使用できます。 特に、セキュリティ監査の担当者は、RADIUS 認証およびアカウンティング ログを使用して次の事項を決定します。

-   WLAN への許可されない認証の試行に関する詳細な情報

-   WLAN に対する許可された接続の期間

IAS は、テキストまたは Microsoft SQL Server™ 2000 データベースにログを記録します。 IAS での RADIUS 認証およびアカウンティング情報のテキストによるログ記録は、既定で無効になっています。 RADIUS のテキストによるログ記録を有効にする場合は、事前に次のことを行なう必要があります。

-   WLAN アクセス情報を追跡するための要件、および必要な詳細情報について、セキュリティ担当者に問い合わせる。

-   WLAN ユーザーから要求を負荷分散する際のサーバー ハードウェア要件 (ディスクおよび CPU) を把握するために、RADIUS テキスト ログの記録のラボ テストを実施する。 WLAN アクセスにより、他のネットワーク アクセス タイプより多くの情報が生成される可能性があります。

-   どの RADIUS 要求情報 (認証、アカウンティング、定期的な状態) が必要で、どの情報がオプションかを評価する。 WLAN アクセスによって、かなりの情報が生成され、ディスク領域がすぐになくなる可能性があります。

-   RADIUS 要求ログ情報のアクセス、格納、およびアーカイブ方法を決定する。 RADIUS 要求ログ情報は、各 IAS サーバーのハードディスク上にテキスト ファイルとして保存することも、SQL Server データベースに保存することも可能です。

RADIUS アカウンティグ ログを使用する必要のあるエンタープライズ レベルの組織は、IAS の SQL Server のログ記録機能を活用することを検討してください。 RADIUS アカウンティング情報は各 IAS サーバーの SQL Server Desktop Engine (MSDE) に記録した後に、中央の SQL Server クラスタに複製できます。 こうすることにより、RADIUS アカウンティング データが一元化され構造化されるため、クエリ、レポーティング、およびアーカイブを実行しやすくなります。 ローカル MSDE データベースへの SQL Server ログ記録を実行すると、ネットワーク上の問題により IAS がこの情報を記録できなくなり、アカウント情報に依存しているネットワーク アクセス要求が拒否される可能性もなくなります。

RADIUS 要求ログの定期的なクエリ、レポーティング、およびアーカイブを実行するための SQL Server 2000 またはスタッフを持たない組織は、セキュリティ上の問題の調査のためにこの情報を記録することを検討できます。 次の表に示すとおり、このソリューションでは、RADIUS のログ記録に関する設計上のいくつかの決定が下されています。 この表で、自社の環境の要件に適合する決定事項を確認してください。

**表 5.4: IAS ログ記録の設計上の決定事項**

<p> </p>
<table style="border:1px solid black;">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>IAS ログ記録の設計上の決定事項</p></th>
<th><p>コメント</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;"><p>「<em>Windows Server2003 セキュリティ ガイド</em>」に記載されている IAS グループ ポリシー テンプレートにあるシステム イベント ログのサイズは、IAS イベントを収容するために既定よりも大きくなっている。</p></td>
<td style="border:1px solid black;"><p>RADIUS 認証要求のログ記録のオプションを有効にしない場合、システム イベント ログは既定で WLAN アクセス セキュリティ イベントの主要な記録となる。 <strong>[必要に応じてイベントを上書きする]</strong> の既定の設定など、設定は慎重に検討する。この設定によっては、ログがいっぱいになると監査データが上書きされることになる。</p></td>
</tr>  
<tr class="even">
<td style="border:1px solid black;"><p>RADIUS 認証とアカウンティング要求のテキスト ファイルへのログ記録が有効になっている。</p></td>
<td style="border:1px solid black;"><p>これにより、IAS サーバー上に CPU 負荷およびディスク領域の要件が発生する。<br />
ログ記録が実行できない場合、IAS は認証とアカウンティング要求の受け付けを停止する。 そのため、ログ ファイル ディスクをいっぱいにするサービス拒否攻撃 (DoS) について考慮する必要がある。</p></td>
</tr>
<tr class="odd">
<td style="border:1px solid black;"><p>このガイダンスの IAS サーバーのハードウェア仕様には、独立した物理ディスク上にある独立したログ ファイル ディスク ボリュームが含まれる。</p></td>
<td style="border:1px solid black;"><p>これにより、RADIUS 要求のログ ファイルへの書き込み能力による RADIUS ネットワーク アクセス管理への影響を最小限に抑えることが保証される。 また、この決定により、ディスク ボリュームをいっぱいにするログ記録の原因となるイベントが、サーバーの回復力に影響しないことも保証される。</p></td>
</tr>  
<tr class="even">
<td style="border:1px solid black;"><p>RADIUS 認証およびアカウンティング項目のオプションが有効になっているが、定期的な状態のオプションは有効になっていない。</p></td>
<td style="border:1px solid black;"><p>これにより、認証状態やセッション時間を決定するのに必要な重要な情報だけを記録することが保証される。 定期的な状態のオプションは、ログ ファイルの要件を削減するために省略されている。 自社の環境でユーザー セッション時間の記録が重要となる場合は、定期的な状態のログを有効にするかどうかを検討する必要がある。</p></td>
</tr>  
<tr class="odd">
<td style="border:1px solid black;"><p>RADIUS 認証およびアカウンティング ログ ファイルのために ODBC (Open Database Connectivity) 互換のデータベース形式が選択されている。</p></td>
<td style="border:1px solid black;"><p>これにより、管理者は ODBC 互換データベースに容易にログ ファイルをインポートして、分析を実施できる。通常は、これが最善の方法と考えられている。 また、Windows Server 2003 サポート ツールの IASPARSE.EXE を使用してファイルを参照することもできる。</p></td>
</tr>  
<tr class="even">
<td style="border:1px solid black;"><p>新しいログ ファイルの作成間隔は、<strong>毎月</strong>に設定されている。</p></td>
<td style="border:1px solid black;"><p>生成するログ ファイルの数を減らすように作成間隔を選択すると、SQL Server のログ機能を使用していない場合のデータベースへのログ ファイルのインポートや IASPARSE.EXE を使用してのログ ファイルの参照が容易になる。 このオプションは、1 つのログ ファイルを使用してハードディスクに書き込みを行なうことのリスクとのバランスを考えて設定する必要がある。</p></td>
</tr>  
<tr class="odd">
<td style="border:1px solid black;"><p>RADIUS 要求のログ記録のオプションは、ディスクがいっぱいになったときには古いログ ファイルを最初に削除するように設定されている。</p></td>
<td style="border:1px solid black;"><p>この既定の設定によるリスクは、ログ ファイル ディスクがいっぱいになったときにセキュリティ情報が失われる可能性があるということである。 この設定は、ログ ファイルがいっぱいになったときに IAS サーバーが停止しないようにするために選択されている。<br />
サービスの可用性よりもセキュリティ ログの保存を優先したい場合は、この設定を無効にする。</p></td>
</tr>
</tbody>
</table>
<p> </p>

#### サーバーの集中または分散を選択する

集中 IAS サーバーまたは分散 IAS サーバーの使用の決定は、ある程度、組織の地域的な分散および組織の IT インフラストラクチャの展開戦略に基づいて行なわれます。 次の3 つの IT インフラストラクチャ戦略のなかで、最も自分の組織に適した戦略はどれかを検討してください。

-   集中 IT インフラストラクチャ

-   分散 IT インフラストラクチャ

-   混在 IT インフラストラクチャ

最近の多くの IT 組織では、IT インフラストラクチャを構成するコンポーネントの数を少しでも削減し、障害からの復旧が速く、より集中的なインフラストラクチャの実現に努めています。 この目標を達成するには、支社のユーザーが中央のユーザーと同じレベルの IT サービスを受けられるようにする、高速で復旧の速い WAN インフラストラクチャへの莫大な投資が必要になります。 この戦略の 1 つの長所は、分散サーバーのインフラストラクチャにかかる費用をネットワーク インフラストラクチャと帯域幅にかけることができる点です。 さらに、サーバー インフラストラクチャを熟練のデータ センター オペレータおよびエンジニアに近い場所に設置することで、可用性を高めることもできます。

高速で復旧性の高い WAN を備える組織内で IAS サーバーを集中化することで、802.1X WLAN ソリューションのコストを削減できます。 このようなタイプの IT インフラストラクチャ戦略を、エンタープライズ レベルの組織の RADIUS サーバー設計の出発点とする必要があります。 RADIUS プロトコルはネットワークの帯域幅をそれほど消費せず、WAN リンク全体で十分に機能します。 802.1X 認証の完了を待っている間に Dynamic Host Configuration Protocol (DHCP) などのプロトコルがタイムアウトする可能性についても検討する必要があります。 さらに、自社環境がネットワーク アクセスの決定に使用するユーザーとグループを含める IAS サーバーとドメイン コントローラ間に処理能力の高い接続を確保することが重要になります。 IAS サーバーと Active Directory 間の高速通信を確保することで、802.1X ネットワーキングに関係する多くの潜在的な問題を回避できます。

ただし、帯域幅、高度なネットワーク装置、および冗長 WAN 接続にかかる費用を考えると、一部の IT 組織では、集中 IT インフラストラクチャ モデルを使用できないのが現実です。 これらの組織では、代わりに、支社に分散されたサーバー インフラストラクチャによる集中 IT インフラストラクチャ以外のモデルを選択することになります。 このモデルは、WANに障害が発生した場合も途切れることのない IT サービスの提供を保証します。

IT インフラストラクチャ戦略の 3 番目のタイプは、組織で可能な限り IT インフラストラクチャを集中させ、必要に応じて分散させるというものです。 この戦略では、ハブを設置したユーザーおよびハブに接続している支社のユーザーに対してサービスを提供するために、IT インフラストラクチャの大部分をハブ設置内にグループ化できます。 同時に、このモデルでは、大勢のエンドユーザーが従事する支社へのサーバー インフラストラクチャの分散が可能になります。 次の図は、このような混在 IT インフラストラクチャ組織の一例を示しています。

[![](images/Cc527048.05fig5-5(ja-jp,TechNet.10).gif)](https://technet.microsoft.com/ja-jp/cc527048.05fig5-5_big(ja-jp,technet.10).gif)

**図 5.5: 集中 IT インフラストラクチャと分散 IT インフラストラクチャが混在した組織**

[拡大表示する](https://technet.microsoft.com/ja-jp/cc527048.05fig5-5_big(ja-jp,technet.10).gif)
このガイドのソリューションは、以下を提供することで、集中、非集中、混在サーバー インフラストラクチャの展開モデルに適合するように設計されています。

-   ローカルな要求とサーバー インフラストラクチャを備えていないオフィスからのその他の要求を処理できる 2 つの RADIUS サーバーを備えた大規模なハブ オフィスを構成するためのガイド

-   オプションの支社 RADIUS サーバーを備えた大規模な支社を構成するためのガイド

    **注 :** サーバー インフラストラクチャを備えていない小規模な支社では、WLAN へのアクセスは WAN の稼働率に依存します。

#### サーバーの台数と設置場所を決定する

独立した各 Active Directory フォレストには、フォレスト ユーザーおよびデバイスに対して RADIUS サーバーとして動作する最低 2 台の IAS サーバーが必要です。 これにより、RADIUS サーバーの 1 台が使用できなくなったときにもネットワーク アクセス要求が継続して処理されることが保証されます。

大勢のユーザーがいる本社は、2 台以上の RADIUS サーバーの設置場所の候補として最適です。 RADIUS サーバーを備えた複数のハブ設置間で高速の帯域幅が利用可能であれば、WAN 全体に配置された RADIUS サーバーにフェールオーバーするようにワイヤレス AP を構成できます。 ただし、WAN 全体で RADIUS サーバーを使用しようと計画するときは、自社環境において RADIUS サーバーとドメイン コントローラ間に適切なネットワーク リンクがあるかどうかを評価します。 ワイヤレス AP とクライアント コンピュータのタイムアウト値もテストして、必要に応じて AP パラメータを変更する必要があります。 最後に、フォレストのルート ドメインで RADIUS サーバーを見つけて、Kerberos 処理を最適化します。

ドメイン コントローラを保証するのに十分な規模があるが、復旧可能なハブへの WAN 接続を備えていない支社は、ローカル RADIUS サーバーの設置場所の候補となることができます。 組織で復旧可能な WAN を備えていない場合、支社の IAS サーバーの初期コストおよび運用コストと、WAN が使用できなくなった場合にワイヤレス ネットワークにアクセスできないワイヤレス ユーザーのコストを比較検討する必要があります。

#### IAS と他のサービスを同じ場所に配置させるかどうかを決定する

IAS と Active Directory ドメイン コントローラ間の通信は集中的なため、ドメイン コントローラと同じサーバーで IAS を実行することにより、パフォーマンスの向上を実現できます (これにより、ネットワーク上の通信に関連した遅延時間の問題を回避できます)。 ただし、ドメイン コントローラ上に IAS を配置した場合の潜在的な問題について慎重に検討する必要があります。 次の表に、必要な検討事項を詳細に説明します。

**表 5.5: IAS とドメイン コントローラを同じ場所に配置した場合の検討事項**

<p> </p>
<table style="border:1px solid black;">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th><p>IAS の場所</p></th>
<th><p>長所</p></th>
<th><p>短所</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;"><p>ドメイン コントローラと同じ場所</p></td>
<td style="border:1px solid black;"><p>– ユーザーおよびコンピュータの認証と承認のパフォーマンスが向上する。</p>
<p>– 必要となるサーバー ハードウェアが削減される。</p></td>
<td style="border:1px solid black;"><p>– IAS 管理者とドメイン管理者を切り離すことができない。</p>
<p>– 同じ場所に配置されたサービスのフォールトやパフォーマンスの問題を本質的に切り離すことができない。</p></td>
</tr>
<tr class="even">
<td style="border:1px solid black;"><p>ドメイン コントローラと異なる場所</p></td>
<td style="border:1px solid black;"><p>– IAS 管理者とドメイン管理者を切り離すことができる。</p>
<p>– IAS の負荷や動作が Active Directory サービスに影響しない。</p></td>
<td style="border:1px solid black;"><p>追加のサーバー ハードウェアが必要となる。</p></td>
</tr>  
</tbody>  
</table>
  
Active Directory ドメイン コントローラは、慎重な取り扱いが必要な重要な IT インフラストラクチャです。 多くのエンタープライズ組織は、ドメイン コントローラ上のソフトウェアやサービスの追加を抑えて、サービスの信頼性を最大限に高めるという方針を持っています。
  
多くのエンタープライズ レベルの組織では、RADIUS 管理者は Active Directory 管理者とは異なる仕事上の役割を担っています。 IAS は、Windows のオプション コンポーネントで、IAS 管理は本来 Windows のローカル Adoministrators とは切り離されていません。 そのため、IAS がドメイン コントローラにインストールされている場合、IAS 管理者は Domain Administrators セキュリティ グループのメンバです。
  
このソリューションでは IAS の Windows Server 2003 バージョンが必要です。 そのため、ドメイン コントローラを Windows Server 2003 にアップグレードする必要があります (まだアップグレードしていない場合)。 自社環境のドメイン コントローラを Windows 2000 Server から Windows Server 2003 にアップグレードする場合には、あらかじめ次の処理を検討する必要があります。
  
**表 5.6: Windows Server 2003 ドメイン コントローラに対して事前に必要な処理**

<p> </p>
<table style="border:1px solid black;">  
<colgroup>  
<col width="33%" />  
<col width="33%" />  
<col width="33%" />  
</colgroup>  
<thead>  
<tr class="header">  
<th><p>検討事項</p></th>  
<th><p>事前に必要な処理</p></th>  
<th><p>説明</p></th>  
</tr>  
</thead>  
<tbody>  
<tr class="odd">
<td style="border:1px solid black;"><p>Windows Server 2003 ドメイン コントローラは既定で、Server Message Block (SMB) の署名と暗号化、またはセキュリティで保護されたチャネルでの通信への署名が必要となる。 この要件のため、以前のバージョンの Windows ベース クライアントの一部で問題が生じる可能性がある。</p></td>
<td style="border:1px solid black;"><p>自社環境のクライアント コンピュータをすべて、最低でも Active Directory クライアントを持つ Microsoft Windows 95、または Microsoft Windows NT 4.0 Service Pack 4 (SP4) 以降にアップグレードする。</p></td>
<td style="border:1px solid black;"><p>詳細については、この章の最後の「関連情報」に記載されている「<em>Windows</em> <em>Server</em> <em>2003 ヘルプとサポート センター</em>」を参照してください。</p></td>
</tr>  
<tr class="even">
<td style="border:1px solid black;"><p>Windows Server 2003 ドメイン コントローラは、既定で、セキュリティで保護されたチャネルへの署名と暗号化が必要となる。 SP4 を適用せずに Windows NT 4.0 を実行しているドメイン内のサーバーでは、この要件がドメイン間信頼に支障を来たす可能性がある。</p></td>
<td style="border:1px solid black;"><p>レガシー ドメインのすべてのドメイン コントローラを、Windows NT Server 4.0 SP4 以降にアップグレードする。</p></td>
<td style="border:1px solid black;"><p>詳細については、この章の最後の「関連情報」に記載されている「<em>Windows Server</em> <em>2003 ヘルプとサポート センター</em>」を参照してください。</p></td>
</tr>  
<tr class="odd">
<td style="border:1px solid black;"><p>Windows Server 2003 ドメイン コントローラでは、インストール前に、Active Directory フォレストおよびドメインの準備が必要になる。</p></td>
<td style="border:1px solid black;"><p>自社環境のドメイン コントローラを Windows Server 2003 にアップグレードする前に、ADPrep ユーティリティを使用して新しいフォレストを準備する。</p></td>
<td style="border:1px solid black;"><p>これによる部分的な属性セット (PAS) への影響はなく、グローバル カタログ サーバーが再構築されることはない。</p></td>
</tr>  
</tbody>  
</table>
  
このソリューションは、必要に応じて IAS と Active Directory をドメイン コントローラと同じ場所に配置できるように構成されています。 このソリューションは、ハブ設置内のコントローラから切り離され、支社の Windows Server 2003 ドメイン コントローラと同じ場所に配置された IAS を使用してテストされました。
  
#### RADIUS サーバーの負荷を見積もる
  
IAS は中程度のサーバー ハードウェアで十分に機能し、ハードウェアを追加して拡張したり、RADIUS サーバー グループを使用して調整することが可能です。 とはいえ、サーバーのリソースが制約され、サービスの可用性に影響を及ぼすことがないように、IAS サーバー上で WLAN クライアントにかかる負荷を前もって見積もるのが最適な方法です。
  
最適な設計を行うには、復旧に必要な最低限のサーバー数を含めながら、将来の拡張に備えて余裕を持たせることが必要です。 ワイヤレス AP ベースの負荷分散モデルで使用するためにサーバー ハードウェアを選択するときには、将来の拡張に備えて余裕を持たせることが特に重要になります。 ワイヤレス AP ベースの負荷分散から RADIUS プロキシベースの負荷分散へと移行する際には、必要なサーバーの台数が 2 台から 5 台に変わる可能性があります (既存の RADIUS サーバーが最大容量に達した場合)。
  
IAS サーバーの負荷についての留意事項を次に示します。
  
-   認証とアカウンティングを必要とするユーザーおよびデバイスの数
  
-   拡張認証プロトコル (EAP) のタイプおよび再認証の頻度などの認証オプション
  
-   ログ記録や IAS ソフトウェア追跡などの RADIUS オプション
  
IAS サーバーの負荷を見積もるには WLAN アクセスを必要とするユーザーおよびデバイスの数を見積もることが必要です。 組織によっては、WLAN の使用を重役などのユーザー ポピュレーションのサブセットに制限するものもあれば、WLAN アクセスをすべてのユーザーに提供するものもあります。 組織がどの戦略を採用するかに関係なく、WLAN を使用可能なユーザーおよびデバイスすべてが短時間に認証と承認を要求するという "最悪" のシナリオを見積もる必要があります。 これを見積もれば、オフィスでの使用率が最も高い時間帯や重大なネットワーク障害による停止直後などの大きな負荷がかかる期間に適応できるように IAS のサイズを決定できます。
  
どの WLAN 認証オプションを選ぶかは、IAS サーバーの負荷に大きく影響します。 EAP-TLS などの証明書ベースのプロトコルは、最初のログオンで CPU を消費する公開キー操作を実行しますが、その後の各ログオンでは "高速再接続" と呼ばれるキャッシュされた資格情報戦略を、キャッシュの有効期限が切れるまで (既定では 8 時間) 使用します。 ワイヤレス クライアントが、ある IAS サーバーに対して認証を行う AP から別の IAS サーバーに対して認証を行う AP に切り替わる際には、常に完全な再認証が行われます (たとえば、クライアントがビルの中を移動するときなど)。 この移動再認証は、各クライアントと IAS サーバーとの間で 1 回だけ行なわれ、EAP-TLS が使用されるときにはエンド ユーザーにはわかりません。
  
802.11 WEP セッション暗号化キーを更新する方法として、ワイヤレス クライアントに RADIUS サーバーとの再認証を強制することも可能です。 一部のワイヤレス AP モデルには、クライアントが定期的に RADIUS サーバーを再認証しなくても、スケジュールに従って WEP セッション キーの更新を実行する機能が組み込まれています。 こうした機能はベンダ固有です。 WiFi Protected Access (WPA) 標準には、拡張暗号化機能とキー管理機能が含まれ、セッション キー更新のための強制的な再認証を減らすことができます。
  
したがって、各 IAS サーバーが行なう認証回数のためのモデルを構築する際には、次の表に示すさまざまなタイプの認証動作を検討してください。
  
**表 5.7: EAP–TLS 認証動作**

<p> </p>
<table style="border:1px solid black;">  
<colgroup>  
<col width="50%" />  
<col width="50%" />  
</colgroup>  
<thead>  
<tr class="header">  
<th><p>認証の種類</p></th>  
<th><p>コメント</p></th>  
</tr>  
</thead>  
<tbody>  
<tr class="odd">
<td style="border:1px solid black;"><p>最初のコンピュータ認証</p></td>
<td style="border:1px solid black;"><p>クライアントはIAS との完全認証を実行する。</p></td>
</tr>  
<tr class="even">
<td style="border:1px solid black;"><p>最初のユーザー認証</p></td>
<td style="border:1px solid black;"><p>クライアントはIAS との完全認証を実行する。</p></td>
</tr>  
<tr class="odd">
<td style="border:1px solid black;"><p>ワイヤレス AP 間の移動時のユーザー再認証</p></td>
<td style="border:1px solid black;"><p>クライアントは、各 IAS サーバーで 1 回完全認証を実行し、追加の認証では高速再接続を使用する。</p></td>
</tr>  
<tr class="even">
<td style="border:1px solid black;"><p>ワイヤレス AP 間の移動時のデバイス再認証</p></td>
<td style="border:1px solid black;"><p>クライアントは、各 IAS サーバーで 1 回完全認証を実行し、追加の認証では高速再接続を使用する。</p></td>
</tr>  
<tr class="odd">
<td style="border:1px solid black;"><p>スケジュールされたコンピュータ再認証</p></td>
<td style="border:1px solid black;"><p>クライアントは IAS とのキャッシュされた認証を使用する。</p></td>
</tr>  
<tr class="even">
<td style="border:1px solid black;"><p>スケジュールされたユーザー再認証</p></td>
<td style="border:1px solid black;"><p>クライアントは IAS とのキャッシュされた認証を使用する。</p></td>
</tr>  
</tbody>  
</table>
  
IAS で対応できる認証数の概算値を表わす方法としては、1 秒あたりの認証数が最適です。 IAS は、Intel Pentium 4 2 GHz CPU を搭載し、Active Directory 機能を持つ Windows Server 2003 を実行しているコンピュータで、次の数値を達成することができます。
  
**重要 :** ただし、次の表に示された数値は何ら保証されたものではないので、容量計画を立てるためのガイドラインとしてのみ使用し、パフォーマンスの比較に使用しないでください。
  
**表 5.8: 1 秒あたりの認証数**

<p> </p>
<table style="border:1px solid black;">  
<colgroup>  
<col width="50%" />  
<col width="50%" />  
</colgroup>  
<thead>  
<tr class="header">  
<th><p>認証の種類</p></th>  
<th><p>1 秒あたりの認証数</p></th>  
</tr>  
</thead>  
<tbody>  
<tr class="odd">
<td style="border:1px solid black;"><p>新規 EAP–TLS 認証</p></td>
<td style="border:1px solid black;"><p>36</p></td>
</tr>  
<tr class="even">
<td style="border:1px solid black;"><p>オフロード カード サポートを使用する新しい EAP–TLS 認証</p></td>
<td style="border:1px solid black;"><p>50</p></td>
</tr>  
<tr class="odd">
<td style="border:1px solid black;"><p>高速再接続による認証</p></td>
<td style="border:1px solid black;"><p>166</p></td>
</tr>  
</tbody>  
</table>
  
IAS は、さまざまな量の RADIUS 要求情報を含めたディスクベースのテキスト ログを生成するように構成できます。 RADIUS サーバー上での RADIUS ログ記録のオーバーヘッドを考慮して、RADIUS ログの保存にはパフォーマンスの高いディスクの使用を計画してください。 ディスク サブシステムの処理能力が低いと、IAS RADIUS によるワイヤレス AP への応答が遅くなり、プロトコル タイムアウトやセカンダリ RADIUS サーバーに対するワイヤレス AP の不必要なフェールオーバーが発生する可能性があります。
  
さらに、Windows 2003 Server ソフトウェアのトレース機能を有効にすると、IAS サーバーに負荷がさらにかかります。 ただし、この機能はネットワーク アクセスに関する問題を解決する際に必要になる場合があります。 したがって、IAS サーバーは、一定期間トレース機能を有効にして動作させても運用上の負荷を処理できる容量を備えるようにしてください。
  
#### サーバーのハードウェア要件を見積もる
  
IAS サーバーのハードウェアは、[Windows Server カタログ](http://www.windowsservercatalog.com/) (英語) から選択してください。 Windows Server 2003 と互換性のあるサーバー ハードウェアをカタログから選択すると、未テストのハードウェアやデバイス ドライバによって発生する信頼性および互換性上の問題を避けることができます。
  
IAS サーバーが、Windows Server 2003 の推奨ハードウェア要件に適合していることを確認してください。 Active Directory など、システムで実行される可能性のあるその他のサービスについても考慮する必要があります。 各サーバーで想定される認証の負荷が倍増しても耐えられる IAS サーバー ハードウェアの使用を検討してください。 こうしてサーバーの容量を調整することで、サーバーのフェールオーバー シナリオや異常なネットワークの状態を確実に処理するための適切なサーバー リソースを確保できます。
  
次の図では、Woodgrove Bank という架空の会社向けのサーバー レイアウトを使用して、IAS ベースの RADIUS サーバーの設計例を示しています。 この図は、この会社で予想されるユーザー分布と負荷に対して必要となる IAS サーバーの設置場所および台数を示しています。 ただし、このガイドでは、このインフラストラクチャのサブセットのみをテストしました (ロンドンのハブとヨハネスブルクの地区営業所を使用)。
  
**注 :** Woodgrove Bank は中規模から大規模の組織を代表する架空の会社です。 このソリューションの実装のためのさまざまな設計上の決定は、この会社のネットワーク アーキテクチャと特徴に基づいて行なわれています。
  
[![](images/Cc527048.05fig5-6(ja-jp,TechNet.10).gif)](https://technet.microsoft.com/ja-jp/cc527048.05fig5-6_big(ja-jp,technet.10).gif)
  
**図 5.6: Woodgrove Bank のユーザー、ワイヤレス AP、および IAS サーバーの分布**
  
[拡大表示する](https://technet.microsoft.com/ja-jp/cc527048.05fig5-6_big(ja-jp,technet.10).gif)  
このソリューションは、本社に 2 台の RADIUS サーバーを設置して、6,742 人のユーザーに対応するように設計されました。 ユーザーの約 50% のみがワイヤレス接続可能なユーザーであるため、ピーク時には 3,371 人のユーザーとそのユーザーに割り当てられたデバイスが 2 台の RADIUS サーバーに対して EAP-TLS を使用して認証を行ないます。 各サーバーは、30 分間のピーク ログイン期間にわたって 3,371 の認証を処理できます。 ピーク ログイン期間の負荷として、1 秒あたり約 2 回の新規 EAP-TLS 認証を行うとしています。サーバーのフェールオーバー時には、1 秒あたり 4 回の新規認証を完了できる能力があります。
  
サーバーは、RADIUS 認証とアカウンティング要求のログをテキスト ファイルに記録するよう構成されます。 このサーバーは RADIUS 専用のサーバーです。ドメイン コントローラ サービスは他のサーバーに配置されています。  VPN、ワイヤード ネットワーク、ダイヤルアップ アクセスなど、将来的に必要になるであろうネットワーク アクセス制御の要件に適応できるよう、RADIUS サーバー ハードウェアの仕様には意図的に余分な容量を組み込みました。
  
次の表は、このソリューションのテストで使用した IAS サーバーの詳細を示しています。
  
**表 5.9: テスト済みのサーバーのハードウェア**

<p> </p>
<table style="border:1px solid black;">  
<colgroup>  
<col width="50%" />  
<col width="50%" />  
</colgroup>  
<thead>  
<tr class="header">  
<th><p>リソース</p></th>  
<th><p>構成</p></th>  
</tr>  
</thead>  
<tbody>  
<tr class="odd">
<td style="border:1px solid black;"><p>CPU</p></td>
<td style="border:1px solid black;"><p>Dual CPU Pentium III 850 MHz</p></td>
</tr>  
<tr class="even">
<td style="border:1px solid black;"><p>RAM</p></td>
<td style="border:1px solid black;"><p>512 MB</p></td>
</tr>  
<tr class="odd">
<td style="border:1px solid black;"><p>ネットワーク インターフェイス カード (NIC)</p></td>
<td style="border:1px solid black;"><p>障害時に備えて 2 枚の NIC</p></td>
</tr>  
<tr class="even">
<td style="border:1px solid black;"><p>ハードディスク</p></td>
<td style="border:1px solid black;"><p>– 9 GB ハード ディスク 2 台で RAID 1 を構成 (ボリューム C)、オペレーティング システム用<br />
– 18 GB ハード ディスク 2 台で RAID 1 を構成 (ボリューム D)、ログ ファイルおよび構成データ用</p></td>
</tr>
</tbody>
</table>
<p> </p>

IAS サーバーのハードウェア要件は環境により異なります。 自分の組織の状況に合わせて要件を判断してください。

#### サーバーのソフトウェア要件を決定する

自分の環境の IAS サーバーには、Windows Server 2003 Standard Edition と Enterprise Edition のどちらが必要なのかを決定する必要があります。 Windows Server 2003 Standard Edition では、50 RADIUS クライアント (たとえば、ワイヤレス AP) と 2 つのサーバー ルーティング グループまでサポート可能です。

このソリューションは、ハブ オフィスの RADIUS サーバーについては Windows Server 2003 Enterprise Edition を使用してテストされ、支社の RADIUS サーバーについては Windows Server 2003 Standard Edition を使用してテストされました。 ただし、このソリューションは、前述の制限があっても、どちらのバージョンを使用した場合でも同じように問題なく機能します。

組織内の標準によっては、次のように、他のソフトウェア コンポーネントが必要になる場合があります。

-   バックアップ エージェント

-   MOM または Microsoft Systems Management Server (SMS) クライアント コンポーネントなどの管理エージェント

-   ウイルス対策ソフトウェア

-   侵入検出エージェント

[](#mainsection)[ページのトップへ](#mainsection)

### 管理計画を立てる

IAS ベースの RADIUS サーバーは、比較的少ない継続保守で、途切れることのないサービスの可用性およびネットワーク セキュリティが保証されます。 ただし、RADIUS インフラストラクチャを管理するための適切なスタッフが訓練され、配備されるように、WLAN プロジェクトの開始時には、IAS 管理戦略を決定する必要があります。

#### 変更および構成管理

サービスの可用性とネットワーク セキュリティを確保にするには、IAS サーバー上に既知の状態を維持することが重要になります。 IAS では、**netsh** コマンドを使用して、さまざまなサーバー構成要素に対するトランザクション変更をネイティブに実行し、変更により予期しない動作が発生した場合には容易にロールバックできます。

**netsh** コマンドを使用すると、IAS 構成のすべてまたは一部をテキスト ファイルにエクスポートおよびインポートできます。 これらのファイルを使って、IAS サーバー間で設定を複製できます。この機能により、大規模な環境での構成変更の展開をより迅速に行なうことができます。

適切な変更および構成管理に必要なタスクの一覧は、「第 12 章 : RADIUS およびワイヤレス LAN のセキュリティ インフラストラクチャを管理する」に記載されています。

#### サービスの復元を計画する

障害発生時に RADIUS サービスを迅速に復旧できるようにするには、事前に細心の計画を立てておく必要があります。 このガイドで提供しているインストール スクリプトを使用すれば、IAS のインストールと構成を合理化できます。また、**netsh** スクリプトを使用すれば、IAS 構成の状態を迅速に復元するのに必要な手順を簡単に自動化できます。 サービス復元のタスクの詳細については、「第 12 章 : RADIUS およびワイヤレス LAN のセキュリティ インフラストラクチャを管理する」を参照してください。

#### 管理アクセス許可を計画する

IAS は、Windows Server 2003 オペレーティング システムのオプション コンポーネントであるため、ローカル サーバーの管理セキュリティ モデルから切り離された、独立した管理セキュリティ モデルを必要としません。 IAS 管理をローカル サーバーの Administrators から完全に切り離すことはできません。 カスタムな展開なしでも、ある程度の分離は実現できます。セキュリティで保護された Web アプリケーションの作成などのカスタムな展開では、ローカル サーバー管理アクセス許可を持つ最小権限のアカウントを使用して、IAS 構成を変更できます。

ただし、必要最小限の権限モデルを実現するには、要求される管理の種類や、さまざまな IAS リソースへのアクセス要件を計画することがやはり重要になります。 次の表には、IAS サーバーに関連する役割とタスクの例が含まれます。

**表 5.10: IAS 役割の説明とタスク**

<p> </p>
<table style="border:1px solid black;">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th><p>スタッフの役割</p></th>
<th><p>役割の説明</p></th>
<th><p>タスク</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;"><p>IAS 管理者 (IAS Administrators)</p></td>
<td style="border:1px solid black;"><p>IAS サービスおよび IAS 構成の管理などの日常的な IAS 管理タスクを実施する。</p></td>
<td style="border:1px solid black;"><p>IAS サービスの開始、停止、クエリ、構成を実行して、IAS 構成データベースを変更する。</p></td>
</tr>  
<tr class="even">
<td style="border:1px solid black;"><p>IAS セキュリティ監査人 (IAS Security Auditors)</p></td>
<td style="border:1px solid black;"><p>管理アクセス許可を持たないセキュリティ監査人がセキュリティ情報にアクセスできるようにする。</p></td>
<td style="border:1px solid black;"><p>セキュリティ イベントに対する RADIUS アカウントおよび認証ログ ファイルを確認する。</p>
<p>RADIUS 認証要求ログが無効の場合、IAS セキュリティ監査人は、IAS 関連のセキュリティ イベントに対するシステム イベント ログ エントリを検証および保存する必要がある。 このために、追加のアクセス許可が必要になることがある。</p></td>
</tr>
<tr class="odd">
<td style="border:1px solid black;"><p>IAS バックアップ オペレータ (IAS Backup Operators)</p></td>
<td style="border:1px solid black;"><p>バックアップ オペレータが IAS サーバーの定期的なバックアップを行なえるようにする。 バックアップには、IAS 構成状態データと履歴データが含まれる。</p></td>
<td style="border:1px solid black;"><p>IAS サーバーの毎日、毎週、毎月のバックアップを管理する。</p></td>
</tr>  
<tr class="even">
<td style="border:1px solid black;"><p>WLAN ヘルプデスク スタッフ (WLAN Helpdesk Staff)</p></td>
<td style="border:1px solid black;"><p>ユーザーによる WLAN アクセス関連の問題の解決を支援するスタッフ</p></td>
<td style="border:1px solid black;"><p>ユーザーおよびデバイス認証に関連するシステム イベント ログ内の IAS イベントを確認する。または、イベントが別のシステムに複製されるのを表示する。</p></td>
</tr>  
</tbody>  
</table>
  
次の表は、さまざまな IAS サーバー タスクを実行するのに必要なリソース アクセス許可の詳細を示したものです。
  
**表 5.11: IAS サーバー タスクの実行に必要なアクセス許可**

<p> </p>
<table style="border:1px solid black;">  
<colgroup>  
<col width="33%" />  
<col width="33%" />  
<col width="33%" />  
</colgroup>  
<thead>  
<tr class="header">  
<th><p>タスク</p></th>  
<th><p>グループ メンバシップ</p></th>  
<th><p>必要なアクセス許可または権利</p></th>  
</tr>  
</thead>  
<tbody>  
<tr class="odd">
<td style="border:1px solid black;"><p>IAS サービスの停止、開始、クエリ、構成</p></td>
<td style="border:1px solid black;"><p>IAS Admins ドメイン グローバル グループ。IAS サーバー上のローカル Administrators グループのメンバ</p></td>
<td style="border:1px solid black;"><p>SC コマンドを使用して、Windows Server 2003 のサービス許可を修正できる。 オペレーティング システム コンポーネントの既定のアクセス許可を変更する場合は、事前にマイクロソフトのサポート担当者に相談すること。</p></td>
</tr>  
<tr class="even">
<td style="border:1px solid black;"><p>IAS 構成の変更</p></td>
<td style="border:1px solid black;"><p>IAS Admins ドメイン グローバル グループ。IAS サーバー上のローカル Administrators グループのメンバ</p></td>
<td style="border:1px solid black;"><p>C:\WINDOWS\system32\ias ディレクトリに置かれた IAS データベース ファイル、および <strong>HKLM\System\CurrentControlSet\Services</strong> の下にある各種レジストリ キー使用のためのアクセス許可が必要になる。</p>
<p>既定では、これらのアクセス許可は、ローカル/ビルトイン Administrators セキュリティ グループのメンバに付与される。</p></td>
</tr>
<tr class="odd">
<td style="border:1px solid black;"><p>IAS サーバーにある RADIUS 要求ログへのアクセス</p></td>
<td style="border:1px solid black;"><p>IAS Security Auditors ドメイン グローバル グループ</p></td>
<td style="border:1px solid black;"><p>IAS 監査人は、D:\IASLogs ディレクトリに置かれた RADIUS 要求ログ ファイルの読み込みと削除が可能である必要がある。 このソリューションの構築ガイドでは、このディレクトリの NTFS Change アクセス許可を IAS Security Auditors セキュリティ グループに付与し、IAS Security Auditors セキュリティ グループに付与された Change 共有アクセス許可で IASLogs という名前の共有を作成する。</p></td>
</tr>  
<tr class="even">
<td style="border:1px solid black;"><p>システム イベント ログからの IAS セキュリティ イベントの読み取りと保存</p></td>
<td style="border:1px solid black;"><p>ローカル Administrators<br />
または<br />
IAS サーバーの Backup Operators</p></td>
<td style="border:1px solid black;"><p>このソリューションでは、ディスク上のテキスト ファイルへの RADIUS 認証ログ記録を有効にするガイドを提供する。 このため、IAS 監査人は、通常、RADIUS 認証セキュリティ イベントを確認するために IAS システム イベント ログにアクセスする必要がない。<br />
ただし、RADIUS 認証ログ記録が無効の場合は、IAS セキュリティ監査人はシステム イベント ログから IAS イベントを読み込み、保存する必要がある。 システム イベント ログをアーカイブするには、Administrator または Backup Operators メンバシップが必要になる。</p></td>
</tr>
<tr class="odd">
<td style="border:1px solid black;"><p>IAS サーバーの毎日、毎週、毎月のバックアップの実施</p></td>
<td style="border:1px solid black;"><p>IAS サーバーの Backup Operators</p></td>
<td style="border:1px solid black;"><p>IAS 構成状態や RADIUS 要求ログなどの履歴データも含め、IAS サーバーをバックアップする。 Backup Operators セキュリティ グループのメンバは、%systemroot%\system32\ias ディレクトリに置かれた IAS データベース ファイル、<strong>HKLM\System\CurrentControlSet\Services</strong> の下の各種レジストリ キー、および D:\IASConfig にある IAS <strong>NETSH</strong> 構成テキスト ファイルへのアクセスが許可される。</p></td>
</tr>  
<tr class="even">
<td style="border:1px solid black;"><p>トラブルシューティングのためのシステム イベント ログの IAS 認証イベントの確認</p></td>
<td style="border:1px solid black;"><p>システム イベント ログの読み取りアクセス許可を持つグループ メンバシップ</p></td>
<td style="border:1px solid black;"><p>シニア トラブルシューティング スタッフには、IAS 認証拒否イベントを参照および解釈するための、Windows Server 2003 システム イベント ログの読み取りアクセス許可が付与される必要がある。</p></td>
</tr>  
</tbody>  
</table>
  
#### セキュリティの監視と監査
  
IAS はセキュリティ インフラストラクチャのコンポーネントで、予防的な監視を行う必要があります。 セキュリティ業界の調査によれば、一般に、成功した攻撃の前には不成功な攻撃が何度も繰り返されることがわかっています。 ネットワークがいつ攻撃されているのかを把握するには、IAS サーバーおよび関連ログを調べて、疑わしい動作がないかどうかを確認する予防的なセキュリティ監視を行なう必要があります。
  
次の表に、自社の IAS サーバー インフラストラクチャで監視する必要がある脅威を一覧します。
  
**表 5.12: IAS サーバー インフラストラクチャの脅威**

<p> </p>
<table style="border:1px solid black;">  
<colgroup>  
<col width="33%" />  
<col width="33%" />  
<col width="33%" />  
</colgroup>  
<thead>  
<tr class="header">  
<th><p>脅威/脆弱性</p></th>  
<th><p>兆候</p></th>  
<th><p>監視ツール</p></th>  
</tr>  
</thead>  
<tbody>  
<tr class="odd">
<td style="border:1px solid black;"><p>盗まれた資格情報 (たとえば、消失した、または盗まれたポータブル コンピュータ内にあった情報) を使用した認証の試行</p></td>
<td style="border:1px solid black;"><p>失効された資格情報の使用の試みを示すシステム イベント ログや RADIUS 認証要求ログ内の認証の成功/拒否イベント (ソース: IAS、ID 1 および 2)</p></td>
<td style="border:1px solid black;"><p>– 失効した資格情報の使用を検索する目的で、イベント ログ エントリを解析するために書かれたカスタム スクリプトを使用した MOM<br />
– 失効した資格情報の使用を検索するためのファイル解析スクリプトまたは SQL Server ツール</p></td>
</tr>
<tr class="even">
<td style="border:1px solid black;"><p>不正なワイヤレス AP を使用して実行された man-in-the-middle 攻撃の試行</p></td>
<td style="border:1px solid black;"><p>不正な認証 (不正なメッセージ認証属性) または無効な要求 (未知の RADIUS クライアントまたはサーバーから受信した要求) など、過度に発生したインスタンスを示す IAS サーバー上のシステム モニタ カウンタ</p></td>
<td style="border:1px solid black;"><p>これらのシステム モニタ カウンタを検出して、警告を発生させるカスタム スクリプトを使用した MOM</p></td>
</tr>  
<tr class="odd">
<td style="border:1px solid black;"><p>IAS サーバー サービスに対する DoS またはバッファ オーバーフローの試行</p></td>
<td style="border:1px solid black;"><p>誤った形式のパケット (誤った形式のデータを含むパケット)、未知の種類 (RADIUS 以外のパケットの受信)、または欠落したパケット (不正な MAC、誤った形式、未知以外の欠落したパケット) の過度に発生したインスタンスを示す、IAS サーバー上のシステム モニタ カウンタ</p></td>
<td style="border:1px solid black;"><p>これらのシステム モニタ カウンタを検出して、警告を発生させるカスタム スクリプトを使用した MOM</p></td>
</tr>  
<tr class="even">
<td style="border:1px solid black;"><p>承認されていない認証の試行</p></td>
<td style="border:1px solid black;"><p>システム イベント ログ内で繰り返される認証の失敗イベント (ソース: IAS、ID 2)</p></td>
<td style="border:1px solid black;"><p>– 過度な認証拒否のパターンを調べる目的で、イベント ログ エントリを解析するための MOM カスタム スクリプト<br />
– 過度な認証拒否のパターンを特定するためのファイル解析スクリプトまたは SQL Server ツール</p></td>
</tr>
<tr class="odd">
<td style="border:1px solid black;"><p>盗まれた資格情報を使用して成功した認証</p></td>
<td style="border:1px solid black;"><p>疑いのあるネットワーク活動を示す RADIUS アカウンティング ログ</p></td>
<td style="border:1px solid black;"><p>– ログをインポートして、カスタム クエリを実行する Microsoft Access<br />
– SQL Server データベースに保存された異常なネットワーク アクセス情報を特定するためのレポート</p></td>
</tr>
</tbody>
</table>
<p> </p>

基本的なセキュリティ監視以外にも、マイクロソフトでは IAS サーバーを定期的に監査して潜在的なセキュリティの問題を把握したり、監視技術を用いて自社のネットワーク インフラストラクチャで発見される脆弱性を明確に定義し、軽減するよう、推奨しています。

次の表に、IAS サーバー インフラストラクチャの潜在的な脅威と、自社の IAS インフラストラクチャのセキュリティ問題を監査するための技術の詳細を示します。

**表 5.13: 予防的な監査の対象となる IAS サーバー インフラストラクチャの脅威**

<p> </p>
<table style="border:1px solid black;">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th><p>脅威/脆弱性</p></th>
<th><p>兆候</p></th>
<th><p>監査ツール</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;"><p>IAS 構成および履歴データに対する不十分なアクセス許可</p></td>
<td style="border:1px solid black;"><p>IAS Admins グループ、IAS Security Auditors、または Local Administrators グループの承認されていないメンバ</p></td>
<td style="border:1px solid black;"><p>SomarSoft の DumpSec などの Active Directory およびローカル セキュリティ グループ監査ツール</p></td>
</tr>  
<tr class="even">
<td style="border:1px solid black;"><p>成功しなかった認証を隠そうとする試み</p></td>
<td style="border:1px solid black;"><p>システム イベント ログが予期しないときに消去される</p></td>
<td style="border:1px solid black;"><p>– <em>Windows Server2003 リソース キット</em>の EventcombMT などのツールを使用した Windows イベント ログ監査</p>
<p>– MOM などのイベント ログ監視および警告ツール</p></td>
</tr>
<tr class="odd">
<td style="border:1px solid black;"><p>RADIUS アカウントの監査および認証ログへの承認されていない変更</p></td>
<td style="border:1px solid black;"><p>予期していないユーザー ID による書き込み成功がフォルダ監査ログに記録される。</p></td>
<td style="border:1px solid black;"><p>MOM などの Windows ファイル監査および監視ツール 承認されていないファイルの変更を検出するには、ファイルの監査を有効にする必要がある。</p></td>
</tr>  
</tbody>  
</table>
  
[](#mainsection)[ページのトップへ](#mainsection)
  
### 要約
  
この章では、802.1X ベースのセキュリティで保護されたワイヤレス ネットワークをサポートする RADIUS インフラストラクチャの設計プロセスについて説明しました。 この章で説明した RADIUS インフラストラクチャの設計は、今後の幅広い要件に対応できるだけの柔軟性を備えています。 このインフラストラクチャの設計は、他のタイプのネットワーク アクセス管理にも使用できます。
  
この章で説明した設計は、以降の章でも RADIUS インフラストラクチャの実装に使用されています。 次の章では、汎用の RADIUS 設計についてさらに詳しく説明し、WLAN セキュリティ インフラストラクチャの残りのコンポーネントを実装するために必要な 802.1X の設定と WLAN インフラストラクチャについて説明します。
  
#### 関連情報
  
IAS の詳細については、次のリソースを参照してください。
  
-   「[Windows Server 2003 製品サポート](http://technet2.microsoft.com/windowsserver/en/library/7cb7e9f7-2090-4c88-8d14-270c749fddb51033.mspx)」の Web サイト http://technet2.microsoft.com/windowsserver/en/library/7cb7e9f7-2090-4c88-8d14-270c749fddb51033.mspx (英語)
  
-   製品ドキュメントには、IAS 機能の概要、構成の基本手順、および展開のベスト プラクティスが記載されています。
  
-   「[*Windows Server 2003 Technical Reference*](http://www.microsoft.com/windows/reskits/default.asp)」と「[*Windows Server 2003 Deployment Kit*](http://www.microsoft.com/windows/reskits/default.asp)」http://www.microsoft.com/windows/reskits/default.asp (英語)
  
-   「*Windows Server* *2003 Technical Reference」*の「[IAS Technical Reference](http://technet2.microsoft.com/windowsserver/en/library/8f5c89d5-fdaf-430c-9ef4-318f8c15baf11033.mspx)」の章 http://technet2.microsoft.com/windowsserver/en/library/8f5c89d5-fdaf-430c-9ef4-318f8c15baf11033.mspx (英語)
  
-   「Windows Server 2003 Technical Reference」のこの章には、製品ドキュメントよりも包括的な IAS に関する技術情報が記載されています。より詳細な情報が必要な際に参照してください。
  
-   「[*Microsoft Windows Server 2003 Deployment Kit*](http://www.microsoft.com/windowsserver2003/techinfo/reskit/deploykit.mspx)」http://www.microsoft.com/windowsserver2003/techinfo/reskit/deploykit.mspx (英語) の「*Deploying Network Services*」ガイドの「Deploying IAS」の章
  
-   「Microsoft Windows Server 2003 Deployment Kit」(英語) のこの章には、IAS を使用する展開方法が、このセキュリティ保護されたワイヤレス ネットワーク ガイドの範囲からは逸脱しますが設計決定に影響する各種シナリオで説明されています。
  
802.1X WLAN テクノロジの詳細については、次を参照してください。
  
-   Microsoft TechNet のホワイト ペーパー「[Windows XP Wireless Deployment Technology and Component Overview](http://www.microsoft.com/technet/prodtechnol/winxppro/maintain/wificomp.mspx)」http://www.microsoft.com/technet/prodtechnol/winxppro/maintain/wificomp.mspx (英語)
  
[](#mainsection)[ページのトップへ](#mainsection)
  
##### 目次
  
-   [概要](https://technet.microsoft.com/ja-jp/library/30f90d1c-7faa-432f-b6c8-d4927fe36229(v=TechNet.10))  
-   [ソリューションの概要](https://technet.microsoft.com/ja-jp/library/30b42da7-6df7-4c17-8f81-e3129a989221(v=TechNet.10))  
-   [第 1 章 : ソリューションの概要](https://technet.microsoft.com/ja-jp/library/178db46c-9580-45ec-8ca8-565f7eec6521(v=TechNet.10))  
-   [設計ガイドの概要](https://technet.microsoft.com/ja-jp/library/e6114a19-d2e2-4f4f-9354-9a973b9e3221(v=TechNet.10))  
-   [第 2 章 : セキュリティで保護されたワイヤレス LAN ネットワークの構築方針を決定する](https://technet.microsoft.com/ja-jp/library/798406d6-d739-4d18-879b-9ae061fa320a(v=TechNet.10))  
-   [第 3 章 : セキュリティ保護されたワイヤレス LAN ソリューション アーキテクチャ](https://technet.microsoft.com/ja-jp/library/40ad9fbf-71fc-4ade-af08-905a35ae95e8(v=TechNet.10))  
-   [第 4 章 : 公開キー基盤を設計する](https://technet.microsoft.com/ja-jp/library/26fc5cef-602a-4340-9552-f48b4d7d674e(v=TechNet.10))  
-   第 5 章 : ワイヤレス LAN のセキュリティに対応した RADIUS インフラストラクチャを設計する  
-   [第 6 章 : 802.1X を使用してワイヤレス LAN のセキュリティを設計する](https://technet.microsoft.com/ja-jp/library/75fadbd9-af34-4322-96ad-c609aaaa5907(v=TechNet.10))  
-   [構築ガイドの概要](https://technet.microsoft.com/ja-jp/library/2b673333-12a3-4bac-affe-207d148e68a0(v=TechNet.10))  
-   [第 7 章 : 公開キー基盤を実装する](https://technet.microsoft.com/ja-jp/library/70a59275-e4e0-4849-af0e-1af643e7b8fe(v=TechNet.10))  
-   [第 8 章 : RADIUS インフラストラクチャを実装する](https://technet.microsoft.com/ja-jp/library/83bbb839-cc8d-4724-affb-a6ae08237f29(v=TechNet.10))  
-   [運用ガイドの概要](https://technet.microsoft.com/ja-jp/library/9519ea6d-b101-4981-b836-1168f32c7f1f(v=TechNet.10))  
-   [第 9 章 : ワイヤレス LAN のセキュリティに対応したインフラストラクチャを実装する](http://technet.microsoft.com/ja-jp/library/cc527040.aspx)  
-   [第 10 章 : 運用ガイドの紹介](https://technet.microsoft.com/ja-jp/library/75d535e0-e9ed-454c-98ec-2ed53ce54d52(v=TechNet.10))  
-   [第 11 章 : 公開キー基盤を管理する](https://technet.microsoft.com/ja-jp/library/9437df75-a375-40f2-9577-17755eec9545(v=TechNet.10))  
-   [第 12 章 : RADIUS およびワイヤレス LAN のセキュリティ インフラストラクチャを管理する](https://technet.microsoft.com/ja-jp/library/56beab30-3f67-4633-9074-f5f85241b1ab(v=TechNet.10))  
-   [テスト ガイドの概要](https://technet.microsoft.com/ja-jp/library/7e4b9c88-3b35-41f8-b81d-9546743da068(v=TechNet.10))  
-   [第 13 章 : テスト ガイド](https://technet.microsoft.com/ja-jp/library/4d249b34-b07e-46af-b8c7-e2ab85f0c26e(v=TechNet.10))  
-   [付録](https://technet.microsoft.com/ja-jp/library/c60be0d8-d416-41bd-b173-23bdcf56bcf0(v=TechNet.10))  
-   [付録 A: Windows のバージョン サポート表](https://technet.microsoft.com/ja-jp/library/d55ba82b-f689-4e8a-bddd-37ab55d9f4f1(v=TechNet.10))  
-   [付録 B: スクリプトとサポート ファイル](https://technet.microsoft.com/ja-jp/library/ecfc00f9-d0a2-44b0-b92e-73d714462bbe(v=TechNet.10))  
-   [付録 C: 配信ガイド](https://technet.microsoft.com/ja-jp/library/7fdf9700-34db-4b0f-92d1-f6a6d8dbe5e1(v=TechNet.10))  
-   [付録 D: WPA のサポート](http://technet.microsoft.com/ja-jp/library/cc527037.aspx)
  
[](#mainsection)[ページのトップへ](#mainsection)
